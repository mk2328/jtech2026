/*! jQuery v3.7.1 | (c) OpenJS Foundation and other contributors | jquery.org/license */ !function(e,i){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?i(e,!0):function(e){if(!e.document)throw Error("jQuery requires a window with a document");return i(e)}:i(e)}("undefined"!=typeof window?window:this,function(e,i){"use strict";var n=[],r=Object.getPrototypeOf,s=n.slice,a=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},o=n.push,l=n.indexOf,u={},c=u.toString,h=u.hasOwnProperty,d=h.toString,p=d.call(Object),f={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},g=function(e){return null!=e&&e===e.window},$=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,i,n){var r,s,a=(n=n||$).createElement("script");if(a.text=e,i)for(r in v)(s=i[r]||i.getAttribute&&i.getAttribute(r))&&a.setAttribute(r,s);n.head.appendChild(a).parentNode.removeChild(a)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[c.call(e)]||"object":typeof e}var x="3.7.1",b=/HTML$/i,w=function(e,i){return new w.fn.init(e,i)};function S(e){var i=!!e&&"length"in e&&e.length,n=_(e);return!m(e)&&!g(e)&&("array"===n||0===i||"number"==typeof i&&0<i&&i-1 in e)}function E(e,i){return e.nodeName&&e.nodeName.toLowerCase()===i.toLowerCase()}w.fn=w.prototype={jquery:x,constructor:w,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var i=w.merge(this.constructor(),e);return i.prevObject=this,i},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(i,n){return e.call(i,n,i)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(w.grep(this,function(e,i){return(i+1)%2}))},odd:function(){return this.pushStack(w.grep(this,function(e,i){return i%2}))},eq:function(e){var i=this.length,n=+e+(e<0?i:0);return this.pushStack(0<=n&&n<i?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,i,n,r,s,a,o=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[l]||{},l++),"object"==typeof o||m(o)||(o={}),l===u&&(o=this,l--);l<u;l++)if(null!=(e=arguments[l]))for(i in e)r=e[i],"__proto__"!==i&&o!==r&&(c&&r&&(w.isPlainObject(r)||(s=Array.isArray(r)))?(n=o[i],a=s&&!Array.isArray(n)?[]:s||w.isPlainObject(n)?n:{},s=!1,o[i]=w.extend(c,a,r)):void 0!==r&&(o[i]=r));return o},w.extend({expando:"jQuery"+(x+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw Error(e)},noop:function(){},isPlainObject:function(e){var i,n;return!(!e||"[object Object]"!==c.call(e))&&(!(i=r(e))||"function"==typeof(n=h.call(i,"constructor")&&i.constructor)&&d.call(n)===p)},isEmptyObject:function(e){var i;for(i in e)return!1;return!0},globalEval:function(e,i,n){y(e,{nonce:i&&i.nonce},n)},each:function(e,i){var n,r=0;if(S(e))for(n=e.length;r<n&&!1!==i.call(e[r],r,e[r]);r++);else for(r in e)if(!1===i.call(e[r],r,e[r]))break;return e},text:function(e){var i,n="",r=0,s=e.nodeType;if(!s)for(;i=e[r++];)n+=w.text(i);return 1===s||11===s?e.textContent:9===s?e.documentElement.textContent:3===s||4===s?e.nodeValue:n},makeArray:function(e,i){var n=i||[];return null!=e&&(S(Object(e))?w.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,i,n){return null==i?-1:l.call(i,e,n)},isXMLDoc:function(e){var i=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!b.test(i||n&&n.nodeName||"HTML")},merge:function(e,i){for(var n=+i.length,r=0,s=e.length;r<n;r++)e[s++]=i[r];return e.length=s,e},grep:function(e,i,n){for(var r=[],s=0,a=e.length,o=!n;s<a;s++)!i(e[s],s)!==o&&r.push(e[s]);return r},map:function(e,i,n){var r,s,o=0,l=[];if(S(e))for(r=e.length;o<r;o++)null!=(s=i(e[o],o,n))&&l.push(s);else for(o in e)null!=(s=i(e[o],o,n))&&l.push(s);return a(l)},guid:1,support:f}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,i){u["[object "+i+"]"]=i.toLowerCase()});var T=n.pop,M=n.sort,C=n.splice,D="[\\x20\\t\\r\\n\\f]",A=RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g");w.contains=function(e,i){var n=i&&i.parentNode;return e===n||!(!n||1!==n.nodeType||!(e.contains?e.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))};var P=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function L(e,i){return i?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}w.escapeSelector=function(e){return(e+"").replace(P,L)};var R=$,I=o;!function(){var i,r,a,o,u,c,d,p,m,g,$=I,v=w.expando,y=0,_=0,x=ei(),b=ei(),S=ei(),P=ei(),L=function(e,i){return e===i&&(u=!0),0},k="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="(?:\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",N="\\["+D+"*("+O+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+D+"*\\]",F=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",U=RegExp(D+"+","g"),z=RegExp("^"+D+"*,"+D+"*"),B=RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),H=RegExp(D+"|>"),G=RegExp(F),V=RegExp("^"+O+"$"),W={ID:RegExp("^#("+O+")"),CLASS:RegExp("^\\.("+O+")"),TAG:RegExp("^("+O+"|[*])"),ATTR:RegExp("^"+N),PSEUDO:RegExp("^"+F),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:RegExp("^(?:"+k+")$","i"),needsContext:RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,j=/^h\d$/i,q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,Z=RegExp("\\\\[\\da-fA-F]{1,6}"+D+"?|\\\\([^\\r\\n\\f])","g"),K=function(e,i){var n="0x"+e.slice(1)-65536;return i||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},J=function(){ec()},Q=ef(function(e){return!0===e.disabled&&E(e,"fieldset")},{dir:"parentNode",next:"legend"});try{$.apply(n=s.call(R.childNodes),R.childNodes),n[R.childNodes.length].nodeType}catch(ee){$={apply:function(e,i){I.apply(e,s.call(i))},call:function(e){I.apply(e,s.call(arguments,1))}}}function et(e,i,n,r){var s,a,o,l,u,h,d,g=i&&i.ownerDocument,y=i?i.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==y&&9!==y&&11!==y)return n;if(!r&&(ec(i),i=i||c,p)){if(11!==y&&(u=q.exec(e))){if(s=u[1]){if(9===y){if(!(o=i.getElementById(s)))return n;if(o.id===s)return $.call(n,o),n}else if(g&&(o=g.getElementById(s))&&et.contains(i,o)&&o.id===s)return $.call(n,o),n}else{if(u[2])return $.apply(n,i.getElementsByTagName(e)),n;if((s=u[3])&&i.getElementsByClassName)return $.apply(n,i.getElementsByClassName(s)),n}}if(!(P[e+" "]||m&&m.test(e))){if(d=e,g=i,1===y&&(H.test(e)||B.test(e))){for((g=Y.test(e)&&eu(i.parentNode)||i)==i&&f.scope||((l=i.getAttribute("id"))?l=w.escapeSelector(l):i.setAttribute("id",l=v)),a=(h=ed(e)).length;a--;)h[a]=(l?"#"+l:":scope")+" "+ep(h[a]);d=h.join(",")}try{return $.apply(n,g.querySelectorAll(d)),n}catch(_){P(e,!0)}finally{l===v&&i.removeAttribute("id")}}}return e8(e.replace(A,"$1"),i,n,r)}function ei(){var e=[];return function i(n,s){return e.push(n+" ")>r.cacheLength&&delete i[e.shift()],i[n+" "]=s}}function en(e){return e[v]=!0,e}function er(e){var i=c.createElement("fieldset");try{return!!e(i)}catch(n){return!1}finally{i.parentNode&&i.parentNode.removeChild(i),i=null}}function es(e){return function(i){return E(i,"input")&&i.type===e}}function ea(e){return function(i){return(E(i,"input")||E(i,"button"))&&i.type===e}}function eo(e){return function(i){return"form"in i?i.parentNode&&!1===i.disabled?"label"in i?"label"in i.parentNode?i.parentNode.disabled===e:i.disabled===e:i.isDisabled===e||!e!==i.isDisabled&&Q(i)===e:i.disabled===e:"label"in i&&i.disabled===e}}function el(e){return en(function(i){return i=+i,en(function(n,r){for(var s,a=e([],n.length,i),o=a.length;o--;)n[s=a[o]]&&(n[s]=!(r[s]=n[s]))})})}function eu(e){return e&&void 0!==e.getElementsByTagName&&e}function ec(e){var i,n=e?e.ownerDocument||e:R;return n!=c&&9===n.nodeType&&n.documentElement&&(d=(c=n).documentElement,p=!w.isXMLDoc(c),g=d.matches||d.webkitMatchesSelector||d.msMatchesSelector,d.msMatchesSelector&&R!=c&&(i=c.defaultView)&&i.top!==i&&i.addEventListener("unload",J),f.getById=er(function(e){return d.appendChild(e).id=w.expando,!c.getElementsByName||!c.getElementsByName(w.expando).length}),f.disconnectedMatch=er(function(e){return g.call(e,"*")}),f.scope=er(function(){return c.querySelectorAll(":scope")}),f.cssHas=er(function(){try{return c.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),f.getById?(r.filter.ID=function(e){var i=e.replace(Z,K);return function(e){return e.getAttribute("id")===i}},r.find.ID=function(e,i){if(void 0!==i.getElementById&&p){var n=i.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var i=e.replace(Z,K);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===i}},r.find.ID=function(e,i){if(void 0!==i.getElementById&&p){var n,r,s,a=i.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(s=i.getElementsByName(e),r=0;a=s[r++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),r.find.TAG=function(e,i){return void 0!==i.getElementsByTagName?i.getElementsByTagName(e):i.querySelectorAll(e)},r.find.CLASS=function(e,i){if(void 0!==i.getElementsByClassName&&p)return i.getElementsByClassName(e)},m=[],er(function(e){var i;d.appendChild(e).innerHTML="<a id='"+v+"' href='' disabled='disabled'></a><select id='"+v+"-\r\\' disabled='disabled'><option selected=''></option></select>",e.querySelectorAll("[selected]").length||m.push("\\["+D+"*(?:value|"+k+")"),e.querySelectorAll("[id~="+v+"-]").length||m.push("~="),e.querySelectorAll("a#"+v+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll(":checked").length||m.push(":checked"),(i=c.createElement("input")).setAttribute("type","hidden"),e.appendChild(i).setAttribute("name","D"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),(i=c.createElement("input")).setAttribute("name",""),e.appendChild(i),e.querySelectorAll("[name='']").length||m.push("\\["+D+"*name"+D+"*="+D+"*(?:''|\"\")")}),f.cssHas||m.push(":has"),m=m.length&&RegExp(m.join("|")),L=function(e,i){if(e===i)return u=!0,0;var n=!e.compareDocumentPosition-!i.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(i.ownerDocument||i)?e.compareDocumentPosition(i):1)||!f.sortDetached&&i.compareDocumentPosition(e)===n?e===c||e.ownerDocument==R&&et.contains(R,e)?-1:i===c||i.ownerDocument==R&&et.contains(R,i)?1:o?l.call(o,e)-l.call(o,i):0:4&n?-1:1)}),c}for(i in et.matches=function(e,i){return et(e,null,null,i)},et.matchesSelector=function(e,i){if(ec(e),p&&!P[i+" "]&&(!m||!m.test(i)))try{var n=g.call(e,i);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){P(i,!0)}return 0<et(i,c,null,[e]).length},et.contains=function(e,i){return(e.ownerDocument||e)!=c&&ec(e),w.contains(e,i)},et.attr=function(e,i){(e.ownerDocument||e)!=c&&ec(e);var n=r.attrHandle[i.toLowerCase()],s=n&&h.call(r.attrHandle,i.toLowerCase())?n(e,i,!p):void 0;return void 0!==s?s:e.getAttribute(i)},et.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},w.uniqueSort=function(e){var i,n=[],r=0,a=0;if(u=!f.sortStable,o=!f.sortStable&&s.call(e,0),M.call(e,L),u){for(;i=e[a++];)i===e[a]&&(r=n.push(a));for(;r--;)C.call(e,n[r],1)}return o=null,e},w.fn.uniqueSort=function(){return this.pushStack(w.uniqueSort(s.apply(this)))},(r=w.expr={cacheLength:50,createPseudo:en,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,K),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,K),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||et.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&et.error(e[0]),e},PSEUDO:function(e){var i,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(i=ed(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(e[0]=e[0].slice(0,i),e[2]=n.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var i=e.replace(Z,K).toLowerCase();return"*"===e?function(){return!0}:function(e){return E(e,i)}},CLASS:function(e){var i=x[e+" "];return i||(i=RegExp("(^|"+D+")"+e+"("+D+"|$)"),x(e,function(e){return i.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,i,n){return function(r){var s=et.attr(r,e);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&-1<s.indexOf(n):"$="===i?n&&s.slice(-n.length)===n:"~="===i?-1<(" "+s.replace(U," ")+" ").indexOf(n):"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,i,n,r,s){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),l="of-type"===i;return 1===r&&0===s?function(e){return!!e.parentNode}:function(i,n,u){var c,h,d,p,f,m=a!==o?"nextSibling":"previousSibling",g=i.parentNode,$=l&&i.nodeName.toLowerCase(),_=!u&&!l,x=!1;if(g){if(a){for(;m;){for(d=i;d=d[m];)if(l?E(d,$):1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&_){for(x=(p=(c=(h=g[v]||(g[v]={}))[e]||[])[0]===y&&c[1])&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(x=p=0)||f.pop();)if(1===d.nodeType&&++x&&d===i){h[e]=[y,p,x];break}}else if(_&&(x=p=(c=(h=i[v]||(i[v]={}))[e]||[])[0]===y&&c[1]),!1===x)for(;(d=++p&&d&&d[m]||(x=p=0)||f.pop())&&(!((l?E(d,$):1===d.nodeType)&&++x)||(_&&((h=d[v]||(d[v]={}))[e]=[y,x]),d!==i)););return(x-=s)===r||x%r==0&&0<=x/r}}},PSEUDO:function(e,i){var n,s=r.pseudos[e]||r.setFilters[e.toLowerCase()]||et.error("unsupported pseudo: "+e);return s[v]?s(i):1<s.length?(n=[e,e,"",i],r.setFilters.hasOwnProperty(e.toLowerCase())?en(function(e,n){for(var r,a=s(e,i),o=a.length;o--;)e[r=l.call(e,a[o])]=!(n[r]=a[o])}):function(e){return s(e,0,n)}):s}},pseudos:{not:en(function(e){var i=[],n=[],r=ey(e.replace(A,"$1"));return r[v]?en(function(e,i,n,s){for(var a,o=r(e,null,s,[]),l=e.length;l--;)(a=o[l])&&(e[l]=!(i[l]=a))}):function(e,s,a){return i[0]=e,r(i,null,a,n),i[0]=null,!n.pop()}}),has:en(function(e){return function(i){return 0<et(e,i).length}}),contains:en(function(e){return e=e.replace(Z,K),function(i){return -1<(i.textContent||w.text(i)).indexOf(e)}}),lang:en(function(e){return V.test(e||"")||et.error("unsupported lang: "+e),e=e.replace(Z,K).toLowerCase(),function(i){var n;do if(n=p?i.lang:i.getAttribute("xml:lang")||i.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-");while((i=i.parentNode)&&1===i.nodeType);return!1}}),target:function(i){var n=e.location&&e.location.hash;return n&&n.slice(1)===i.id},root:function(e){return e===d},focus:function(e){return e===function(){try{return c.activeElement}catch(e){}}()&&c.hasFocus()&&!!(e.type||e.href||~e.tabIndex)},enabled:eo(!1),disabled:eo(!0),checked:function(e){return E(e,"input")&&!!e.checked||E(e,"option")&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return j.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){return E(e,"input")&&"button"===e.type||E(e,"button")},text:function(e){var i;return E(e,"input")&&"text"===e.type&&(null==(i=e.getAttribute("type"))||"text"===i.toLowerCase())},first:el(function(){return[0]}),last:el(function(e,i){return[i-1]}),eq:el(function(e,i,n){return[n<0?n+i:n]}),even:el(function(e,i){for(var n=0;n<i;n+=2)e.push(n);return e}),odd:el(function(e,i){for(var n=1;n<i;n+=2)e.push(n);return e}),lt:el(function(e,i,n){var r;for(r=n<0?n+i:i<n?i:n;0<=--r;)e.push(r);return e}),gt:el(function(e,i,n){for(var r=n<0?n+i:n;++r<i;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[i]=es(i);for(i in{submit:!0,reset:!0})r.pseudos[i]=ea(i);function eh(){}function ed(e,i){var n,s,a,o,l,u,c,h=b[e+" "];if(h)return i?0:h.slice(0);for(l=e,u=[],c=r.preFilter;l;){for(o in(!n||(s=z.exec(l)))&&(s&&(l=l.slice(s[0].length)||l),u.push(a=[])),n=!1,(s=B.exec(l))&&(n=s.shift(),a.push({value:n,type:s[0].replace(A," ")}),l=l.slice(n.length)),r.filter)(s=W[o].exec(l))&&(!c[o]||(s=c[o](s)))&&(n=s.shift(),a.push({value:n,type:o,matches:s}),l=l.slice(n.length));if(!n)break}return i?l.length:l?et.error(e):b(e,u).slice(0)}function ep(e){for(var i=0,n=e.length,r="";i<n;i++)r+=e[i].value;return r}function ef(e,i,n){var r=i.dir,s=i.next,a=s||r,o=n&&"parentNode"===a,l=_++;return i.first?function(i,n,s){for(;i=i[r];)if(1===i.nodeType||o)return e(i,n,s);return!1}:function(i,n,u){var c,h,d=[y,l];if(u){for(;i=i[r];)if((1===i.nodeType||o)&&e(i,n,u))return!0}else for(;i=i[r];)if(1===i.nodeType||o){if(h=i[v]||(i[v]={}),s&&E(i,s))i=i[r]||i;else{if((c=h[a])&&c[0]===y&&c[1]===l)return d[2]=c[2];if((h[a]=d)[2]=e(i,n,u))return!0}}return!1}}function em(e){return 1<e.length?function(i,n,r){for(var s=e.length;s--;)if(!e[s](i,n,r))return!1;return!0}:e[0]}function eg(e,i,n,r,s){for(var a,o=[],l=0,u=e.length,c=null!=i;l<u;l++)(a=e[l])&&(n&&!n(a,r,s)||(o.push(a),c&&i.push(l)));return o}function e$(e,i,n,r,s,a){return r&&!r[v]&&(r=e$(r)),s&&!s[v]&&(s=e$(s,a)),en(function(a,o,u,c){var h,d,p,f,m=[],g=[],v=o.length,y=a||function(e,i,n){for(var r=0,s=i.length;r<s;r++)et(e,i[r],n);return n}(i||"*",u.nodeType?[u]:u,[]),_=e&&(a||!i)?eg(y,m,e,u,c):y;if(n?n(_,f=s||(a?e:v||r)?[]:o,u,c):f=_,r)for(h=eg(f,g),r(h,[],u,c),d=h.length;d--;)(p=h[d])&&(f[g[d]]=!(_[g[d]]=p));if(a){if(s||e){if(s){for(h=[],d=f.length;d--;)(p=f[d])&&h.push(_[d]=p);s(null,f=[],h,c)}for(d=f.length;d--;)(p=f[d])&&-1<(h=s?l.call(a,p):m[d])&&(a[h]=!(o[h]=p))}}else f=eg(f===o?f.splice(v,f.length):f),s?s(null,o,f,c):$.apply(o,f)})}function ev(e){for(var i,n,s,o=e.length,u=r.relative[e[0].type],c=u||r.relative[" "],h=u?1:0,d=ef(function(e){return e===i},c,!0),p=ef(function(e){return -1<l.call(i,e)},c,!0),f=[function(e,n,r){var s=!u&&(r||n!=a)||((i=n).nodeType?d(e,n,r):p(e,n,r));return i=null,s}];h<o;h++)if(n=r.relative[e[h].type])f=[ef(em(f),n)];else{if((n=r.filter[e[h].type].apply(null,e[h].matches))[v]){for(s=++h;s<o&&!r.relative[e[s].type];s++);return e$(1<h&&em(f),1<h&&ep(e.slice(0,h-1).concat({value:" "===e[h-2].type?"*":""})).replace(A,"$1"),n,h<s&&ev(e.slice(h,s)),s<o&&ev(e=e.slice(s)),s<o&&ep(e))}f.push(n)}return em(f)}function ey(e,i){var n,s,o,l,u,h,d=[],f=[],m=S[e+" "];if(!m){for(i||(i=ed(e)),n=i.length;n--;)(m=ev(i[n]))[v]?d.push(m):f.push(m);(m=S(e,(s=f,l=0<(o=d).length,u=0<s.length,h=function(e,i,n,h,d){var f,m,g,v=0,_="0",x=e&&[],b=[],S=a,E=e||u&&r.find.TAG("*",d),M=y+=null==S?1:Math.random()||.1,C=E.length;for(d&&(a=i==c||i||d);_!==C&&null!=(f=E[_]);_++){if(u&&f){for(m=0,i||f.ownerDocument==c||(ec(f),n=!p);g=s[m++];)if(g(f,i||c,n)){$.call(h,f);break}d&&(y=M)}l&&((f=!g&&f)&&v--,e&&x.push(f))}if(v+=_,l&&_!==v){for(m=0;g=o[m++];)g(x,b,i,n);if(e){if(0<v)for(;_--;)x[_]||b[_]||(b[_]=T.call(h));b=eg(b)}$.apply(h,b),d&&!e&&0<b.length&&1<v+o.length&&w.uniqueSort(h)}return d&&(y=M,a=S),x},l?en(h):h))).selector=e}return m}function e8(e,i,n,s){var a,o,l,u,c,h="function"==typeof e&&e,d=!s&&ed(e=h.selector||e);if(n=n||[],1===d.length){if(2<(o=d[0]=d[0].slice(0)).length&&"ID"===(l=o[0]).type&&9===i.nodeType&&p&&r.relative[o[1].type]){if(!(i=(r.find.ID(l.matches[0].replace(Z,K),i)||[])[0]))return n;h&&(i=i.parentNode),e=e.slice(o.shift().value.length)}for(a=W.needsContext.test(e)?0:o.length;a--&&(l=o[a],!r.relative[u=l.type]);)if((c=r.find[u])&&(s=c(l.matches[0].replace(Z,K),Y.test(o[0].type)&&eu(i.parentNode)||i))){if(o.splice(a,1),!(e=s.length&&ep(o)))return $.apply(n,s),n;break}}return(h||ey(e,d))(s,i,!p,n,!i||Y.test(e)&&eu(i.parentNode)||i),n}eh.prototype=r.filters=r.pseudos,r.setFilters=new eh,f.sortStable=v.split("").sort(L).join("")===v,ec(),f.sortDetached=er(function(e){return 1&e.compareDocumentPosition(c.createElement("fieldset"))}),w.find=et,w.expr[":"]=w.expr.pseudos,w.unique=w.uniqueSort,et.compile=ey,et.select=e8,et.setDocument=ec,et.tokenize=ed,et.escape=w.escapeSelector,et.getText=w.text,et.isXML=w.isXMLDoc,et.selectors=w.expr,et.support=w.support,et.uniqueSort=w.uniqueSort}();var k=function(e,i,n){for(var r=[],s=void 0!==n;(e=e[i])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&w(e).is(n))break;r.push(e)}return r},O=function(e,i){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==i&&n.push(e);return n},N=w.expr.match.needsContext,F=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function U(e,i,n){return m(i)?w.grep(e,function(e,r){return!!i.call(e,r,e)!==n}):i.nodeType?w.grep(e,function(e){return e===i!==n}):"string"!=typeof i?w.grep(e,function(e){return -1<l.call(i,e)!==n}):w.filter(i,e,n)}w.filter=function(e,i,n){var r=i[0];return n&&(e=":not("+e+")"),1===i.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(i,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var i,n,r=this.length,s=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(i=0;i<r;i++)if(w.contains(s[i],this))return!0}));for(n=this.pushStack([]),i=0;i<r;i++)w.find(e,s[i],n);return 1<r?w.uniqueSort(n):n},filter:function(e){return this.pushStack(U(this,e||[],!1))},not:function(e){return this.pushStack(U(this,e||[],!0))},is:function(e){return!!U(this,"string"==typeof e&&N.test(e)?w(e):e||[],!1).length}});var z,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,i,n){var r,s;if(!e)return this;if(n=n||z,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:B.exec(e))||!r[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(r[1]){if(i=i instanceof w?i[0]:i,w.merge(this,w.parseHTML(r[1],i&&i.nodeType?i.ownerDocument||i:$,!0)),F.test(r[1])&&w.isPlainObject(i))for(r in i)m(this[r])?this[r](i[r]):this.attr(r,i[r]);return this}return(s=$.getElementById(r[2]))&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,z=w($);var H=/^(?:parents|prev(?:Until|All))/,G={children:!0,contents:!0,next:!0,prev:!0};function V(e,i){for(;(e=e[i])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var i=w(e,this),n=i.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,i[e]))return!0})},closest:function(e,i){var n,r=0,s=this.length,a=[],o="string"!=typeof e&&w(e);if(!N.test(e)){for(;r<s;r++)for(n=this[r];n&&n!==i;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&w.find.matchesSelector(n,e))){a.push(n);break}}return this.pushStack(1<a.length?w.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?l.call(w(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,i){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,i))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var i=e.parentNode;return i&&11!==i.nodeType?i:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,i,n){return k(e,"parentNode",n)},next:function(e){return V(e,"nextSibling")},prev:function(e){return V(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,i,n){return k(e,"nextSibling",n)},prevUntil:function(e,i,n){return k(e,"previousSibling",n)},siblings:function(e){return O((e.parentNode||{}).firstChild,e)},children:function(e){return O(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(E(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,i){w.fn[e]=function(n,r){var s=w.map(this,i,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(s=w.filter(r,s)),1<this.length&&(G[e]||w.uniqueSort(s),H.test(e)&&s.reverse()),this.pushStack(s)}});var W=/[^\x20\t\r\n\f]+/g;function X(e){return e}function j(e){throw e}function q(e,i,n,r){var s;try{e&&m(s=e.promise)?s.call(e).done(i).fail(n):e&&m(s=e.then)?s.call(e,i,n):i.apply(void 0,[e].slice(r))}catch(a){n.apply(void 0,[a])}}w.Callbacks=function(e){e="string"==typeof e?(i=e,n={},w.each(i.match(W)||[],function(e,i){n[i]=!0}),n):w.extend({},e);var i,n,r,s,a,o,l=[],u=[],c=-1,h=function(){for(o=o||e.once,a=r=!0;u.length;c=-1)for(s=u.shift();++c<l.length;)!1===l[c].apply(s[0],s[1])&&e.stopOnFalse&&(c=l.length,s=!1);e.memory||(s=!1),r=!1,o&&(l=s?[]:"")},d={add:function(){return l&&(s&&!r&&(c=l.length-1,u.push(s)),function i(n){w.each(n,function(n,r){m(r)?e.unique&&d.has(r)||l.push(r):r&&r.length&&"string"!==_(r)&&i(r)})}(arguments),s&&!r&&h()),this},remove:function(){return w.each(arguments,function(e,i){for(var n;-1<(n=w.inArray(i,l,n));)l.splice(n,1),n<=c&&c--}),this},has:function(e){return e?-1<w.inArray(e,l):0<l.length},empty:function(){return l&&(l=[]),this},disable:function(){return o=u=[],l=s="",this},disabled:function(){return!l},lock:function(){return o=u=[],s||r||(l=s=""),this},locked:function(){return!!o},fireWith:function(e,i){return o||(i=[e,(i=i||[]).slice?i.slice():i],u.push(i),r||h()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},w.extend({Deferred:function(i){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",s={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return s.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(i){w.each(n,function(n,r){var s=m(e[r[4]])&&e[r[4]];a[r[1]](function(){var e=s&&s.apply(this,arguments);e&&m(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this,s?[e]:arguments)})}),e=null}).promise()},then:function(i,r,s){var a=0;function o(i,n,r,s){return function(){var l=this,u=arguments,c=function(){var e,c;if(!(i<a)){if((e=r.apply(l,u))===n.promise())throw TypeError("Thenable self-resolution");m(c=e&&("object"==typeof e||"function"==typeof e)&&e.then)?s?c.call(e,o(a,n,X,s),o(a,n,j,s)):(a++,c.call(e,o(a,n,X,s),o(a,n,j,s),o(a,n,X,n.notifyWith))):(r!==X&&(l=void 0,u=[e]),(s||n.resolveWith)(l,u))}},h=s?c:function(){try{c()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,h.error),a<=i+1&&(r!==j&&(l=void 0,u=[e]),n.rejectWith(l,u))}};i?h():(w.Deferred.getErrorHook?h.error=w.Deferred.getErrorHook():w.Deferred.getStackHook&&(h.error=w.Deferred.getStackHook()),e.setTimeout(h))}}return w.Deferred(function(e){n[0][3].add(o(0,e,m(s)?s:X,e.notifyWith)),n[1][3].add(o(0,e,m(i)?i:X)),n[2][3].add(o(0,e,m(r)?r:j))}).promise()},promise:function(e){return null!=e?w.extend(e,s):s}},a={};return w.each(n,function(e,i){var o=i[2],l=i[5];s[i[1]]=o.add,l&&o.add(function(){r=l},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),o.add(i[3].fire),a[i[0]]=function(){return a[i[0]+"With"](this===a?void 0:this,arguments),this},a[i[0]+"With"]=o.fireWith}),s.promise(a),i&&i.call(a,a),a},when:function(e){var i=arguments.length,n=i,r=Array(n),a=s.call(arguments),o=w.Deferred(),l=function(e){return function(n){r[e]=this,a[e]=1<arguments.length?s.call(arguments):n,--i||o.resolveWith(r,a)}};if(i<=1&&(q(e,o.done(l(n)).resolve,o.reject,!i),"pending"===o.state()||m(a[n]&&a[n].then)))return o.then();for(;n--;)q(a[n],l(n),o.reject);return o.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(i,n){e.console&&e.console.warn&&i&&Y.test(i.name)&&e.console.warn("jQuery.Deferred exception: "+i.message,i.stack,n)},w.readyException=function(i){e.setTimeout(function(){throw i})};var Z=w.Deferred();function K(){$.removeEventListener("DOMContentLoaded",K),e.removeEventListener("load",K),w.ready()}w.fn.ready=function(e){return Z.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0)!==e&&0<--w.readyWait||Z.resolveWith($,[w])}}),w.ready.then=Z.then,"complete"!==$.readyState&&("loading"===$.readyState||$.documentElement.doScroll)?($.addEventListener("DOMContentLoaded",K),e.addEventListener("load",K)):e.setTimeout(w.ready);var J=function(e,i,n,r,s,a,o){var l=0,u=e.length,c=null==n;if("object"===_(n))for(l in s=!0,n)J(e,i,l,n[l],!0,a,o);else if(void 0!==r&&(s=!0,m(r)||(o=!0),c&&(o?(i.call(e,r),i=null):(c=i,i=function(e,i,n){return c.call(w(e),n)})),i))for(;l<u;l++)i(e[l],n,o?r:r.call(e[l],l,i(e[l],n)));return s?e:c?i.call(e):u?i(e[0],n):a},Q=/^-ms-/,ee=/-([a-z])/g;function et(e,i){return i.toUpperCase()}function ei(e){return e.replace(Q,"ms-").replace(ee,et)}var en=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function er(){this.expando=w.expando+er.uid++}er.uid=1,er.prototype={cache:function(e){var i=e[this.expando];return i||(i={},en(e)&&(e.nodeType?e[this.expando]=i:Object.defineProperty(e,this.expando,{value:i,configurable:!0}))),i},set:function(e,i,n){var r,s=this.cache(e);if("string"==typeof i)s[ei(i)]=n;else for(r in i)s[ei(r)]=i[r];return s},get:function(e,i){return void 0===i?this.cache(e):e[this.expando]&&e[this.expando][ei(i)]},access:function(e,i,n){return void 0===i||i&&"string"==typeof i&&void 0===n?this.get(e,i):(this.set(e,i,n),void 0!==n?n:i)},remove:function(e,i){var n,r=e[this.expando];if(void 0!==r){if(void 0!==i)for(n=(i=Array.isArray(i)?i.map(ei):((i=ei(i))in r)?[i]:i.match(W)||[]).length;n--;)delete r[i[n]];(void 0===i||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var i=e[this.expando];return void 0!==i&&!w.isEmptyObject(i)}};var es=new er,ea=new er,eo=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,el=/[A-Z]/g;function eu(e,i,n){var r,s;if(void 0===n&&1===e.nodeType){if(r="data-"+i.replace(el,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(s=n)||"false"!==s&&("null"===s?null:s===+s+""?+s:eo.test(s)?JSON.parse(s):s)}catch(a){}ea.set(e,i,n)}else n=void 0}return n}w.extend({hasData:function(e){return ea.hasData(e)||es.hasData(e)},data:function(e,i,n){return ea.access(e,i,n)},removeData:function(e,i){ea.remove(e,i)},_data:function(e,i,n){return es.access(e,i,n)},_removeData:function(e,i){es.remove(e,i)}}),w.fn.extend({data:function(e,i){var n,r,s,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(s=ea.get(a),1===a.nodeType&&!es.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&eu(a,r=ei(r.slice(5)),s[r]);es.set(a,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){ea.set(this,e)}):J(this,function(i){var n;if(a&&void 0===i)return void 0!==(n=ea.get(a,e))?n:void 0!==(n=eu(a,e))?n:void 0;this.each(function(){ea.set(this,e,i)})},null,i,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){ea.remove(this,e)})}}),w.extend({queue:function(e,i,n){var r;if(e)return i=(i||"fx")+"queue",r=es.get(e,i),n&&(!r||Array.isArray(n)?r=es.access(e,i,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,i){i=i||"fx";var n=w.queue(e,i),r=n.length,s=n.shift(),a=w._queueHooks(e,i);"inprogress"===s&&(s=n.shift(),r--),s&&("fx"===i&&n.unshift("inprogress"),delete a.stop,s.call(e,function(){w.dequeue(e,i)},a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,i){var n=i+"queueHooks";return es.get(e,n)||es.access(e,n,{empty:w.Callbacks("once memory").add(function(){es.remove(e,[i+"queue",n])})})}}),w.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===i?this:this.each(function(){var n=w.queue(this,e,i);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,r=1,s=w.Deferred(),a=this,o=this.length,l=function(){--r||s.resolveWith(a,[a])};for("string"!=typeof e&&(i=e,e=void 0),e=e||"fx";o--;)(n=es.get(a[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(l));return l(),s.promise(i)}});var ec=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,eh=RegExp("^(?:([+-])=|)("+ec+")([a-z%]*)$","i"),ed=["Top","Right","Bottom","Left"],ep=$.documentElement,ef=function(e){return w.contains(e.ownerDocument,e)},em={composed:!0};ep.getRootNode&&(ef=function(e){return w.contains(e.ownerDocument,e)||e.getRootNode(em)===e.ownerDocument});var eg=function(e,i){return"none"===(e=i||e).style.display||""===e.style.display&&ef(e)&&"none"===w.css(e,"display")};function e$(e,i,n,r){var s,a,o=20,l=r?function(){return r.cur()}:function(){return w.css(e,i,"")},u=l(),c=n&&n[3]||(w.cssNumber[i]?"":"px"),h=e.nodeType&&(w.cssNumber[i]||"px"!==c&&+u)&&eh.exec(w.css(e,i));if(h&&h[3]!==c){for(u/=2,c=c||h[3],h=+u||1;o--;)w.style(e,i,h+c),(1-a)*(1-(a=l()/u||.5))<=0&&(o=0),h/=a;h*=2,w.style(e,i,h+c),n=n||[]}return n&&(h=+h||+u||0,s=n[1]?h+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=h,r.end=s)),s}var ev={};function ey(e,i){for(var n,r,s,a,o,l,u,c=[],h=0,d=e.length;h<d;h++)(r=e[h]).style&&(n=r.style.display,i?("none"===n&&(c[h]=es.get(r,"display")||null,c[h]||(r.style.display="")),""===r.style.display&&eg(r)&&(c[h]=(u=o=a=void 0,o=(s=r).ownerDocument,(u=ev[l=s.nodeName])||(a=o.body.appendChild(o.createElement(l)),u=w.css(a,"display"),a.parentNode.removeChild(a),"none"===u&&(u="block"),ev[l]=u)))):"none"!==n&&(c[h]="none",es.set(r,"display",n)));for(h=0;h<d;h++)null!=c[h]&&(e[h].style.display=c[h]);return e}w.fn.extend({show:function(){return ey(this,!0)},hide:function(){return ey(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){eg(this)?w(this).show():w(this).hide()})}});var e8,e_,ex=/^(?:checkbox|radio)$/i,eb=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ew=/^$|^module$|\/(?:java|ecma)script/i;e8=$.createDocumentFragment().appendChild($.createElement("div")),(e_=$.createElement("input")).setAttribute("type","radio"),e_.setAttribute("checked","checked"),e_.setAttribute("name","t"),e8.appendChild(e_),f.checkClone=e8.cloneNode(!0).cloneNode(!0).lastChild.checked,e8.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!e8.cloneNode(!0).lastChild.defaultValue,e8.innerHTML="<option></option>",f.option=!!e8.lastChild;var eS={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function eE(e,i){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(i||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(i||"*"):[],void 0===i||i&&E(e,i)?w.merge([e],n):n}function eT(e,i){for(var n=0,r=e.length;n<r;n++)es.set(e[n],"globalEval",!i||es.get(i[n],"globalEval"))}eS.tbody=eS.tfoot=eS.colgroup=eS.caption=eS.thead,eS.th=eS.td,f.option||(eS.optgroup=eS.option=[1,"<select multiple='multiple'>","</select>"]);var eM=/<|&#?\w+;/;function eC(e,i,n,r,s){for(var a,o,l,u,c,h,d=i.createDocumentFragment(),p=[],f=0,m=e.length;f<m;f++)if((a=e[f])||0===a){if("object"===_(a))w.merge(p,a.nodeType?[a]:a);else if(eM.test(a)){for(o=o||d.appendChild(i.createElement("div")),u=eS[l=(eb.exec(a)||["",""])[1].toLowerCase()]||eS._default,o.innerHTML=u[1]+w.htmlPrefilter(a)+u[2],h=u[0];h--;)o=o.lastChild;w.merge(p,o.childNodes),(o=d.firstChild).textContent=""}else p.push(i.createTextNode(a))}for(d.textContent="",f=0;a=p[f++];)if(r&&-1<w.inArray(a,r))s&&s.push(a);else if(c=ef(a),o=eE(d.appendChild(a),"script"),c&&eT(o),n)for(h=0;a=o[h++];)ew.test(a.type||"")&&n.push(a);return d}var eD=/^([^.]*)(?:\.(.+)|)/;function eA(){return!0}function e0(){return!1}function e1(e,i,n,r,s,a){var o,l;if("object"==typeof i){for(l in"string"!=typeof n&&(r=r||n,n=void 0),i)e1(e,l,n,r,i[l],a);return e}if(null==r&&null==s?(s=n,r=n=void 0):null==s&&("string"==typeof n?(s=r,r=void 0):(s=r,r=n,n=void 0)),!1===s)s=e0;else if(!s)return e;return 1===a&&(o=s,(s=function(e){return w().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=w.guid++)),e.each(function(){w.event.add(this,i,s,r,n)})}function eP(e,i,n){n?(es.set(e,i,!1),w.event.add(e,i,{namespace:!1,handler:function(e){var n,r=es.get(this,i);if(1&e.isTrigger&&this[i]){if(r)(w.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),es.set(this,i,r),this[i](),n=es.get(this,i),es.set(this,i,!1),r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n}else r&&(es.set(this,i,w.event.trigger(r[0],r.slice(1),this)),e.stopPropagation(),e.isImmediatePropagationStopped=eA)}})):void 0===es.get(e,i)&&w.event.add(e,i,eA)}w.event={global:{},add:function(e,i,n,r,s){var a,o,l,u,c,h,d,p,f,m,g,$=es.get(e);if(en(e))for(n.handler&&(n=(a=n).handler,s=a.selector),s&&w.find.matchesSelector(ep,s),n.guid||(n.guid=w.guid++),(u=$.events)||(u=$.events=Object.create(null)),(o=$.handle)||(o=$.handle=function(i){return w.event.triggered!==i.type?w.event.dispatch.apply(e,arguments):void 0}),c=(i=(i||"").match(W)||[""]).length;c--;)f=g=(l=eD.exec(i[c])||[])[1],m=(l[2]||"").split(".").sort(),f&&(d=w.event.special[f]||{},f=(s?d.delegateType:d.bindType)||f,d=w.event.special[f]||{},h=w.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:s,needsContext:s&&w.expr.match.needsContext.test(s),namespace:m.join(".")},a),(p=u[f])||((p=u[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,m,o)||e.addEventListener&&e.addEventListener(f,o)),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),s?p.splice(p.delegateCount++,0,h):p.push(h),w.event.global[f]=!0)},remove:function(e,i,n,r,s){var a,o,l,u,c,h,d,p,f,m,g,$=es.hasData(e)&&es.get(e);if($&&(u=$.events)){for(c=(i=(i||"").match(W)||[""]).length;c--;)if(f=g=(l=eD.exec(i[c])||[])[1],m=(l[2]||"").split(".").sort(),f){for(d=w.event.special[f]||{},p=u[f=(r?d.delegateType:d.bindType)||f]||[],l=l[2]&&RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=p.length;a--;)h=p[a],!s&&g!==h.origType||n&&n.guid!==h.guid||l&&!l.test(h.namespace)||r&&r!==h.selector&&("**"!==r||!h.selector)||(p.splice(a,1),h.selector&&p.delegateCount--,d.remove&&d.remove.call(e,h));o&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,m,$.handle)||w.removeEvent(e,f,$.handle),delete u[f])}else for(f in u)w.event.remove(e,f+i[c],n,r,!0);w.isEmptyObject(u)&&es.remove(e,"handle events")}},dispatch:function(e){var i,n,r,s,a,o,l=Array(arguments.length),u=w.event.fix(e),c=(es.get(this,"events")||Object.create(null))[u.type]||[],h=w.event.special[u.type]||{};for(l[0]=u,i=1;i<arguments.length;i++)l[i]=arguments[i];if(u.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,u)){for(o=w.event.handlers.call(this,u,c),i=0;(s=o[i++])&&!u.isPropagationStopped();)for(u.currentTarget=s.elem,n=0;(a=s.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&!1!==a.namespace&&!u.rnamespace.test(a.namespace)||(u.handleObj=a,u.data=a.data,void 0!==(r=((w.event.special[a.origType]||{}).handle||a.handler).apply(s.elem,l))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,u),u.result}},handlers:function(e,i){var n,r,s,a,o,l=[],u=i.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&1<=e.button)){for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],o={},n=0;n<u;n++)void 0===o[s=(r=i[n]).selector+" "]&&(o[s]=r.needsContext?-1<w(s,this).index(c):w.find(s,this,null,[c]).length),o[s]&&a.push(r);a.length&&l.push({elem:c,handlers:a})}}return c=this,u<i.length&&l.push({elem:c,handlers:i.slice(u)}),l},addProp:function(e,i){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(i)?function(){if(this.originalEvent)return i(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(i){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:i})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var i=this||e;return ex.test(i.type)&&i.click&&E(i,"input")&&eP(i,"click",!0),!1},trigger:function(e){var i=this||e;return ex.test(i.type)&&i.click&&E(i,"input")&&eP(i,"click"),!0},_default:function(e){var i=e.target;return ex.test(i.type)&&i.click&&E(i,"input")&&es.get(i,"click")||E(i,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,i,n){e.removeEventListener&&e.removeEventListener(i,n)},w.Event=function(e,i){if(!(this instanceof w.Event))return new w.Event(e,i);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?eA:e0,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,i&&w.extend(this,i),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:e0,isPropagationStopped:e0,isImmediatePropagationStopped:e0,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=eA,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=eA,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=eA,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},w.event.addProp),w.each({focus:"focusin",blur:"focusout"},function(e,i){function n(e){if($.documentMode){var n=es.get(this,"handle"),r=w.event.fix(e);r.type="focusin"===e.type?"focus":"blur",r.isSimulated=!0,n(e),r.target===r.currentTarget&&n(r)}else w.event.simulate(i,e.target,w.event.fix(e))}w.event.special[e]={setup:function(){var r;if(eP(this,e,!0),!$.documentMode)return!1;(r=es.get(this,i))||this.addEventListener(i,n),es.set(this,i,(r||0)+1)},trigger:function(){return eP(this,e),!0},teardown:function(){var e;if(!$.documentMode)return!1;(e=es.get(this,i)-1)?es.set(this,i,e):(this.removeEventListener(i,n),es.remove(this,i))},_default:function(i){return es.get(i.target,e)},delegateType:i},w.event.special[i]={setup:function(){var r=this.ownerDocument||this.document||this,s=$.documentMode?this:r,a=es.get(s,i);a||($.documentMode?this.addEventListener(i,n):r.addEventListener(e,n,!0)),es.set(s,i,(a||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,s=$.documentMode?this:r,a=es.get(s,i)-1;a?es.set(s,i,a):($.documentMode?this.removeEventListener(i,n):r.removeEventListener(e,n,!0),es.remove(s,i))}}}),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){w.event.special[e]={delegateType:i,bindType:i,handle:function(e){var n,r=e.relatedTarget,s=e.handleObj;return r&&(r===this||w.contains(this,r))||(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=i),n}}}),w.fn.extend({on:function(e,i,n,r){return e1(this,e,i,n,r)},one:function(e,i,n,r){return e1(this,e,i,n,r,1)},off:function(e,i,n){var r,s;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(s in e)this.off(s,i,e[s]);return this}return!1!==i&&"function"!=typeof i||(n=i,i=void 0),!1===n&&(n=e0),this.each(function(){w.event.remove(this,e,n,i)})}});var eL=/<script|<style|<link/i,eR=/checked\s*(?:[^=]|=\s*.checked.)/i,eI=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function ek(e,i){return E(e,"table")&&E(11!==i.nodeType?i:i.firstChild,"tr")&&w(e).children("tbody")[0]||e}function eO(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function eN(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function eF(e,i){var n,r,s,a,o,l;if(1===i.nodeType){if(es.hasData(e)&&(l=es.get(e).events))for(s in es.remove(i,"handle events"),l)for(n=0,r=l[s].length;n<r;n++)w.event.add(i,s,l[s][n]);ea.hasData(e)&&(a=ea.access(e),o=w.extend({},a),ea.set(i,o))}}function eU(e,i,n,r){i=a(i);var s,o,l,u,c,h,d=0,p=e.length,g=p-1,$=i[0],v=m($);if(v||1<p&&"string"==typeof $&&!f.checkClone&&eR.test($))return e.each(function(s){var a=e.eq(s);v&&(i[0]=$.call(this,s,a.html())),eU(a,i,n,r)});if(p&&(o=(s=eC(i,e[0].ownerDocument,!1,e,r)).firstChild,1===s.childNodes.length&&(s=o),o||r)){for(u=(l=w.map(eE(s,"script"),eO)).length;d<p;d++)c=s,d!==g&&(c=w.clone(c,!0,!0),u&&w.merge(l,eE(c,"script"))),n.call(e[d],c,d);if(u)for(h=l[l.length-1].ownerDocument,w.map(l,eN),d=0;d<u;d++)c=l[d],ew.test(c.type||"")&&!es.access(c,"globalEval")&&w.contains(h,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?w._evalUrl&&!c.noModule&&w._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},h):y(c.textContent.replace(eI,""),c,h))}return e}function ez(e,i,n){for(var r,s=i?w.filter(i,e):e,a=0;null!=(r=s[a]);a++)n||1!==r.nodeType||w.cleanData(eE(r)),r.parentNode&&(n&&ef(r)&&eT(eE(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e},clone:function(e,i,n){var r,s,a,o,l,u,c,h=e.cloneNode(!0),d=ef(e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(o=eE(h),r=0,s=(a=eE(e)).length;r<s;r++)l=a[r],"input"===(c=(u=o[r]).nodeName.toLowerCase())&&ex.test(l.type)?u.checked=l.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=l.defaultValue);if(i){if(n)for(a=a||eE(e),o=o||eE(h),r=0,s=a.length;r<s;r++)eF(a[r],o[r]);else eF(e,h)}return 0<(o=eE(h,"script")).length&&eT(o,!d&&eE(e,"script")),h},cleanData:function(e){for(var i,n,r,s=w.event.special,a=0;void 0!==(n=e[a]);a++)if(en(n)){if(i=n[es.expando]){if(i.events)for(r in i.events)s[r]?w.event.remove(n,r):w.removeEvent(n,r,i.handle);n[es.expando]=void 0}n[ea.expando]&&(n[ea.expando]=void 0)}}}),w.fn.extend({detach:function(e){return ez(this,e,!0)},remove:function(e){return ez(this,e)},text:function(e){return J(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return eU(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ek(this,e).appendChild(e)})},prepend:function(){return eU(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var i=ek(this,e);i.insertBefore(e,i.firstChild)}})},before:function(){return eU(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return eU(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,i=0;null!=(e=this[i]);i++)1===e.nodeType&&(w.cleanData(eE(e,!1)),e.textContent="");return this},clone:function(e,i){return e=null!=e&&e,i=null==i?e:i,this.map(function(){return w.clone(this,e,i)})},html:function(e){return J(this,function(e){var i=this[0]||{},n=0,r=this.length;if(void 0===e&&1===i.nodeType)return i.innerHTML;if("string"==typeof e&&!eL.test(e)&&!eS[(eb.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(i=this[n]||{}).nodeType&&(w.cleanData(eE(i,!1)),i.innerHTML=e);i=0}catch(s){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return eU(this,arguments,function(i){var n=this.parentNode;0>w.inArray(this,e)&&(w.cleanData(eE(this)),n&&n.replaceChild(i,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,i){w.fn[e]=function(e){for(var n,r=[],s=w(e),a=s.length-1,l=0;l<=a;l++)n=l===a?this:this.clone(!0),w(s[l])[i](n),o.apply(r,n.get());return this.pushStack(r)}});var eB=RegExp("^("+ec+")(?!px)[a-z%]+$","i"),e3=/^--/,e2=function(i){var n=i.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(i)},e4=function(e,i,n){var r,s,a={};for(s in i)a[s]=e.style[s],e.style[s]=i[s];for(s in r=n.call(e),i)e.style[s]=a[s];return r},eH=RegExp(ed.join("|"),"i");function eG(e,i,n){var r,s,a,o,l=e3.test(i),u=e.style;return(n=n||e2(e))&&(o=n.getPropertyValue(i)||n[i],l&&o&&(o=o.replace(A,"$1")||void 0),""!==o||ef(e)||(o=w.style(e,i)),!f.pixelBoxStyles()&&eB.test(o)&&eH.test(i)&&(r=u.width,s=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=s,u.maxWidth=a)),void 0!==o?o+"":o}function e6(e,i){return{get:function(){if(!e())return(this.get=i).apply(this,arguments);delete this.get}}}!function(){function i(){if(h){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ep.appendChild(c).appendChild(h);var i=e.getComputedStyle(h);r="1%"!==i.top,u=12===n(i.marginLeft),h.style.right="60%",o=36===n(i.right),s=36===n(i.width),h.style.position="absolute",a=12===n(h.offsetWidth/3),ep.removeChild(c),h=null}}function n(e){return Math.round(parseFloat(e))}var r,s,a,o,l,u,c=$.createElement("div"),h=$.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===h.style.backgroundClip,w.extend(f,{boxSizingReliable:function(){return i(),s},pixelBoxStyles:function(){return i(),o},pixelPosition:function(){return i(),r},reliableMarginLeft:function(){return i(),u},scrollboxSize:function(){return i(),a},reliableTrDimensions:function(){var i,n,r,s;return null==l&&(i=$.createElement("table"),n=$.createElement("tr"),r=$.createElement("div"),i.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="box-sizing:content-box;border:1px solid",n.style.height="1px",r.style.height="9px",r.style.display="block",ep.appendChild(i).appendChild(n).appendChild(r),l=parseInt((s=e.getComputedStyle(n)).height,10)+parseInt(s.borderTopWidth,10)+parseInt(s.borderBottomWidth,10)===n.offsetHeight,ep.removeChild(i)),l}}))}();var eV=["Webkit","Moz","ms"],eW=$.createElement("div").style,e5={};function e7(e){return w.cssProps[e]||e5[e]||(e in eW?e:e5[e]=function(e){for(var i=e[0].toUpperCase()+e.slice(1),n=eV.length;n--;)if((e=eV[n]+i)in eW)return e}(e)||e)}var eX=/^(none|table(?!-c[ea]).+)/,ej={position:"absolute",visibility:"hidden",display:"block"},eq={letterSpacing:"0",fontWeight:"400"};function e9(e,i,n){var r=eh.exec(i);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):i}function eY(e,i,n,r,s,a){var o="width"===i?1:0,l=0,u=0,c=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(c+=w.css(e,n+ed[o],!0,s)),r?("content"===n&&(u-=w.css(e,"padding"+ed[o],!0,s)),"margin"!==n&&(u-=w.css(e,"border"+ed[o]+"Width",!0,s))):(u+=w.css(e,"padding"+ed[o],!0,s),"padding"!==n?u+=w.css(e,"border"+ed[o]+"Width",!0,s):l+=w.css(e,"border"+ed[o]+"Width",!0,s));return!r&&0<=a&&(u+=Math.max(0,Math.ceil(e["offset"+i[0].toUpperCase()+i.slice(1)]-a-u-l-.5))||0),u+c}function eZ(e,i,n){var r=e2(e),s=(!f.boxSizingReliable()||n)&&"border-box"===w.css(e,"boxSizing",!1,r),a=s,o=eG(e,i,r),l="offset"+i[0].toUpperCase()+i.slice(1);if(eB.test(o)){if(!n)return o;o="auto"}return(!f.boxSizingReliable()&&s||!f.reliableTrDimensions()&&E(e,"tr")||"auto"===o||!parseFloat(o)&&"inline"===w.css(e,"display",!1,r))&&e.getClientRects().length&&(s="border-box"===w.css(e,"boxSizing",!1,r),(a=l in e)&&(o=e[l])),(o=parseFloat(o)||0)+eY(e,i,n||(s?"border":"content"),a,r,o)+"px"}function eK(e,i,n,r,s){return new eK.prototype.init(e,i,n,r,s)}w.extend({cssHooks:{opacity:{get:function(e,i){if(i){var n=eG(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(e,i,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,a,o,l=ei(i),u=e3.test(i),c=e.style;if(u||(i=e7(l)),o=w.cssHooks[i]||w.cssHooks[l],void 0===n)return o&&"get"in o&&void 0!==(s=o.get(e,!1,r))?s:c[i];"string"==(a=typeof n)&&(s=eh.exec(n))&&s[1]&&(n=e$(e,i,s),a="number"),null!=n&&n==n&&("number"!==a||u||(n+=s&&s[3]||(w.cssNumber[l]?"":"px")),f.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(u?c.setProperty(i,n):c[i]=n))}},css:function(e,i,n,r){var s,a,o,l=ei(i);return e3.test(i)||(i=e7(l)),(o=w.cssHooks[i]||w.cssHooks[l])&&"get"in o&&(s=o.get(e,!0,n)),void 0===s&&(s=eG(e,i,r)),"normal"===s&&i in eq&&(s=eq[i]),""===n||n?(a=parseFloat(s),!0===n||isFinite(a)?a||0:s):s}}),w.each(["height","width"],function(e,i){w.cssHooks[i]={get:function(e,n,r){if(n)return!eX.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?eZ(e,i,r):e4(e,ej,function(){return eZ(e,i,r)})},set:function(e,n,r){var s,a=e2(e),o=!f.scrollboxSize()&&"absolute"===a.position,l=(o||r)&&"border-box"===w.css(e,"boxSizing",!1,a),u=r?eY(e,i,r,l,a):0;return l&&o&&(u-=Math.ceil(e["offset"+i[0].toUpperCase()+i.slice(1)]-parseFloat(a[i])-eY(e,i,"border",!1,a)-.5)),u&&(s=eh.exec(n))&&"px"!==(s[3]||"px")&&(e.style[i]=n,n=w.css(e,i)),e9(0,n,u)}}}),w.cssHooks.marginLeft=e6(f.reliableMarginLeft,function(e,i){if(i)return(parseFloat(eG(e,"marginLeft"))||e.getBoundingClientRect().left-e4(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,i){w.cssHooks[e+i]={expand:function(n){for(var r=0,s={},a="string"==typeof n?n.split(" "):[n];r<4;r++)s[e+ed[r]+i]=a[r]||a[r-2]||a[0];return s}},"margin"!==e&&(w.cssHooks[e+i].set=e9)}),w.fn.extend({css:function(e,i){return J(this,function(e,i,n){var r,s,a={},o=0;if(Array.isArray(i)){for(r=e2(e),s=i.length;o<s;o++)a[i[o]]=w.css(e,i[o],!1,r);return a}return void 0!==n?w.style(e,i,n):w.css(e,i)},e,i,1<arguments.length)}}),((w.Tween=eK).prototype={constructor:eK,init:function(e,i,n,r,s,a){this.elem=e,this.prop=n,this.easing=s||w.easing._default,this.options=i,this.start=this.now=this.cur(),this.end=r,this.unit=a||(w.cssNumber[n]?"":"px")},cur:function(){var e=eK.propHooks[this.prop];return e&&e.get?e.get(this):eK.propHooks._default.get(this)},run:function(e){var i,n=eK.propHooks[this.prop];return this.options.duration?this.pos=i=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=i=e,this.now=(this.end-this.start)*i+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):eK.propHooks._default.set(this),this}}).init.prototype=eK.prototype,(eK.propHooks={_default:{get:function(e){var i;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(i=w.css(e.elem,e.prop,""))&&"auto"!==i?i:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1===e.elem.nodeType&&(w.cssHooks[e.prop]||null!=e.elem.style[e7(e.prop)])?w.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=eK.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return .5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=eK.prototype.init,w.fx.step={};var eJ,eQ,te,tt,ti=/^(?:toggle|show|hide)$/,tn=/queueHooks$/;function tr(){return e.setTimeout(function(){eJ=void 0}),eJ=Date.now()}function ts(e,i){var n,r=0,s={height:e};for(i=i?1:0;r<4;r+=2-i)s["margin"+(n=ed[r])]=s["padding"+n]=e;return i&&(s.opacity=s.width=e),s}function ta(e,i,n){for(var r,s=(to.tweeners[i]||[]).concat(to.tweeners["*"]),a=0,o=s.length;a<o;a++)if(r=s[a].call(n,i,e))return r}function to(e,i,n){var r,s,a=0,o=to.prefilters.length,l=w.Deferred().always(function(){delete u.elem}),u=function(){if(s)return!1;for(var i=eJ||tr(),n=Math.max(0,c.startTime+c.duration-i),r=1-(n/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(r);return l.notifyWith(e,[c,r,n]),r<1&&o?n:(o||l.notifyWith(e,[c,1,0]),l.resolveWith(e,[c]),!1)},c=l.promise({elem:e,props:w.extend({},i),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:i,originalOptions:n,startTime:eJ||tr(),duration:n.duration,tweens:[],createTween:function(i,n){var r=w.Tween(e,c.opts,i,n,c.opts.specialEasing[i]||c.opts.easing);return c.tweens.push(r),r},stop:function(i){var n=0,r=i?c.tweens.length:0;if(s)return this;for(s=!0;n<r;n++)c.tweens[n].run(1);return i?(l.notifyWith(e,[c,1,0]),l.resolveWith(e,[c,i])):l.rejectWith(e,[c,i]),this}}),h=c.props;for(!function(e,i){var n,r,s,a,o;for(n in e)if(s=i[r=ei(n)],Array.isArray(a=e[n])&&(s=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),(o=w.cssHooks[r])&&("expand"in o))for(n in a=o.expand(a),delete e[r],a)(n in e)||(e[n]=a[n],i[n]=s);else i[r]=s}(h,c.opts.specialEasing);a<o;a++)if(r=to.prefilters[a].call(c,e,h,c.opts))return m(r.stop)&&(w._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return w.map(h,ta,c),m(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}w.Animation=w.extend(to,{tweeners:{"*":[function(e,i){var n=this.createTween(e,i);return e$(n.elem,e,eh.exec(i),n),n}]},tweener:function(e,i){m(e)?(i=e,e=["*"]):e=e.match(W);for(var n,r=0,s=e.length;r<s;r++)n=e[r],to.tweeners[n]=to.tweeners[n]||[],to.tweeners[n].unshift(i)},prefilters:[function(e,i,n){var r,s,a,o,l,u,c,h,d="width"in i||"height"in i,p=this,f={},m=e.style,g=e.nodeType&&eg(e),$=es.get(e,"fxshow");for(r in n.queue||(null==(o=w._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,p.always(function(){p.always(function(){o.unqueued--,w.queue(e,"fx").length||o.empty.fire()})})),i)if(s=i[r],ti.test(s)){if(delete i[r],a=a||"toggle"===s,s===(g?"hide":"show")){if("show"!==s||!$||void 0===$[r])continue;g=!0}f[r]=$&&$[r]||w.style(e,r)}if((u=!w.isEmptyObject(i))||!w.isEmptyObject(f))for(r in d&&1===e.nodeType&&(n.overflow=[m.overflow,m.overflowX,m.overflowY],null==(c=$&&$.display)&&(c=es.get(e,"display")),"none"===(h=w.css(e,"display"))&&(c?h=c:(ey([e],!0),c=e.style.display||c,h=w.css(e,"display"),ey([e]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===w.css(e,"float")&&(u||(p.done(function(){m.display=c}),null==c&&(c="none"===(h=m.display)?"":h)),m.display="inline-block")),n.overflow&&(m.overflow="hidden",p.always(function(){m.overflow=n.overflow[0],m.overflowX=n.overflow[1],m.overflowY=n.overflow[2]})),u=!1,f)u||($?"hidden"in $&&(g=$.hidden):$=es.access(e,"fxshow",{display:c}),a&&($.hidden=!g),g&&ey([e],!0),p.done(function(){for(r in g||ey([e]),es.remove(e,"fxshow"),f)w.style(e,r,f[r])})),u=ta(g?$[r]:0,r,p),r in $||($[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,i){i?to.prefilters.unshift(e):to.prefilters.push(e)}}),w.speed=function(e,i,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&i||m(e)&&e,duration:e,easing:n&&i||i&&!m(i)&&i};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,i,n,r){return this.filter(eg).css("opacity",0).show().end().animate({opacity:i},e,n,r)},animate:function(e,i,n,r){var s=w.isEmptyObject(e),a=w.speed(i,n,r),o=function(){var i=to(this,w.extend({},e),a);(s||es.get(this,"finish"))&&i.stop(!0)};return o.finish=o,s||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,i,n){var r=function(e){var i=e.stop;delete e.stop,i(n)};return"string"!=typeof e&&(n=i,i=e,e=void 0),i&&this.queue(e||"fx",[]),this.each(function(){var i=!0,s=null!=e&&e+"queueHooks",a=w.timers,o=es.get(this);if(s)o[s]&&o[s].stop&&r(o[s]);else for(s in o)o[s]&&o[s].stop&&tn.test(s)&&r(o[s]);for(s=a.length;s--;)a[s].elem!==this||null!=e&&a[s].queue!==e||(a[s].anim.stop(n),i=!1,a.splice(s,1));!i&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var i,n=es.get(this),r=n[e+"queue"],s=n[e+"queueHooks"],a=w.timers,o=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),i=a.length;i--;)a[i].elem===this&&a[i].queue===e&&(a[i].anim.stop(!0),a.splice(i,1));for(i=0;i<o;i++)r[i]&&r[i].finish&&r[i].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,i){var n=w.fn[i];w.fn[i]=function(e,r,s){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ts(i,!0),e,r,s)}}),w.each({slideDown:ts("show"),slideUp:ts("hide"),slideToggle:ts("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){w.fn[e]=function(e,n,r){return this.animate(i,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,i=0,n=w.timers;for(eJ=Date.now();i<n.length;i++)(e=n[i])()||n[i]!==e||n.splice(i--,1);n.length||w.fx.stop(),eJ=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){eQ||(eQ=!0,function i(){eQ&&(!1===$.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(i):e.setTimeout(i,w.fx.interval),w.fx.tick())}())},w.fx.stop=function(){eQ=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(i,n){return i=w.fx&&w.fx.speeds[i]||i,n=n||"fx",this.queue(n,function(n,r){var s=e.setTimeout(n,i);r.stop=function(){e.clearTimeout(s)}})},te=$.createElement("input"),tt=$.createElement("select").appendChild($.createElement("option")),te.type="checkbox",f.checkOn=""!==te.value,f.optSelected=tt.selected,(te=$.createElement("input")).value="t",te.type="radio",f.radioValue="t"===te.value;var tl,tu=w.expr.attrHandle;w.fn.extend({attr:function(e,i){return J(this,w.attr,e,i,1<arguments.length)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,i,n){var r,s,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?w.prop(e,i,n):(1===a&&w.isXMLDoc(e)||(s=w.attrHooks[i.toLowerCase()]||(w.expr.match.bool.test(i)?tl:void 0)),void 0!==n?null===n?void w.removeAttr(e,i):s&&"set"in s&&void 0!==(r=s.set(e,n,i))?r:(e.setAttribute(i,n+""),n):s&&"get"in s&&null!==(r=s.get(e,i))?r:null==(r=w.find.attr(e,i))?void 0:r)},attrHooks:{type:{set:function(e,i){if(!f.radioValue&&"radio"===i&&E(e,"input")){var n=e.value;return e.setAttribute("type",i),n&&(e.value=n),i}}}},removeAttr:function(e,i){var n,r=0,s=i&&i.match(W);if(s&&1===e.nodeType)for(;n=s[r++];)e.removeAttribute(n)}}),tl={set:function(e,i,n){return!1===i?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,i){var n=tu[i]||w.find.attr;tu[i]=function(e,i,r){var s,a,o=i.toLowerCase();return r||(a=tu[o],tu[o]=s,s=null!=n(e,i,r)?o:null,tu[o]=a),s}});var tc=/^(?:input|select|textarea|button)$/i,th=/^(?:a|area)$/i;function td(e){return(e.match(W)||[]).join(" ")}function tp(e){return e.getAttribute&&e.getAttribute("class")||""}function tf(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(W)||[]}w.fn.extend({prop:function(e,i){return J(this,w.prop,e,i,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,i,n){var r,s,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&w.isXMLDoc(e)||(i=w.propFix[i]||i,s=w.propHooks[i]),void 0!==n?s&&"set"in s&&void 0!==(r=s.set(e,n,i))?r:e[i]=n:s&&"get"in s&&null!==(r=s.get(e,i))?r:e[i]},propHooks:{tabIndex:{get:function(e){var i=w.find.attr(e,"tabindex");return i?parseInt(i,10):tc.test(e.nodeName)||th.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(w.propHooks.selected={get:function(e){var i=e.parentNode;return i&&i.parentNode&&i.parentNode.selectedIndex,null},set:function(e){var i=e.parentNode;i&&(i.selectedIndex,i.parentNode&&i.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var i,n,r,s,a,o;return m(e)?this.each(function(i){w(this).addClass(e.call(this,i,tp(this)))}):(i=tf(e)).length?this.each(function(){if(r=tp(this),n=1===this.nodeType&&" "+td(r)+" "){for(a=0;a<i.length;a++)s=i[a],0>n.indexOf(" "+s+" ")&&(n+=s+" ");r!==(o=td(n))&&this.setAttribute("class",o)}}):this},removeClass:function(e){var i,n,r,s,a,o;return m(e)?this.each(function(i){w(this).removeClass(e.call(this,i,tp(this)))}):arguments.length?(i=tf(e)).length?this.each(function(){if(r=tp(this),n=1===this.nodeType&&" "+td(r)+" "){for(a=0;a<i.length;a++)for(s=i[a];-1<n.indexOf(" "+s+" ");)n=n.replace(" "+s+" "," ");r!==(o=td(n))&&this.setAttribute("class",o)}}):this:this.attr("class","")},toggleClass:function(e,i){var n,r,s,a,o=typeof e,l="string"===o||Array.isArray(e);return m(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,tp(this),i),i)}):"boolean"==typeof i&&l?i?this.addClass(e):this.removeClass(e):(n=tf(e),this.each(function(){if(l)for(a=w(this),s=0;s<n.length;s++)r=n[s],a.hasClass(r)?a.removeClass(r):a.addClass(r);else void 0!==e&&"boolean"!==o||((r=tp(this))&&es.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===e?"":es.get(this,"__className__")||""))}))},hasClass:function(e){var i,n,r=0;for(i=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+td(tp(n))+" ").indexOf(i))return!0;return!1}});var tm=/\r/g;w.fn.extend({val:function(e){var i,n,r,s=this[0];return arguments.length?(r=m(e),this.each(function(n){var s;1===this.nodeType&&(null==(s=r?e.call(this,n,w(this).val()):e)?s="":"number"==typeof s?s+="":Array.isArray(s)&&(s=w.map(s,function(e){return null==e?"":e+""})),(i=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,s,"value")||(this.value=s))})):s?(i=w.valHooks[s.type]||w.valHooks[s.nodeName.toLowerCase()])&&"get"in i&&void 0!==(n=i.get(s,"value"))?n:"string"==typeof(n=s.value)?n.replace(tm,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var i=w.find.attr(e,"value");return null!=i?i:td(w.text(e))}},select:{get:function(e){var i,n,r,s=e.options,a=e.selectedIndex,o="select-one"===e.type,l=o?null:[],u=o?a+1:s.length;for(r=a<0?u:o?a:0;r<u;r++)if(((n=s[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(i=w(n).val(),o)return i;l.push(i)}return l},set:function(e,i){for(var n,r,s=e.options,a=w.makeArray(i),o=s.length;o--;)((r=s[o]).selected=-1<w.inArray(w.valHooks.option.get(r),a))&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,i){if(Array.isArray(i))return e.checked=-1<w.inArray(w(e).val(),i)}},f.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var tg=e.location,t$={guid:Date.now()},tv=/\?/;w.parseXML=function(i){var n,r;if(!i||"string"!=typeof i)return null;try{n=(new e.DOMParser).parseFromString(i,"text/xml")}catch(s){}return r=n&&n.getElementsByTagName("parsererror")[0],n&&!r||w.error("Invalid XML: "+(r?w.map(r.childNodes,function(e){return e.textContent}).join("\n"):i)),n};var ty=/^(?:focusinfocus|focusoutblur)$/,t8=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(i,n,r,s){var a,o,l,u,c,d,p,f,v=[r||$],y=h.call(i,"type")?i.type:i,_=h.call(i,"namespace")?i.namespace.split("."):[];if(o=f=l=r=r||$,3!==r.nodeType&&8!==r.nodeType&&!ty.test(y+w.event.triggered)&&(-1<y.indexOf(".")&&(y=(_=y.split(".")).shift(),_.sort()),c=0>y.indexOf(":")&&"on"+y,(i=i[w.expando]?i:new w.Event(y,"object"==typeof i&&i)).isTrigger=s?2:3,i.namespace=_.join("."),i.rnamespace=i.namespace?RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=void 0,i.target||(i.target=r),n=null==n?[i]:w.makeArray(n,[i]),p=w.event.special[y]||{},s||!p.trigger||!1!==p.trigger.apply(r,n))){if(!s&&!p.noBubble&&!g(r)){for(u=p.delegateType||y,ty.test(u+y)||(o=o.parentNode);o;o=o.parentNode)v.push(o),l=o;l===(r.ownerDocument||$)&&v.push(l.defaultView||l.parentWindow||e)}for(a=0;(o=v[a++])&&!i.isPropagationStopped();)f=o,i.type=1<a?u:p.bindType||y,(d=(es.get(o,"events")||Object.create(null))[i.type]&&es.get(o,"handle"))&&d.apply(o,n),(d=c&&o[c])&&d.apply&&en(o)&&(i.result=d.apply(o,n),!1===i.result&&i.preventDefault());return i.type=y,s||i.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),n)||!en(r)||c&&m(r[y])&&!g(r)&&((l=r[c])&&(r[c]=null),w.event.triggered=y,i.isPropagationStopped()&&f.addEventListener(y,t8),r[y](),i.isPropagationStopped()&&f.removeEventListener(y,t8),w.event.triggered=void 0,l&&(r[c]=l)),i.result}},simulate:function(e,i,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,i)}}),w.fn.extend({trigger:function(e,i){return this.each(function(){w.event.trigger(e,i,this)})},triggerHandler:function(e,i){var n=this[0];if(n)return w.event.trigger(e,i,n,!0)}});var t_=/\[\]$/,tx=/\r?\n/g,tb=/^(?:submit|button|image|reset|file)$/i,tw=/^(?:input|select|textarea|keygen)/i;function tS(e,i,n,r){var s;if(Array.isArray(i))w.each(i,function(i,s){n||t_.test(e)?r(e,s):tS(e+"["+("object"==typeof s&&null!=s?i:"")+"]",s,n,r)});else if(n||"object"!==_(i))r(e,i);else for(s in i)tS(e+"["+s+"]",i[s],n,r)}w.param=function(e,i){var n,r=[],s=function(e,i){var n=m(i)?i():i;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){s(this.name,this.value)});else for(n in e)tS(n,e[n],i,s);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&tw.test(this.nodeName)&&!tb.test(e)&&(this.checked||!ex.test(e))}).map(function(e,i){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:i.name,value:e.replace(tx,"\r\n")}}):{name:i.name,value:n.replace(tx,"\r\n")}}).get()}});var tE=/%20/g,tT=/#.*$/,tM=/([?&])_=[^&]*/,tC=/^(.*?):[ \t]*([^\r\n]*)$/gm,tD=/^(?:GET|HEAD)$/,tA=/^\/\//,t0={},t1={},tP="*/".concat("*"),tL=$.createElement("a");function tR(e){return function(i,n){"string"!=typeof i&&(n=i,i="*");var r,s=0,a=i.toLowerCase().match(W)||[];if(m(n))for(;r=a[s++];)"+"===r[0]?(e[r=r.slice(1)||"*"]=e[r]||[]).unshift(n):(e[r]=e[r]||[]).push(n)}}function tI(e,i,n,r){var s={},a=e===t1;function o(l){var u;return s[l]=!0,w.each(e[l]||[],function(e,l){var c=l(i,n,r);return"string"!=typeof c||a||s[c]?a?!(u=c):void 0:(i.dataTypes.unshift(c),o(c),!1)}),u}return o(i.dataTypes[0])||!s["*"]&&o("*")}function tk(e,i){var n,r,s=w.ajaxSettings.flatOptions||{};for(n in i)void 0!==i[n]&&((s[n]?e:r||(r={}))[n]=i[n]);return r&&w.extend(!0,e,r),e}tL.href=tg.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tg.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(tg.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":tP,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,i){return i?tk(tk(e,w.ajaxSettings),i):tk(w.ajaxSettings,e)},ajaxPrefilter:tR(t0),ajaxTransport:tR(t1),ajax:function(i,n){"object"==typeof i&&(n=i,i=void 0),n=n||{};var r,s,a,o,l,u,c,h,d,p,f=w.ajaxSetup({},n),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?w(m):w.event,v=w.Deferred(),y=w.Callbacks("once memory"),_=f.statusCode||{},x={},b={},S="canceled",E={readyState:0,getResponseHeader:function(e){var i;if(c){if(!o)for(o={};i=tC.exec(a);)o[i[1].toLowerCase()+" "]=(o[i[1].toLowerCase()+" "]||[]).concat(i[2]);i=o[e.toLowerCase()+" "]}return null==i?null:i.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,i){return null==c&&(x[e=b[e.toLowerCase()]=b[e.toLowerCase()]||e]=i),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var i;if(e){if(c)E.always(e[E.status]);else for(i in e)_[i]=[_[i],e[i]]}return this},abort:function(e){var i=e||S;return r&&r.abort(i),C(0,i),this}};if(v.promise(E),f.url=((i||f.url||tg.href)+"").replace(tA,tg.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(W)||[""],null==f.crossDomain){u=$.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=tL.protocol+"//"+tL.host!=u.protocol+"//"+u.host}catch(T){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=w.param(f.data,f.traditional)),tI(t0,f,n,E),c)return E;for(d in(h=w.event&&f.global)&&0==w.active++&&w.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!tD.test(f.type),s=f.url.replace(tT,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(tE,"+")):(p=f.url.slice(s.length),f.data&&(f.processData||"string"==typeof f.data)&&(s+=(tv.test(s)?"&":"?")+f.data,delete f.data),!1===f.cache&&(s=s.replace(tM,"$1"),p=(tv.test(s)?"&":"?")+"_="+t$.guid+++p),f.url=s+p),f.ifModified&&(w.lastModified[s]&&E.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&E.setRequestHeader("If-None-Match",w.etag[s])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&E.setRequestHeader("Content-Type",f.contentType),E.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+tP+"; q=0.01":""):f.accepts["*"]),f.headers)E.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(m,E,f)||c))return E.abort();if(S="abort",y.add(f.complete),E.done(f.success),E.fail(f.error),r=tI(t1,f,n,E)){if(E.readyState=1,h&&g.trigger("ajaxSend",[E,f]),c)return E;f.async&&0<f.timeout&&(l=e.setTimeout(function(){E.abort("timeout")},f.timeout));try{c=!1,r.send(x,C)}catch(M){if(c)throw M;C(-1,M)}}else C(-1,"No Transport");function C(i,n,o,u){var d,p,$,x,b,S=n;c||(c=!0,l&&e.clearTimeout(l),r=void 0,a=u||"",E.readyState=0<i?4:0,d=200<=i&&i<300||304===i,o&&(x=function(e,i,n){for(var r,s,a,o,l=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||i.getResponseHeader("Content-Type"));if(r){for(s in l)if(l[s]&&l[s].test(r)){u.unshift(s);break}}if(u[0]in n)a=u[0];else{for(s in n){if(!u[0]||e.converters[s+" "+u[0]]){a=s;break}o||(o=s)}a=a||o}if(a)return a!==u[0]&&u.unshift(a),n[a]}(f,E,o)),!d&&-1<w.inArray("script",f.dataTypes)&&0>w.inArray("json",f.dataTypes)&&(f.converters["text script"]=function(){}),x=function(e,i,n,r){var s,a,o,l,u,c={},h=e.dataTypes.slice();if(h[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=h.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=i),!u&&r&&e.dataFilter&&(i=e.dataFilter(i,e.dataType)),u=a,a=h.shift()){if("*"===a)a=u;else if("*"!==u&&u!==a){if(!(o=c[u+" "+a]||c["* "+a])){for(s in c)if((l=s.split(" "))[1]===a&&(o=c[u+" "+l[0]]||c["* "+l[0]])){!0===o?o=c[s]:!0!==c[s]&&(a=l[0],h.unshift(l[1]));break}}if(!0!==o){if(o&&e.throws)i=o(i);else try{i=o(i)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+u+" to "+a}}}}}return{state:"success",data:i}}(f,x,E,d),d?(f.ifModified&&((b=E.getResponseHeader("Last-Modified"))&&(w.lastModified[s]=b),(b=E.getResponseHeader("etag"))&&(w.etag[s]=b)),204===i||"HEAD"===f.type?S="nocontent":304===i?S="notmodified":(S=x.state,p=x.data,d=!($=x.error))):($=S,!i&&S||(S="error",i<0&&(i=0))),E.status=i,E.statusText=(n||S)+"",d?v.resolveWith(m,[p,S,E]):v.rejectWith(m,[E,S,$]),E.statusCode(_),_=void 0,h&&g.trigger(d?"ajaxSuccess":"ajaxError",[E,f,d?p:$]),y.fireWith(m,[E,S]),h&&(g.trigger("ajaxComplete",[E,f]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(e,i,n){return w.get(e,i,n,"json")},getScript:function(e,i){return w.get(e,void 0,i,"script")}}),w.each(["get","post"],function(e,i){w[i]=function(e,n,r,s){return m(n)&&(s=s||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:i,dataType:s,data:n,success:r},w.isPlainObject(e)&&e))}}),w.ajaxPrefilter(function(e){var i;for(i in e.headers)"content-type"===i.toLowerCase()&&(e.contentType=e.headers[i]||"")}),w._evalUrl=function(e,i,n){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){w.globalEval(e,i,n)}})},w.fn.extend({wrapAll:function(e){var i;return this[0]&&(m(e)&&(e=e.call(this[0])),i=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&i.insertBefore(this[0]),i.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return m(e)?this.each(function(i){w(this).wrapInner(e.call(this,i))}):this.each(function(){var i=w(this),n=i.contents();n.length?n.wrapAll(e):i.append(e)})},wrap:function(e){var i=m(e);return this.each(function(n){w(this).wrapAll(i?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(i){}};var tO={0:200,1223:204},tN=w.ajaxSettings.xhr();f.cors=!!tN&&"withCredentials"in tN,f.ajax=tN=!!tN,w.ajaxTransport(function(i){var n,r;if(f.cors||tN&&!i.crossDomain)return{send:function(s,a){var o,l=i.xhr();if(l.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(o in i.xhrFields)l[o]=i.xhrFields[o];for(o in i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),s)l.setRequestHeader(o,s[o]);n=function(e){return function(){n&&(n=r=l.onload=l.onerror=l.onabort=l.ontimeout=l.onreadystatechange=null,"abort"===e?l.abort():"error"===e?"number"!=typeof l.status?a(0,"error"):a(l.status,l.statusText):a(tO[l.status]||l.status,l.statusText,"text"!==(l.responseType||"text")||"string"!=typeof l.responseText?{binary:l.response}:{text:l.responseText},l.getAllResponseHeaders()))}},l.onload=n(),r=l.onerror=l.ontimeout=n("error"),void 0!==l.onabort?l.onabort=r:l.onreadystatechange=function(){4===l.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{l.send(i.hasContent&&i.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var i,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,s){i=w("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){i.remove(),n=null,e&&s("error"===e.type?404:200,e.type)}),$.head.appendChild(i[0])},abort:function(){n&&n()}}});var tF,tU=[],tz=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=tU.pop()||w.expando+"_"+t$.guid++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(i,n,r){var s,a,o,l=!1!==i.jsonp&&(tz.test(i.url)?"url":"string"==typeof i.data&&0===(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&tz.test(i.data)&&"data");if(l||"jsonp"===i.dataTypes[0])return s=i.jsonpCallback=m(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(tz,"$1"+s):!1!==i.jsonp&&(i.url+=(tv.test(i.url)?"&":"?")+i.jsonp+"="+s),i.converters["script json"]=function(){return o||w.error(s+" was not called"),o[0]},i.dataTypes[0]="json",a=e[s],e[s]=function(){o=arguments},r.always(function(){void 0===a?w(e).removeProp(s):e[s]=a,i[s]&&(i.jsonpCallback=n.jsonpCallback,tU.push(s)),o&&m(a)&&a(o[0]),o=a=void 0}),"script"}),f.createHTMLDocument=((tF=$.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===tF.childNodes.length),w.parseHTML=function(e,i,n){var r,s,a;return"string"!=typeof e?[]:("boolean"==typeof i&&(n=i,i=!1),i||(f.createHTMLDocument?((r=(i=$.implementation.createHTMLDocument("")).createElement("base")).href=$.location.href,i.head.appendChild(r)):i=$),a=!n&&[],(s=F.exec(e))?[i.createElement(s[1])]:(s=eC([e],i,a),a&&a.length&&w(a).remove(),w.merge([],s.childNodes)))},w.fn.load=function(e,i,n){var r,s,a,o=this,l=e.indexOf(" ");return -1<l&&(r=td(e.slice(l)),e=e.slice(0,l)),m(i)?(n=i,i=void 0):i&&"object"==typeof i&&(s="POST"),0<o.length&&w.ajax({url:e,type:s||"GET",dataType:"html",data:i}).done(function(e){a=arguments,o.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,i){o.each(function(){n.apply(this,a||[e.responseText,i,e])})}),this},w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(i){return e===i.elem}).length},w.offset={setOffset:function(e,i,n){var r,s,a,o,l,u,c=w.css(e,"position"),h=w(e),d={};"static"===c&&(e.style.position="relative"),l=h.offset(),a=w.css(e,"top"),u=w.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(a+u).indexOf("auto")?(o=(r=h.position()).top,s=r.left):(o=parseFloat(a)||0,s=parseFloat(u)||0),m(i)&&(i=i.call(e,n,w.extend({},l))),null!=i.top&&(d.top=i.top-l.top+o),null!=i.left&&(d.left=i.left-l.left+s),"using"in i?i.using.call(e,d):h.css(d)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(i){w.offset.setOffset(this,e,i)});var i,n,r=this[0];return r?r.getClientRects().length?(i=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:i.top+n.pageYOffset,left:i.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,i,n,r=this[0],s={top:0,left:0};if("fixed"===w.css(r,"position"))i=r.getBoundingClientRect();else{for(i=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((s=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),s.left+=w.css(e,"borderLeftWidth",!0))}return{top:i.top-s.top-w.css(r,"marginTop",!0),left:i.left-s.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||ep})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i;w.fn[e]=function(r){return J(this,function(e,r,s){var a;if(g(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===s)return a?a[i]:e[r];a?a.scrollTo(n?a.pageXOffset:s,n?s:a.pageYOffset):e[r]=s},e,r,arguments.length)}}),w.each(["top","left"],function(e,i){w.cssHooks[i]=e6(f.pixelPosition,function(e,n){if(n)return n=eG(e,i),eB.test(n)?w(e).position()[i]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,i){w.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,r){w.fn[r]=function(s,a){var o=arguments.length&&(n||"boolean"!=typeof s),l=n||(!0===s||!0===a?"margin":"border");return J(this,function(i,n,s){var a;return g(i)?0===r.indexOf("outer")?i["inner"+e]:i.document.documentElement["client"+e]:9===i.nodeType?(a=i.documentElement,Math.max(i.body["scroll"+e],a["scroll"+e],i.body["offset"+e],a["offset"+e],a["client"+e])):void 0===s?w.css(i,n,l):w.style(i,n,s,l)},i,o?s:void 0,o)}})}),w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,i){w.fn[i]=function(e){return this.on(i,e)}}),w.fn.extend({bind:function(e,i,n){return this.on(e,null,i,n)},unbind:function(e,i){return this.off(e,null,i)},delegate:function(e,i,n,r){return this.on(i,e,n,r)},undelegate:function(e,i,n){return 1===arguments.length?this.off(e,"**"):this.off(i,e||"**",n)},hover:function(e,i){return this.on("mouseenter",e).on("mouseleave",i||e)}}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,i){w.fn[i]=function(e,n){return 0<arguments.length?this.on(i,null,e,n):this.trigger(i)}});var tB=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;w.proxy=function(e,i){var n,r,a;if("string"==typeof i&&(n=e[i],i=e,e=n),m(e))return r=s.call(arguments,2),(a=function(){return e.apply(i||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||w.guid++,a},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=E,w.isFunction=m,w.isWindow=g,w.camelCase=ei,w.type=_,w.now=Date.now,w.isNumeric=function(e){var i=w.type(e);return("number"===i||"string"===i)&&!isNaN(e-parseFloat(e))},w.trim=function(e){return null==e?"":(e+"").replace(tB,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var t3=e.jQuery,t2=e.$;return w.noConflict=function(i){return e.$===w&&(e.$=t2),i&&e.jQuery===w&&(e.jQuery=t3),w},void 0===i&&(e.jQuery=e.$=w),w});var head=document.getElementsByTagName("head")[0];for(const weight of["regular","thin","light","bold","fill","duotone"]){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href="https://unpkg.com/@phosphor-icons/web@2.1.1/src/"+weight+"/style.css",head.appendChild(e)}/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */ !function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(e="undefined"!=typeof globalThis?globalThis:e||self).bootstrap=i()}(this,function(){"use strict";let e=new Map,i={set(i,n,r){e.has(i)||e.set(i,new Map);let s=e.get(i);s.has(n)||0===s.size?s.set(n,r):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`)},get:(i,n)=>e.has(i)&&e.get(i).get(n)||null,remove(i,n){if(!e.has(i))return;let r=e.get(i);r.delete(n),0===r.size&&e.delete(i)}},n="transitionend",r=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,i)=>`#${CSS.escape(i)}`)),e),s=e=>{e.dispatchEvent(new Event(n))},a=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),o=e=>a(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(r(e)):null,l=e=>{if(!a(e)||0===e.getClientRects().length)return!1;let i="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return i;if(n!==e){let r=e.closest("summary");if(r&&r.parentNode!==n||null===r)return!1}return i},u=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),c=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){let i=e.getRootNode();return i instanceof ShadowRoot?i:null}return e instanceof ShadowRoot?e:e.parentNode?c(e.parentNode):null},h=()=>{},d=e=>{e.offsetHeight},p=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,f=[],m=()=>"rtl"===document.documentElement.dir,g=e=>{var i;i=()=>{let i=p();if(i){let n=e.NAME,r=i.fn[n];i.fn[n]=e.jQueryInterface,i.fn[n].Constructor=e,i.fn[n].noConflict=()=>(i.fn[n]=r,e.jQueryInterface)}},"loading"===document.readyState?(f.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of f)e()}),f.push(i)):i()},$=(e,i=[],n=e)=>"function"==typeof e?e(...i):n,v=(e,i,r=!0)=>{if(!r)return void $(e);let a=(e=>{if(!e)return 0;let{transitionDuration:i,transitionDelay:n}=window.getComputedStyle(e),r=Number.parseFloat(i),s=Number.parseFloat(n);return r||s?(i=i.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(i)+Number.parseFloat(n))):0})(i)+5,o=!1,l=({target:r})=>{r===i&&(o=!0,i.removeEventListener(n,l),$(e))};i.addEventListener(n,l),setTimeout(()=>{o||s(i)},a)},y=(e,i,n,r)=>{let s=e.length,a=e.indexOf(i);return -1===a?!n&&r?e[s-1]:e[0]:(a+=n?1:-1,r&&(a=(a+s)%s),e[Math.max(0,Math.min(a,s-1))])},_=/[^.]*(?=\..*)\.|.*/,x=/\..*/,b=/::\d+$/,w={},S=1,E={mouseenter:"mouseover",mouseleave:"mouseout"},T=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function M(e,i){return i&&`${i}::${S++}`||e.uidEvent||S++}function C(e){let i=M(e);return e.uidEvent=i,w[i]=w[i]||{},w[i]}function D(e,i,n=null){return Object.values(e).find(e=>e.callable===i&&e.delegationSelector===n)}function A(e,i,n){let r="string"==typeof i,s=I(e);return T.has(s)||(s=e),[r,r?n:i||n,s]}function P(e,i,n,r,s){var a,o,l,u,c,h;if("string"!=typeof i||!e)return;let[d,p,f]=A(i,n,r);i in E&&(p=(a=p,function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return a.call(this,e)}));let m=C(e),g=m[f]||(m[f]={}),$=D(g,p,d?n:null);if($)return void($.oneOff=$.oneOff&&s);let v=M(p,i.replace(_,"")),y=d?(o=e,l=n,u=p,function e(i){let n=o.querySelectorAll(l);for(let{target:r}=i;r&&r!==this;r=r.parentNode)for(let s of n)if(s===r)return O(i,{delegateTarget:r}),e.oneOff&&k.off(o,i.type,l,u),u.apply(r,[i])}):(c=e,h=p,function e(i){return O(i,{delegateTarget:c}),e.oneOff&&k.off(c,i.type,h),h.apply(c,[i])});y.delegationSelector=d?n:null,y.callable=p,y.oneOff=s,y.uidEvent=v,g[v]=y,e.addEventListener(f,y,d)}function L(e,i,n,r,s){let a=D(i[n],r,s);a&&(e.removeEventListener(n,a,Boolean(s)),delete i[n][a.uidEvent])}function R(e,i,n,r){let s=i[n]||{};for(let[a,o]of Object.entries(s))a.includes(r)&&L(e,i,n,o.callable,o.delegationSelector)}function I(e){return E[e=e.replace(x,"")]||e}let k={on(e,i,n,r){P(e,i,n,r,!1)},one(e,i,n,r){P(e,i,n,r,!0)},off(e,i,n,r){if("string"!=typeof i||!e)return;let[s,a,o]=A(i,n,r),l=o!==i,u=C(e),c=u[o]||{},h=i.startsWith(".");if(void 0===a){if(h)for(let d of Object.keys(u))R(e,u,d,i.slice(1));for(let[p,f]of Object.entries(c)){let m=p.replace(b,"");l&&!i.includes(m)||L(e,u,o,f.callable,f.delegationSelector)}}else{if(!Object.keys(c).length)return;L(e,u,o,a,s?n:null)}},trigger(e,i,n){if("string"!=typeof i||!e)return null;let r=p(),s=null,a=!0,o=!0,l=!1;i!==I(i)&&r&&(s=r.Event(i,n),r(e).trigger(s),a=!s.isPropagationStopped(),o=!s.isImmediatePropagationStopped(),l=s.isDefaultPrevented());let u=O(new Event(i,{bubbles:a,cancelable:!0}),n);return l&&u.preventDefault(),o&&e.dispatchEvent(u),u.defaultPrevented&&s&&s.preventDefault(),u}};function O(e,i={}){for(let[n,r]of Object.entries(i))try{e[n]=r}catch(s){Object.defineProperty(e,n,{configurable:!0,get:()=>r})}return e}function N(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(i){return e}}function F(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}let U={setDataAttribute(e,i,n){e.setAttribute(`data-bs-${F(i)}`,n)},removeDataAttribute(e,i){e.removeAttribute(`data-bs-${F(i)}`)},getDataAttributes(e){if(!e)return{};let i={},n=Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"));for(let r of n){let s=r.replace(/^bs/,"");i[s=s.charAt(0).toLowerCase()+s.slice(1,s.length)]=N(e.dataset[r])}return i},getDataAttribute:(e,i)=>N(e.getAttribute(`data-bs-${F(i)}`))};class z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,i){let n=a(i)?U.getDataAttribute(i,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...a(i)?U.getDataAttributes(i):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,i=this.constructor.DefaultType){var n;for(let[r,s]of Object.entries(i)){let o=e[r],l=a(o)?"element":null==(n=o)?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!RegExp(s).test(l))throw TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${s}".`)}}}class B extends z{constructor(e,n){super(),(e=o(e))&&(this._element=e,this._config=this._getConfig(n),i.set(this._element,this.constructor.DATA_KEY,this))}dispose(){for(let e of(i.remove(this._element,this.constructor.DATA_KEY),k.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this)))this[e]=null}_queueCallback(e,i,n=!0){v(e,i,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return i.get(o(e),this.DATA_KEY)}static getOrCreateInstance(e,i={}){return this.getInstance(e)||new this(e,"object"==typeof i?i:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}let H=e=>{let i=e.getAttribute("data-bs-target");if(!i||"#"===i){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),i=n&&"#"!==n?n.trim():null}return i?i.split(",").map(e=>r(e)).join(","):null},G={find:(e,i=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(i,e)),findOne:(e,i=document.documentElement)=>Element.prototype.querySelector.call(i,e),children:(e,i)=>[].concat(...e.children).filter(e=>e.matches(i)),parents(e,i){let n=[],r=e.parentNode.closest(i);for(;r;)n.push(r),r=r.parentNode.closest(i);return n},prev(e,i){let n=e.previousElementSibling;for(;n;){if(n.matches(i))return[n];n=n.previousElementSibling}return[]},next(e,i){let n=e.nextElementSibling;for(;n;){if(n.matches(i))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){let i=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(i,e).filter(e=>!u(e)&&l(e))},getSelectorFromElement(e){let i=H(e);return i&&G.findOne(i)?i:null},getElementFromSelector(e){let i=H(e);return i?G.findOne(i):null},getMultipleElementsFromSelector(e){let i=H(e);return i?G.find(i):[]}},V=(e,i="hide")=>{let n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;k.on(document,n,`[data-bs-dismiss="${r}"]`,function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),u(this))return;let s=G.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(s)[i]()})},W=".bs.alert",X=`close${W}`,j=`closed${W}`;class q extends B{static get NAME(){return"alert"}close(){if(k.trigger(this._element,X).defaultPrevented)return;this._element.classList.remove("show");let e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),k.trigger(this._element,j),this.dispose()}static jQueryInterface(e){return this.each(function(){let i=q.getOrCreateInstance(this);if("string"==typeof e){if(void 0===i[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);i[e](this)}})}}V(q,"close"),g(q);let Y='[data-bs-toggle="button"]';class Z extends B{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){let i=Z.getOrCreateInstance(this);"toggle"===e&&i[e]()})}}k.on(document,"click.bs.button.data-api",Y,e=>{e.preventDefault();let i=e.target.closest(Y);Z.getOrCreateInstance(i).toggle()}),g(Z);let K=".bs.swipe",J=`touchstart${K}`,Q=`touchmove${K}`,ee=`touchend${K}`,et=`pointerdown${K}`,ei=`pointerup${K}`,en={endCallback:null,leftCallback:null,rightCallback:null},er={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class es extends z{constructor(e,i){super(),this._element=e,e&&es.isSupported()&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return en}static get DefaultType(){return er}static get NAME(){return"swipe"}dispose(){k.off(this._element,K)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),$(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=40)return;let i=e/this._deltaX;this._deltaX=0,i&&$(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(k.on(this._element,et,e=>this._start(e)),k.on(this._element,ei,e=>this._end(e)),this._element.classList.add("pointer-event")):(k.on(this._element,J,e=>this._start(e)),k.on(this._element,Q,e=>this._move(e)),k.on(this._element,ee,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}let ea=".bs.carousel",eo=".data-api",el="next",eu="prev",ec="left",eh="right",ed=`slide${ea}`,ep=`slid${ea}`,ef=`keydown${ea}`,em=`mouseenter${ea}`,eg=`mouseleave${ea}`,e$=`dragstart${ea}`,ev=`load${ea}${eo}`,ey=`click${ea}${eo}`,e8="carousel",e_="active",ex=".active",eb=".carousel-item",ew=ex+eb,eS={ArrowLeft:eh,ArrowRight:ec},eE={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},eT={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class eM extends B{constructor(e,i){super(e,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=G.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===e8&&this.cycle()}static get Default(){return eE}static get DefaultType(){return eT}static get NAME(){return"carousel"}next(){this._slide(el)}nextWhenVisible(){!document.hidden&&l(this._element)&&this.next()}prev(){this._slide(eu)}pause(){this._isSliding&&s(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?k.one(this._element,ep,()=>this.cycle()):this.cycle())}to(e){let i=this._getItems();if(e>i.length-1||e<0)return;if(this._isSliding)return void k.one(this._element,ep,()=>this.to(e));let n=this._getItemIndex(this._getActive());n!==e&&this._slide(e>n?el:eu,i[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&k.on(this._element,ef,e=>this._keydown(e)),"hover"===this._config.pause&&(k.on(this._element,em,()=>this.pause()),k.on(this._element,eg,()=>this._maybeEnableCycle())),this._config.touch&&es.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let e of G.find(".carousel-item img",this._element))k.on(e,e$,e=>e.preventDefault());this._swipeHelper=new es(this._element,{leftCallback:()=>this._slide(this._directionToOrder(ec)),rightCallback:()=>this._slide(this._directionToOrder(eh)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let i=eS[e.key];i&&(e.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let i=G.findOne(ex,this._indicatorsElement);i.classList.remove(e_),i.removeAttribute("aria-current");let n=G.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(e_),n.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let i=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(e,i=null){if(this._isSliding)return;let n=this._getActive(),r=e===el,s=i||y(this._getItems(),n,r,this._config.wrap);if(s===n)return;let a=this._getItemIndex(s),o=i=>k.trigger(this._element,i,{relatedTarget:s,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:a});if(o(ed).defaultPrevented||!n||!s)return;let l=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=s;let u=r?"carousel-item-start":"carousel-item-end",c=r?"carousel-item-next":"carousel-item-prev";s.classList.add(c),d(s),n.classList.add(u),s.classList.add(u),this._queueCallback(()=>{s.classList.remove(u,c),s.classList.add(e_),n.classList.remove(e_,c,u),this._isSliding=!1,o(ep)},n,this._isAnimated()),l&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return G.findOne(ew,this._element)}_getItems(){return G.find(eb,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return m()?e===ec?eu:el:e===ec?el:eu}_orderToDirection(e){return m()?e===eu?ec:eh:e===eu?eh:ec}static jQueryInterface(e){return this.each(function(){let i=eM.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===i[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);i[e]()}}else i.to(e)})}}k.on(document,ey,"[data-bs-slide], [data-bs-slide-to]",function(e){let i=G.getElementFromSelector(this);if(!i||!i.classList.contains(e8))return;e.preventDefault();let n=eM.getOrCreateInstance(i),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===U.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())}),k.on(window,ev,()=>{let e=G.find('[data-bs-ride="carousel"]');for(let i of e)eM.getOrCreateInstance(i)}),g(eM);let eC=".bs.collapse",eD=`show${eC}`,eA=`shown${eC}`,e0=`hide${eC}`,e1=`hidden${eC}`,eP=`click${eC}.data-api`,eL="show",eR="collapse",eI="collapsing",ek=`:scope .${eR} .${eR}`,eO='[data-bs-toggle="collapse"]',eN={parent:null,toggle:!0},eF={parent:"(null|element)",toggle:"boolean"};class eU extends B{constructor(e,i){super(e,i),this._isTransitioning=!1,this._triggerArray=[];let n=G.find(eO);for(let r of n){let s=G.getSelectorFromElement(r),a=G.find(s).filter(e=>e===this._element);null!==s&&a.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return eN}static get DefaultType(){return eF}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>eU.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning||k.trigger(this._element,eD).defaultPrevented)return;for(let i of e)i.hide();let n=this._getDimension();this._element.classList.remove(eR),this._element.classList.add(eI),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let r=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(eI),this._element.classList.add(eR,eL),this._element.style[n]="",k.trigger(this._element,eA)},this._element,!0),this._element.style[n]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown()||k.trigger(this._element,e0).defaultPrevented)return;let e=this._getDimension();for(let i of(this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,d(this._element),this._element.classList.add(eI),this._element.classList.remove(eR,eL),this._triggerArray)){let n=G.getElementFromSelector(i);n&&!this._isShown(n)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(eI),this._element.classList.add(eR),k.trigger(this._element,e1)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(eL)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=o(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;let e=this._getFirstLevelChildren(eO);for(let i of e){let n=G.getElementFromSelector(i);n&&this._addAriaAndCollapsedClass([i],this._isShown(n))}}_getFirstLevelChildren(e){let i=G.find(ek,this._config.parent);return G.find(e,this._config.parent).filter(e=>!i.includes(e))}_addAriaAndCollapsedClass(e,i){if(e.length)for(let n of e)n.classList.toggle("collapsed",!i),n.setAttribute("aria-expanded",i)}static jQueryInterface(e){let i={};return"string"==typeof e&&/show|hide/.test(e)&&(i.toggle=!1),this.each(function(){let n=eU.getOrCreateInstance(this,i);if("string"==typeof e){if(void 0===n[e])throw TypeError(`No method named "${e}"`);n[e]()}})}}k.on(document,eP,eO,function(e){for(let i of(("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault(),G.getMultipleElementsFromSelector(this)))eU.getOrCreateInstance(i,{toggle:!1}).toggle()}),g(eU);var ez="top",eB="bottom",e3="right",e2="left",e4="auto",eH=[ez,eB,e3,e2],eG="start",e6="clippingParents",eV="viewport",eW="popper",e5="reference",e7=eH.reduce(function(e,i){return e.concat([i+"-"+eG,i+"-end"])},[]),eX=[].concat(eH,[e4]).reduce(function(e,i){return e.concat([i,i+"-"+eG,i+"-end"])},[]),ej="beforeRead",eq="read",e9="afterRead",eY="beforeMain",eZ="main",eK="afterMain",eJ="beforeWrite",eQ="write",te="afterWrite",tt=[ej,eq,e9,eY,eZ,eK,eJ,eQ,te];function ti(e){return e?(e.nodeName||"").toLowerCase():null}function tn(e){if(null==e)return window;if("[object Window]"!==e.toString()){var i=e.ownerDocument;return i&&i.defaultView||window}return e}function tr(e){return e instanceof tn(e).Element||e instanceof Element}function ts(e){return e instanceof tn(e).HTMLElement||e instanceof HTMLElement}function ta(e){return"undefined"!=typeof ShadowRoot&&(e instanceof tn(e).ShadowRoot||e instanceof ShadowRoot)}let to={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var i=e.state;Object.keys(i.elements).forEach(function(e){var n=i.styles[e]||{},r=i.attributes[e]||{},s=i.elements[e];ts(s)&&ti(s)&&(Object.assign(s.style,n),Object.keys(r).forEach(function(e){var i=r[e];!1===i?s.removeAttribute(e):s.setAttribute(e,!0===i?"":i)}))})},effect:function(e){var i=e.state,n={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(i.elements.popper.style,n.popper),i.styles=n,i.elements.arrow&&Object.assign(i.elements.arrow.style,n.arrow),function(){Object.keys(i.elements).forEach(function(e){var r=i.elements[e],s=i.attributes[e]||{},a=Object.keys(i.styles.hasOwnProperty(e)?i.styles[e]:n[e]).reduce(function(e,i){return e[i]="",e},{});ts(r)&&ti(r)&&(Object.assign(r.style,a),Object.keys(s).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};function tl(e){return e.split("-")[0]}var tu=Math.max,tc=Math.min,th=Math.round;function td(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function tp(){return!/^((?!chrome|android).)*safari/i.test(td())}function tf(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),s=1,a=1;i&&ts(e)&&(s=e.offsetWidth>0&&th(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&th(r.height)/e.offsetHeight||1);var o=(tr(e)?tn(e):window).visualViewport,l=!tp()&&n,u=(r.left+(l&&o?o.offsetLeft:0))/s,c=(r.top+(l&&o?o.offsetTop:0))/a,h=r.width/s,d=r.height/a;return{width:h,height:d,top:c,right:u+h,bottom:c+d,left:u,x:u,y:c}}function tm(e){var i=tf(e),n=e.offsetWidth,r=e.offsetHeight;return 1>=Math.abs(i.width-n)&&(n=i.width),1>=Math.abs(i.height-r)&&(r=i.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function tg(e,i){var n=i.getRootNode&&i.getRootNode();if(e.contains(i))return!0;if(n&&ta(n)){var r=i;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function t$(e){return tn(e).getComputedStyle(e)}function tv(e){return["table","td","th"].indexOf(ti(e))>=0}function ty(e){return((tr(e)?e.ownerDocument:e.document)||window.document).documentElement}function t8(e){return"html"===ti(e)?e:e.assignedSlot||e.parentNode||(ta(e)?e.host:null)||ty(e)}function t_(e){return ts(e)&&"fixed"!==t$(e).position?e.offsetParent:null}function tx(e){for(var i=tn(e),n=t_(e);n&&tv(n)&&"static"===t$(n).position;)n=t_(n);return n&&("html"===ti(n)||"body"===ti(n)&&"static"===t$(n).position)?i:n||function(e){var i=/firefox/i.test(td());if(/Trident/i.test(td())&&ts(e)&&"fixed"===t$(e).position)return null;var n=t8(e);for(ta(n)&&(n=n.host);ts(n)&&0>["html","body"].indexOf(ti(n));){var r=t$(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||i&&"filter"===r.willChange||i&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||i}function tb(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function tw(e,i,n){return tu(e,tc(i,n))}function tS(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function tE(e,i){return i.reduce(function(i,n){return i[n]=e,i},{})}let tT={name:"arrow",enabled:!0,phase:"main",fn:function(e){var i,n=e.state,r=e.name,s=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,l=tl(n.placement),u=tb(l),c=[e2,e3].indexOf(l)>=0?"height":"width";if(a&&o){var h,d,p=(h=s.padding,d=n,tS("number"!=typeof(h="function"==typeof h?h(Object.assign({},d.rects,{placement:d.placement})):h)?h:tE(h,eH))),f=tm(a),m=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],g=o[u]-n.rects.reference[u],$=tx(a),v=$?"y"===u?$.clientHeight||0:$.clientWidth||0:0,y=p["y"===u?ez:e2],_=v-f[c]-p["y"===u?eB:e3],x=v/2-f[c]/2+(m/2-g/2),b=tw(y,x,_),w=u;n.modifiersData[r]=((i={})[w]=b,i.centerOffset=b-x,i)}},effect:function(e){var i=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=i.elements.popper.querySelector(r)))&&tg(i.elements.popper,r)&&(i.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tM(e){return e.split("-")[1]}var tC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tD(e){var i,n=e.popper,r=e.popperRect,s=e.placement,a=e.variation,o=e.offsets,l=e.position,u=e.gpuAcceleration,c=e.adaptive,h=e.roundOffsets,d=e.isFixed,p=o.x,f=void 0===p?0:p,m=o.y,g=void 0===m?0:m,$="function"==typeof h?h({x:f,y:g}):{x:f,y:g};f=$.x,g=$.y;var v=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),_=e2,x=ez,b=window;if(c){var w=tx(n),S="clientHeight",E="clientWidth";w===tn(n)&&"static"!==t$(w=ty(n)).position&&"absolute"===l&&(S="scrollHeight",E="scrollWidth"),(s===ez||(s===e2||s===e3)&&"end"===a)&&(x=eB,g-=(d&&w===b&&b.visualViewport?b.visualViewport.height:w[S])-r.height,g*=u?1:-1),s!==e2&&(s!==ez&&s!==eB||"end"!==a)||(_=e3,f-=(d&&w===b&&b.visualViewport?b.visualViewport.width:w[E])-r.width,f*=u?1:-1)}var T,M,C,D,A,P,L=Object.assign({position:l},c&&tC),R=!0===h?(T={x:f,y:g},M=tn(n),C=T.x,D=T.y,{x:th(C*(A=M.devicePixelRatio||1))/A||0,y:th(D*A)/A||0}):{x:f,y:g};return f=R.x,g=R.y,u?Object.assign({},L,((P={})[x]=y?"0":"",P[_]=v?"0":"",P.transform=1>=(b.devicePixelRatio||1)?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",P)):Object.assign({},L,((i={})[x]=y?g+"px":"",i[_]=v?f+"px":"",i.transform="",i))}let tA={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var i=e.state,n=e.options,r=n.gpuAcceleration,s=n.adaptive,a=n.roundOffsets,o=void 0===a||a,l={placement:tl(i.placement),variation:tM(i.placement),popper:i.elements.popper,popperRect:i.rects.popper,gpuAcceleration:void 0===r||r,isFixed:"fixed"===i.options.strategy};null!=i.modifiersData.popperOffsets&&(i.styles.popper=Object.assign({},i.styles.popper,tD(Object.assign({},l,{offsets:i.modifiersData.popperOffsets,position:i.options.strategy,adaptive:void 0===s||s,roundOffsets:o})))),null!=i.modifiersData.arrow&&(i.styles.arrow=Object.assign({},i.styles.arrow,tD(Object.assign({},l,{offsets:i.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-placement":i.placement})},data:{}};var t0={passive:!0};let t1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var i=e.state,n=e.instance,r=e.options,s=r.scroll,a=void 0===s||s,o=r.resize,l=void 0===o||o,u=tn(i.elements.popper),c=[].concat(i.scrollParents.reference,i.scrollParents.popper);return a&&c.forEach(function(e){e.addEventListener("scroll",n.update,t0)}),l&&u.addEventListener("resize",n.update,t0),function(){a&&c.forEach(function(e){e.removeEventListener("scroll",n.update,t0)}),l&&u.removeEventListener("resize",n.update,t0)}},data:{}};var tP={left:"right",right:"left",bottom:"top",top:"bottom"};function tL(e){return e.replace(/left|right|bottom|top/g,function(e){return tP[e]})}var tR={start:"end",end:"start"};function tI(e){return e.replace(/start|end/g,function(e){return tR[e]})}function tk(e){var i=tn(e);return{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function tO(e){return tf(ty(e)).left+tk(e).scrollLeft}function tN(e){var i=t$(e),n=i.overflow,r=i.overflowX,s=i.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function tF(e,i){void 0===i&&(i=[]);var n,r=function e(i){return["html","body","#document"].indexOf(ti(i))>=0?i.ownerDocument.body:ts(i)&&tN(i)?i:e(t8(i))}(e),s=r===(null==(n=e.ownerDocument)?void 0:n.body),a=tn(r),o=s?[a].concat(a.visualViewport||[],tN(r)?r:[]):r,l=i.concat(o);return s?l:l.concat(tF(t8(o)))}function tU(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function tz(e,i,n){var r,s,a,o,l,u,c,h,d,p,f,m;return i===eV?tU(function(e,i){var n=tn(e),r=ty(e),s=n.visualViewport,a=r.clientWidth,o=r.clientHeight,l=0,u=0;if(s){a=s.width,o=s.height;var c=tp();(c||!c&&"fixed"===i)&&(l=s.offsetLeft,u=s.offsetTop)}return{width:a,height:o,x:l+tO(e),y:u}}(e,n)):tr(i)?(r=i,(a=tf(r,!1,"fixed"===(s=n))).top=a.top+r.clientTop,a.left=a.left+r.clientLeft,a.bottom=a.top+r.clientHeight,a.right=a.left+r.clientWidth,a.width=r.clientWidth,a.height=r.clientHeight,a.x=a.left,a.y=a.top,a):tU((o=ty(e),u=ty(o),c=tk(o),h=null==(l=o.ownerDocument)?void 0:l.body,d=tu(u.scrollWidth,u.clientWidth,h?h.scrollWidth:0,h?h.clientWidth:0),p=tu(u.scrollHeight,u.clientHeight,h?h.scrollHeight:0,h?h.clientHeight:0),f=-c.scrollLeft+tO(o),m=-c.scrollTop,"rtl"===t$(h||u).direction&&(f+=tu(u.clientWidth,h?h.clientWidth:0)-d),{width:d,height:p,x:f,y:m}))}function tB(e){var i,n=e.reference,r=e.element,s=e.placement,a=s?tl(s):null,o=s?tM(s):null,l=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case ez:i={x:l,y:n.y-r.height};break;case eB:i={x:l,y:n.y+n.height};break;case e3:i={x:n.x+n.width,y:u};break;case e2:i={x:n.x-r.width,y:u};break;default:i={x:n.x,y:n.y}}var c=a?tb(a):null;if(null!=c){var h="y"===c?"height":"width";switch(o){case eG:i[c]=i[c]-(n[h]/2-r[h]/2);break;case"end":i[c]=i[c]+(n[h]/2-r[h]/2)}}return i}function t3(e,i){void 0===i&&(i={});var n,r,s,a,o,l,u,c,h,d,p=i,f=p.placement,m=void 0===f?e.placement:f,g=p.strategy,$=void 0===g?e.strategy:g,v=p.boundary,y=p.rootBoundary,_=p.elementContext,x=void 0===_?eW:_,b=p.altBoundary,w=p.padding,S=void 0===w?0:w,E=tS("number"!=typeof S?S:tE(S,eH)),T=e.rects.popper,M=e.elements[void 0!==b&&b?x===eW?e5:eW:x],C=(n=tr(M)?M:M.contextElement||ty(e.elements.popper),r=void 0===v?e6:v,s=void 0===y?eV:y,a=$,h=(c=[].concat("clippingParents"===r?(o=n,l=tF(t8(o)),u=["absolute","fixed"].indexOf(t$(o).position)>=0&&ts(o)?tx(o):o,tr(u)?l.filter(function(e){return tr(e)&&tg(e,u)&&"body"!==ti(e)}):[]):[].concat(r),[s]))[0],(d=c.reduce(function(e,i){var r=tz(n,i,a);return e.top=tu(r.top,e.top),e.right=tc(r.right,e.right),e.bottom=tc(r.bottom,e.bottom),e.left=tu(r.left,e.left),e},tz(n,h,a))).width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d),D=tf(e.elements.reference),A=tB({reference:D,element:T,strategy:"absolute",placement:m}),P=tU(Object.assign({},T,A)),L=x===eW?P:D,R={top:C.top-L.top+E.top,bottom:L.bottom-C.bottom+E.bottom,left:C.left-L.left+E.left,right:L.right-C.right+E.right},I=e.modifiersData.offset;if(x===eW&&I){var k=I[m];Object.keys(R).forEach(function(e){var i=[e3,eB].indexOf(e)>=0?1:-1,n=[ez,eB].indexOf(e)>=0?"y":"x";R[e]+=k[n]*i})}return R}let t2={name:"flip",enabled:!0,phase:"main",fn:function(e){var i=e.state,n=e.options,r=e.name;if(!i.modifiersData[r]._skip){for(var s=n.mainAxis,a=void 0===s||s,o=n.altAxis,l=void 0===o||o,u=n.fallbackPlacements,c=n.padding,h=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,m=void 0===f||f,g=n.allowedAutoPlacements,$=i.options.placement,v=tl($),y=u||(v!==$&&m?function(e){if(tl(e)===e4)return[];var i=tL(e);return[tI(e),i,tI(i)]}($):[tL($)]),_=[$].concat(y).reduce(function(e,n){var r,s,a,o,l,u,p,f,$,v,y,_,x,b;return e.concat(tl(n)===e4?(r=i,s={placement:n,boundary:h,rootBoundary:d,padding:c,flipVariations:m,allowedAutoPlacements:g},o=(a=s).placement,l=a.boundary,u=a.rootBoundary,p=a.padding,f=a.flipVariations,v=void 0===($=a.allowedAutoPlacements)?eX:$,0===(x=(_=(y=tM(o))?f?e7:e7.filter(function(e){return tM(e)===y}):eH).filter(function(e){return v.indexOf(e)>=0})).length&&(x=_),Object.keys(b=x.reduce(function(e,i){return e[i]=t3(r,{placement:i,boundary:l,rootBoundary:u,padding:p})[tl(i)],e},{})).sort(function(e,i){return b[e]-b[i]})):n)},[]),x=i.rects.reference,b=i.rects.popper,w=new Map,S=!0,E=_[0],T=0;T<_.length;T++){var M=_[T],C=tl(M),D=tM(M)===eG,A=[ez,eB].indexOf(C)>=0,P=A?"width":"height",L=t3(i,{placement:M,boundary:h,rootBoundary:d,altBoundary:p,padding:c}),R=A?D?e3:e2:D?eB:ez;x[P]>b[P]&&(R=tL(R));var I=tL(R),k=[];if(a&&k.push(L[C]<=0),l&&k.push(L[R]<=0,L[I]<=0),k.every(function(e){return e})){E=M,S=!1;break}w.set(M,k)}if(S)for(var O=function(e){var i=_.find(function(i){var n=w.get(i);if(n)return n.slice(0,e).every(function(e){return e})});if(i)return E=i,"break"},N=m?3:1;N>0&&"break"!==O(N);N--);i.placement!==E&&(i.modifiersData[r]._skip=!0,i.placement=E,i.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function t4(e,i,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-i.height-n.y,right:e.right-i.width+n.x,bottom:e.bottom-i.height+n.y,left:e.left-i.width-n.x}}function tH(e){return[ez,e3,eB,e2].some(function(i){return e[i]>=0})}let tG={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var i=e.state,n=e.name,r=i.rects.reference,s=i.rects.popper,a=i.modifiersData.preventOverflow,o=t3(i,{elementContext:"reference"}),l=t3(i,{altBoundary:!0}),u=t4(o,r),c=t4(l,s,a),h=tH(u),d=tH(c);i.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:h,hasPopperEscaped:d},i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":d})}},t6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var i=e.state,n=e.options,r=e.name,s=n.offset,a=void 0===s?[0,0]:s,o=eX.reduce(function(e,n){var r,s,o,l,u,c,h,d;return e[n]=(r=n,s=i.rects,o=a,u=[e2,ez].indexOf(l=tl(r))>=0?-1:1,h=(c="function"==typeof o?o(Object.assign({},s,{placement:r})):o)[0],d=c[1],h=h||0,d=(d||0)*u,[e2,e3].indexOf(l)>=0?{x:d,y:h}:{x:h,y:d}),e},{}),l=o[i.placement],u=l.x,c=l.y;null!=i.modifiersData.popperOffsets&&(i.modifiersData.popperOffsets.x+=u,i.modifiersData.popperOffsets.y+=c),i.modifiersData[r]=o}},tV={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var i=e.state,n=e.name;i.modifiersData[n]=tB({reference:i.rects.reference,element:i.rects.popper,strategy:"absolute",placement:i.placement})},data:{}},tW={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var i=e.state,n=e.options,r=e.name,s=n.mainAxis,a=n.altAxis,o=n.boundary,l=n.rootBoundary,u=n.altBoundary,c=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,f=void 0===p?0:p,m=t3(i,{boundary:o,rootBoundary:l,padding:c,altBoundary:u}),g=tl(i.placement),$=tM(i.placement),v=!$,y=tb(g),_="x"===y?"y":"x",x=i.modifiersData.popperOffsets,b=i.rects.reference,w=i.rects.popper,S="function"==typeof f?f(Object.assign({},i.rects,{placement:i.placement})):f,E="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),T=i.modifiersData.offset?i.modifiersData.offset[i.placement]:null,M={x:0,y:0};if(x){if(void 0===s||s){var C,D="y"===y?ez:e2,A="y"===y?eB:e3,P="y"===y?"height":"width",L=x[y],R=L+m[D],I=L-m[A],k=d?-w[P]/2:0,O=$===eG?b[P]:w[P],N=$===eG?-w[P]:-b[P],F=i.elements.arrow,U=d&&F?tm(F):{width:0,height:0},z=i.modifiersData["arrow#persistent"]?i.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=z[D],H=z[A],G=tw(0,b[P],U[P]),V=v?b[P]/2-k-G-B-E.mainAxis:O-G-B-E.mainAxis,W=v?-b[P]/2+k+G+H+E.mainAxis:N+G+H+E.mainAxis,X=i.elements.arrow&&tx(i.elements.arrow),j=X?"y"===y?X.clientTop||0:X.clientLeft||0:0,q=null!=(C=null==T?void 0:T[y])?C:0,Y=tw(d?tc(R,L+V-q-j):R,L,d?tu(I,L+W-q):I);x[y]=Y,M[y]=Y-L}if(void 0!==a&&a){var Z,K,J,Q,ee,et=x[_],ei="y"===_?"height":"width",en=et+m["x"===y?ez:e2],er=et-m["x"===y?eB:e3],es=-1!==[ez,e2].indexOf(g),ea=null!=(ee=null==T?void 0:T[_])?ee:0,eo=es?en:et-b[ei]-w[ei]-ea+E.altAxis,el=es?et+b[ei]+w[ei]-ea-E.altAxis:er,eu=d&&es?(Z=eo,K=et,J=el,(Q=tw(Z,K,J))>J?J:Q):tw(d?eo:en,et,d?el:er);x[_]=eu,M[_]=eu-et}i.modifiersData[r]=M}},requiresIfExists:["offset"]};var t5={placement:"bottom",modifiers:[],strategy:"absolute"};function t7(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return!i.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function tX(e){void 0===e&&(e={});var i=e,n=i.defaultModifiers,r=void 0===n?[]:n,s=i.defaultOptions,a=void 0===s?t5:s;return function(e,i,n){void 0===n&&(n=a);var s,o,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},t5,a),modifiersData:{},elements:{reference:e,popper:i},attributes:{},styles:{}},u=[],c=!1,h={state:l,setOptions:function(n){var s,o,c,p,f,m,g="function"==typeof n?n(l.options):n;d(),l.options=Object.assign({},a,l.options,g),l.scrollParents={reference:tr(e)?tF(e):e.contextElement?tF(e.contextElement):[],popper:tF(i)};var $,v,y=(m=(o=s=Object.keys(v=($=[].concat(r,l.options.modifiers)).reduce(function(e,i){var n=e[i.name];return e[i.name]=n?Object.assign({},n,i,{options:Object.assign({},n.options,i.options),data:Object.assign({},n.data,i.data)}):i,e},{})).map(function(e){return v[e]}),c=new Map,p=new Set,f=[],o.forEach(function(e){c.set(e.name,e)}),o.forEach(function(e){p.has(e.name)||function e(i){p.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach(function(i){if(!p.has(i)){var n=c.get(i);n&&e(n)}}),f.push(i)}(e)}),f),tt.reduce(function(e,i){return e.concat(m.filter(function(e){return e.phase===i}))},[]));return l.orderedModifiers=y.filter(function(e){return e.enabled}),l.orderedModifiers.forEach(function(e){var i=e.name,n=e.options,r=e.effect;if("function"==typeof r){var s=r({state:l,name:i,instance:h,options:void 0===n?{}:n});u.push(s||function(){})}}),h.update()},forceUpdate:function(){if(!c){var e,i,n,r,s,a,o,u,d,p,f,m,g,$,v,y=l.elements,_=y.reference,x=y.popper;if(t7(_,x)){l.rects={reference:(e=_,i=tx(x),n="fixed"===l.options.strategy,p=ts(i),f=ts(i)&&(a=th((s=(r=i).getBoundingClientRect()).width)/r.offsetWidth||1,o=th(s.height)/r.offsetHeight||1,1!==a||1!==o),m=ty(i),g=tf(e,f,n),$={scrollLeft:0,scrollTop:0},v={x:0,y:0},(p||!p&&!n)&&(("body"!==ti(i)||tN(m))&&($=(u=i)!==tn(u)&&ts(u)?{scrollLeft:(d=u).scrollLeft,scrollTop:d.scrollTop}:tk(u)),ts(i)?((v=tf(i,!0)).x+=i.clientLeft,v.y+=i.clientTop):m&&(v.x=tO(m))),{x:g.left+$.scrollLeft-v.x,y:g.top+$.scrollTop-v.y,width:g.width,height:g.height}),popper:tm(x)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach(function(e){return l.modifiersData[e.name]=Object.assign({},e.data)});for(var b=0;b<l.orderedModifiers.length;b++)if(!0!==l.reset){var w=l.orderedModifiers[b],S=w.fn,E=w.options,T=void 0===E?{}:E,M=w.name;"function"==typeof S&&(l=S({state:l,options:T,name:M,instance:h})||l)}else l.reset=!1,b=-1}}},update:(s=function(){return new Promise(function(e){h.forceUpdate(),e(l)})},function(){return o||(o=new Promise(function(e){Promise.resolve().then(function(){o=void 0,e(s())})})),o}),destroy:function(){d(),c=!0}};if(!t7(e,i))return h;function d(){u.forEach(function(e){return e()}),u=[]}return h.setOptions(n).then(function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)}),h}}var tj=tX(),tq=tX({defaultModifiers:[t1,tV,tA,to]}),t9=tX({defaultModifiers:[t1,tV,tA,to,t6,t2,tW,tT,tG]});let tY=Object.freeze(Object.defineProperty({__proto__:null,afterMain:eK,afterRead:e9,afterWrite:te,applyStyles:to,arrow:tT,auto:e4,basePlacements:eH,beforeMain:eY,beforeRead:ej,beforeWrite:eJ,bottom:eB,clippingParents:e6,computeStyles:tA,createPopper:t9,createPopperBase:tj,createPopperLite:tq,detectOverflow:t3,end:"end",eventListeners:t1,flip:t2,hide:tG,left:e2,main:eZ,modifierPhases:tt,offset:t6,placements:eX,popper:eW,popperGenerator:tX,popperOffsets:tV,preventOverflow:tW,read:eq,reference:e5,right:e3,start:eG,top:ez,variationPlacements:e7,viewport:eV,write:eQ},Symbol.toStringTag,{value:"Module"})),tZ="dropdown",tK=".bs.dropdown",tJ=".data-api",tQ="ArrowDown",ie=`hide${tK}`,it=`hidden${tK}`,ii=`show${tK}`,ir=`shown${tK}`,is=`click${tK}${tJ}`,ia=`keydown${tK}${tJ}`,io=`keyup${tK}${tJ}`,il="show",iu='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ic=`${iu}.${il}`,ih=".dropdown-menu",id=m()?"top-end":"top-start",ip=m()?"top-start":"top-end",im=m()?"bottom-end":"bottom-start",ig=m()?"bottom-start":"bottom-end",i$=m()?"left-start":"right-start",iv=m()?"right-start":"left-start",iy={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},i8={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class i_ extends B{constructor(e,i){super(e,i),this._popper=null,this._parent=this._element.parentNode,this._menu=G.next(this._element,ih)[0]||G.prev(this._element,ih)[0]||G.findOne(ih,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return iy}static get DefaultType(){return i8}static get NAME(){return tZ}toggle(){return this._isShown()?this.hide():this.show()}show(){if(u(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!k.trigger(this._element,ii,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let i of[].concat(...document.body.children))k.on(i,"mouseover",h);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(il),this._element.classList.add(il),k.trigger(this._element,ir,e)}}hide(){if(u(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!k.trigger(this._element,ie,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let i of[].concat(...document.body.children))k.off(i,"mouseover",h);this._popper&&this._popper.destroy(),this._menu.classList.remove(il),this._element.classList.remove(il),this._element.setAttribute("aria-expanded","false"),U.removeDataAttribute(this._menu,"popper"),k.trigger(this._element,it,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!a(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw TypeError(`${tZ.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===tY)throw TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:a(this._config.reference)?e=o(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);let i=this._getPopperConfig();this._popper=t9(e,this._menu,i)}_isShown(){return this._menu.classList.contains(il)}_getPlacement(){let e=this._parent;if(e.classList.contains("dropend"))return i$;if(e.classList.contains("dropstart"))return iv;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";let i="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?i?ip:id:i?ig:im}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?i=>e(i,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(U.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...$(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:i}){let n=G.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>l(e));n.length&&y(n,i,e===tQ,!n.includes(i)).focus()}static jQueryInterface(e){return this.each(function(){let i=i_.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw TypeError(`No method named "${e}"`);i[e]()}})}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;let i=G.find(ic);for(let n of i){let r=i_.getInstance(n);if(!r||!1===r._config.autoClose)continue;let s=e.composedPath(),a=s.includes(r._menu);if(s.includes(r._element)||"inside"===r._config.autoClose&&!a||"outside"===r._config.autoClose&&a||r._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let o={relatedTarget:r._element};"click"===e.type&&(o.clickEvent=e),r._completeHide(o)}}static dataApiKeydownHandler(e){let i=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,r=["ArrowUp",tQ].includes(e.key);if(!r&&!n||i&&!n)return;e.preventDefault();let s=this.matches(iu)?this:G.prev(this,iu)[0]||G.next(this,iu)[0]||G.findOne(iu,e.delegateTarget.parentNode),a=i_.getOrCreateInstance(s);if(r)return e.stopPropagation(),a.show(),void a._selectMenuItem(e);a._isShown()&&(e.stopPropagation(),a.hide(),s.focus())}}k.on(document,ia,iu,i_.dataApiKeydownHandler),k.on(document,ia,ih,i_.dataApiKeydownHandler),k.on(document,is,i_.clearMenus),k.on(document,io,i_.clearMenus),k.on(document,is,iu,function(e){e.preventDefault(),i_.getOrCreateInstance(this).toggle()}),g(i_);let ix="backdrop",ib="show",iw=`mousedown.bs.${ix}`,iS={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},iE={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class iT extends z{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return iS}static get DefaultType(){return iE}static get NAME(){return ix}show(e){if(!this._config.isVisible)return void $(e);this._append();let i=this._getElement();this._config.isAnimated&&d(i),i.classList.add(ib),this._emulateAnimation(()=>{$(e)})}hide(e){this._config.isVisible?(this._getElement().classList.remove(ib),this._emulateAnimation(()=>{this.dispose(),$(e)})):$(e)}dispose(){this._isAppended&&(k.off(this._element,iw),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=o(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),k.on(e,iw,()=>{$(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){v(e,this._getElement(),this._config.isAnimated)}}let iM=".bs.focustrap",iC=`focusin${iM}`,iD=`keydown.tab${iM}`,iA="backward",i0={autofocus:!0,trapElement:null},i1={autofocus:"boolean",trapElement:"element"};class iP extends z{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return i0}static get DefaultType(){return i1}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),k.off(document,iM),k.on(document,iC,e=>this._handleFocusin(e)),k.on(document,iD,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,k.off(document,iM))}_handleFocusin(e){let{trapElement:i}=this._config;if(e.target===document||e.target===i||i.contains(e.target))return;let n=G.focusableChildren(i);0===n.length?i.focus():this._lastTabNavDirection===iA?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?iA:"forward")}}let iL=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",iR=".sticky-top",iI="padding-right",ik="margin-right";class iO{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,iI,i=>i+e),this._setElementAttributes(iL,iI,i=>i+e),this._setElementAttributes(iR,ik,i=>i-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,iI),this._resetElementAttributes(iL,iI),this._resetElementAttributes(iR,ik)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,i,n){let r=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,i);let s=window.getComputedStyle(e).getPropertyValue(i);e.style.setProperty(i,`${n(Number.parseFloat(s))}px`)})}_saveInitialAttribute(e,i){let n=e.style.getPropertyValue(i);n&&U.setDataAttribute(e,i,n)}_resetElementAttributes(e,i){this._applyManipulationCallback(e,e=>{let n=U.getDataAttribute(e,i);null!==n?(U.removeDataAttribute(e,i),e.style.setProperty(i,n)):e.style.removeProperty(i)})}_applyManipulationCallback(e,i){if(a(e))i(e);else for(let n of G.find(e,this._element))i(n)}}let iN=".bs.modal",iF=`hide${iN}`,iU=`hidePrevented${iN}`,iz=`hidden${iN}`,iB=`show${iN}`,i3=`shown${iN}`,i2=`resize${iN}`,i4=`click.dismiss${iN}`,iH=`mousedown.dismiss${iN}`,iG=`keydown.dismiss${iN}`,i6=`click${iN}.data-api`,iV="modal-open",iW="show",i5="modal-static",i7={backdrop:!0,focus:!0,keyboard:!0},iX={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ij extends B{constructor(e,i){super(e,i),this._dialog=G.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new iO,this._addEventListeners()}static get Default(){return i7}static get DefaultType(){return iX}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||k.trigger(this._element,iB,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(iV),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){this._isShown&&!this._isTransitioning&&(k.trigger(this._element,iF).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(iW),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){k.off(window,iN),k.off(this._dialog,iN),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new iT({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new iP({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let i=G.findOne(".modal-body",this._dialog);i&&(i.scrollTop=0),d(this._element),this._element.classList.add(iW),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,k.trigger(this._element,i3,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){k.on(this._element,iG,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),k.on(window,i2,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),k.on(this._element,iH,e=>{k.one(this._element,i4,i=>{this._element===e.target&&this._element===i.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(iV),this._resetAdjustments(),this._scrollBar.reset(),k.trigger(this._element,iz)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(k.trigger(this._element,iU).defaultPrevented)return;let e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;"hidden"===i||this._element.classList.contains(i5)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(i5),this._queueCallback(()=>{this._element.classList.remove(i5),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),n=i>0;if(n&&!e){let r=m()?"paddingLeft":"paddingRight";this._element.style[r]=`${i}px`}if(!n&&e){let s=m()?"paddingRight":"paddingLeft";this._element.style[s]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,i){return this.each(function(){let n=ij.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw TypeError(`No method named "${e}"`);n[e](i)}})}}k.on(document,i6,'[data-bs-toggle="modal"]',function(e){let i=G.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),k.one(i,iB,e=>{e.defaultPrevented||k.one(i,iz,()=>{l(this)&&this.focus()})});let n=G.findOne(".modal.show");n&&ij.getInstance(n).hide(),ij.getOrCreateInstance(i).toggle(this)}),V(ij),g(ij);let iq=".bs.offcanvas",i9=".data-api",iY=`load${iq}${i9}`,iZ="show",iK="showing",iJ="hiding",iQ=".offcanvas.show",ne=`show${iq}`,nt=`shown${iq}`,ni=`hide${iq}`,nn=`hidePrevented${iq}`,nr=`hidden${iq}`,ns=`resize${iq}`,na=`click${iq}${i9}`,no=`keydown.dismiss${iq}`,nl={backdrop:!0,keyboard:!0,scroll:!1},nu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class nc extends B{constructor(e,i){super(e,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nl}static get DefaultType(){return nu}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||k.trigger(this._element,ne,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new iO).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(iK),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(iZ),this._element.classList.remove(iK),k.trigger(this._element,nt,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&(k.trigger(this._element,ni).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(iJ),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(iZ,iJ),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new iO).reset(),k.trigger(this._element,nr)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=Boolean(this._config.backdrop);return new iT({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():k.trigger(this._element,nn)}:null})}_initializeFocusTrap(){return new iP({trapElement:this._element})}_addEventListeners(){k.on(this._element,no,e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():k.trigger(this._element,nn))})}static jQueryInterface(e){return this.each(function(){let i=nc.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);i[e](this)}})}}k.on(document,na,'[data-bs-toggle="offcanvas"]',function(e){let i=G.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),u(this))return;k.one(i,nr,()=>{l(this)&&this.focus()});let n=G.findOne(iQ);n&&n!==i&&nc.getInstance(n).hide(),nc.getOrCreateInstance(i).toggle(this)}),k.on(window,iY,()=>{for(let e of G.find(iQ))nc.getOrCreateInstance(e).show()}),k.on(window,ns,()=>{for(let e of G.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&nc.getOrCreateInstance(e).hide()}),V(nc),g(nc);let nh={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},nd=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),np=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,nf=(e,i)=>{let n=e.nodeName.toLowerCase();return i.includes(n)?!nd.has(n)||Boolean(np.test(e.nodeValue)):i.filter(e=>e instanceof RegExp).some(e=>e.test(n))},nm={allowList:nh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ng={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},n$={entry:"(string|element|function|null)",selector:"(string|element)"};class nv extends z{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return nm}static get DefaultType(){return ng}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){let e=document.createElement("div");for(let[i,n]of(e.innerHTML=this._maybeSanitize(this._config.template),Object.entries(this._config.content)))this._setContent(e,n,i);let r=e.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&r.classList.add(...s.split(" ")),r}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[i,n]of Object.entries(e))super._typeCheckConfig({selector:i,entry:n},n$)}_setContent(e,i,n){let r=G.findOne(n,e);r&&((i=this._resolvePossibleFunction(i))?a(i)?this._putElementInTemplate(o(i),r):this._config.html?r.innerHTML=this._maybeSanitize(i):r.textContent=i:r.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,i,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);let r=(new window.DOMParser).parseFromString(e,"text/html"),s=[].concat(...r.body.querySelectorAll("*"));for(let a of s){let o=a.nodeName.toLowerCase();if(!Object.keys(i).includes(o)){a.remove();continue}let l=[].concat(...a.attributes),u=[].concat(i["*"]||[],i[o]||[]);for(let c of l)nf(c,u)||a.removeAttribute(c.nodeName)}return r.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return $(e,[this])}_putElementInTemplate(e,i){if(this._config.html)return i.innerHTML="",void i.append(e);i.textContent=e.textContent}}let ny=new Set(["sanitize","allowList","sanitizeFn"]),n8="fade",n_="show",nx=".modal",nb="hide.bs.modal",nw="hover",nS="focus",nE={AUTO:"auto",TOP:"top",RIGHT:m()?"left":"right",BOTTOM:"bottom",LEFT:m()?"right":"left"},nT={allowList:nh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},nM={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class nC extends B{constructor(e,i){if(void 0===tY)throw TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return nT}static get DefaultType(){return nM}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),k.off(this._element.closest(nx),nb,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;let e=k.trigger(this._element,this.constructor.eventName("show")),i=(c(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!i)return;this._disposePopper();let n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));let{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(n),k.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(n_),"ontouchstart"in document.documentElement)for(let s of[].concat(...document.body.children))k.on(s,"mouseover",h);this._queueCallback(()=>{k.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!k.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(n_),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))k.off(e,"mouseover",h);this._activeTrigger.click=!1,this._activeTrigger[nS]=!1,this._activeTrigger[nw]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),k.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let i=this._getTemplateFactory(e).toHtml();if(!i)return null;i.classList.remove(n8,n_),i.classList.add(`bs-${this.constructor.NAME}-auto`);let n=(e=>{do e+=Math.floor(1e6*Math.random());while(document.getElementById(e));return e})(this.constructor.NAME).toString();return i.setAttribute("id",n),this._isAnimated()&&i.classList.add(n8),i}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new nv({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(n8)}_isShown(){return this.tip&&this.tip.classList.contains(n_)}_createPopper(e){let i=$(this._config.placement,[this,e,this._element]),n=nE[i.toUpperCase()];return t9(this._element,e,this._getPopperConfig(n))}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?i=>e(i,this._element):e}_resolvePossibleFunction(e){return $(e,[this._element])}_getPopperConfig(e){let i={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...i,...$(this._config.popperConfig,[i])}}_setListeners(){let e=this._config.trigger.split(" ");for(let i of e)if("click"===i)k.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{this._initializeOnDelegatedTarget(e).toggle()});else if("manual"!==i){let n=i===nw?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),r=i===nw?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");k.on(this._element,n,this._config.selector,e=>{let i=this._initializeOnDelegatedTarget(e);i._activeTrigger["focusin"===e.type?nS:nw]=!0,i._enter()}),k.on(this._element,r,this._config.selector,e=>{let i=this._initializeOnDelegatedTarget(e);i._activeTrigger["focusout"===e.type?nS:nw]=i._element.contains(e.relatedTarget),i._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},k.on(this._element.closest(nx),nb,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,i){clearTimeout(this._timeout),this._timeout=setTimeout(e,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let i=U.getDataAttributes(this._element);for(let n of Object.keys(i))ny.has(n)&&delete i[n];return e={...i,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:o(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[i,n]of Object.entries(this._config))this.constructor.Default[i]!==n&&(e[i]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let i=nC.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw TypeError(`No method named "${e}"`);i[e]()}})}}g(nC);let nD={...nC.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},nA={...nC.DefaultType,content:"(null|string|element|function)"};class n0 extends nC{static get Default(){return nD}static get DefaultType(){return nA}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let i=n0.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw TypeError(`No method named "${e}"`);i[e]()}})}}g(n0);let n1=".bs.scrollspy",nP=`activate${n1}`,nL=`click${n1}`,nR=`load${n1}.data-api`,nI="active",nk="[href]",nO=".nav-link",nN=`${nO}, .nav-item > ${nO}, .list-group-item`,nF={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},nU={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class nz extends B{constructor(e,i){super(e,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return nF}static get DefaultType(){return nU}static get NAME(){return"scrollspy"}refresh(){for(let e of(this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver(),this._observableSections.values()))this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=o(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(k.off(this._config.target,nL),k.on(this._config.target,nL,nk,e=>{let i=this._observableSections.get(e.target.hash);if(i){e.preventDefault();let n=this._rootElement||window,r=i.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:r,behavior:"smooth"});n.scrollTop=r}}))}_getNewObserver(){let e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),e)}_observerCallback(e){let i=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(i(e))},r=(this._rootElement||document.documentElement).scrollTop,s=r>=this._previousScrollData.parentScrollTop;for(let a of(this._previousScrollData.parentScrollTop=r,e)){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(a));continue}let o=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(s&&o){if(n(a),!r)return}else s||o||n(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let e=G.find(nk,this._config.target);for(let i of e){if(!i.hash||u(i))continue;let n=G.findOne(decodeURI(i.hash),this._element);l(n)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(nI),this._activateParents(e),k.trigger(this._element,nP,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))G.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(nI);else for(let i of G.parents(e,".nav, .list-group"))for(let n of G.prev(i,nN))n.classList.add(nI)}_clearActiveClass(e){e.classList.remove(nI);let i=G.find(`${nk}.${nI}`,e);for(let n of i)n.classList.remove(nI)}static jQueryInterface(e){return this.each(function(){let i=nz.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);i[e]()}})}}k.on(window,nR,()=>{for(let e of G.find('[data-bs-spy="scroll"]'))nz.getOrCreateInstance(e)}),g(nz);let nB=".bs.tab",n3=`hide${nB}`,n2=`hidden${nB}`,n4=`show${nB}`,nH=`shown${nB}`,nG=`click${nB}`,n6=`keydown${nB}`,nV=`load${nB}`,nW="ArrowRight",n5="ArrowDown",n7="Home",nX="active",nj="fade",nq="show",n9=".dropdown-toggle",nY=`:not(${n9})`,nZ='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',nK=`.nav-link${nY}, .list-group-item${nY}, [role="tab"]${nY}, ${nZ}`,nJ=`.${nX}[data-bs-toggle="tab"], .${nX}[data-bs-toggle="pill"], .${nX}[data-bs-toggle="list"]`;class nQ extends B{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),k.on(this._element,n6,e=>this._keydown(e)))}static get NAME(){return"tab"}show(){let e=this._element;if(this._elemIsActive(e))return;let i=this._getActiveElem(),n=i?k.trigger(i,n3,{relatedTarget:e}):null;k.trigger(e,n4,{relatedTarget:i}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(i,e),this._activate(e,i))}_activate(e,i){e&&(e.classList.add(nX),this._activate(G.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),k.trigger(e,nH,{relatedTarget:i})):e.classList.add(nq)},e,e.classList.contains(nj)))}_deactivate(e,i){e&&(e.classList.remove(nX),e.blur(),this._deactivate(G.getElementFromSelector(e)),this._queueCallback(()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),k.trigger(e,n2,{relatedTarget:i})):e.classList.remove(nq)},e,e.classList.contains(nj)))}_keydown(e){if(!["ArrowLeft",nW,"ArrowUp",n5,n7,"End"].includes(e.key))return;e.stopPropagation(),e.preventDefault();let i=this._getChildren().filter(e=>!u(e)),n;if([n7,"End"].includes(e.key))n=i[e.key===n7?0:i.length-1];else{let r=[nW,n5].includes(e.key);n=y(i,e.target,r,!0)}n&&(n.focus({preventScroll:!0}),nQ.getOrCreateInstance(n).show())}_getChildren(){return G.find(nK,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,i){for(let n of(this._setAttributeIfNotExists(e,"role","tablist"),i))this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let i=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",i),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),i||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let i=G.getElementFromSelector(e);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,i){let n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;let r=(e,r)=>{let s=G.findOne(e,n);s&&s.classList.toggle(r,i)};r(n9,nX),r(".dropdown-menu",nq),n.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(e,i,n){e.hasAttribute(i)||e.setAttribute(i,n)}_elemIsActive(e){return e.classList.contains(nX)}_getInnerElement(e){return e.matches(nK)?e:G.findOne(nK,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){let i=nQ.getOrCreateInstance(this);if("string"==typeof e){if(void 0===i[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);i[e]()}})}}k.on(document,nG,nZ,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),u(this)||nQ.getOrCreateInstance(this).show()}),k.on(window,nV,()=>{for(let e of G.find(nJ))nQ.getOrCreateInstance(e)}),g(nQ);let re=".bs.toast",rt=`mouseover${re}`,ri=`mouseout${re}`,rn=`focusin${re}`,rr=`focusout${re}`,rs=`hide${re}`,ra=`hidden${re}`,ro=`show${re}`,rl=`shown${re}`,ru="hide",rc="show",rh="showing",rd={animation:"boolean",autohide:"boolean",delay:"number"},rp={animation:!0,autohide:!0,delay:5e3};class rf extends B{constructor(e,i){super(e,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return rp}static get DefaultType(){return rd}static get NAME(){return"toast"}show(){k.trigger(this._element,ro).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ru),d(this._element),this._element.classList.add(rc,rh),this._queueCallback(()=>{this._element.classList.remove(rh),k.trigger(this._element,rl),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(k.trigger(this._element,rs).defaultPrevented||(this._element.classList.add(rh),this._queueCallback(()=>{this._element.classList.add(ru),this._element.classList.remove(rh,rc),k.trigger(this._element,ra)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(rc),super.dispose()}isShown(){return this._element.classList.contains(rc)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,i){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=i;break;case"focusin":case"focusout":this._hasKeyboardInteraction=i}if(i)return void this._clearTimeout();let n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){k.on(this._element,rt,e=>this._onInteraction(e,!0)),k.on(this._element,ri,e=>this._onInteraction(e,!1)),k.on(this._element,rn,e=>this._onInteraction(e,!0)),k.on(this._element,rr,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let i=rf.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===i[e])throw TypeError(`No method named "${e}"`);i[e](this)}})}}return V(rf),g(rf),{Alert:q,Button:Z,Carousel:eM,Collapse:eU,Dropdown:i_,Modal:ij,Offcanvas:nc,Popover:n0,ScrollSpy:nz,Tab:nQ,Toast:rf,Tooltip:nC}}),function(){"use strict";function e(r){if(!r)throw Error("No options passed to Waypoint constructor");if(!r.element)throw Error("No element option passed to Waypoint constructor");if(!r.handler)throw Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+i,this.options=e.Adapter.extend({},e.defaults,r),this.element=this.options.element,this.adapter=new e.Adapter(this.element),this.callback=r.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=e.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=e.Context.findOrCreateByElement(this.options.context),e.offsetAliases[this.options.offset]&&(this.options.offset=e.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),n[this.key]=this,i+=1}var i=0,n={};e.prototype.queueTrigger=function(e){this.group.queueTrigger(this,e)},e.prototype.trigger=function(e){this.enabled&&this.callback&&this.callback.apply(this,e)},e.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete n[this.key]},e.prototype.disable=function(){return this.enabled=!1,this},e.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},e.prototype.next=function(){return this.group.next(this)},e.prototype.previous=function(){return this.group.previous(this)},e.invokeAll=function(e){var i=[];for(var r in n)i.push(n[r]);for(var s=0,a=i.length;a>s;s++)i[s][e]()},e.destroyAll=function(){e.invokeAll("destroy")},e.disableAll=function(){e.invokeAll("disable")},e.enableAll=function(){e.invokeAll("enable")},e.refreshAll=function(){e.Context.refreshAll()},e.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},e.viewportWidth=function(){return document.documentElement.clientWidth},e.adapters=[],e.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},e.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=e}(),function(){"use strict";function e(e){window.setTimeout(e,1e3/60)}function i(e){this.element=e,this.Adapter=s.Adapter,this.adapter=new this.Adapter(e),this.key="waypoint-context-"+n,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},e.waypointContextKey=this.key,r[e.waypointContextKey]=this,n+=1,this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var n=0,r={},s=window.Waypoint,a=window.onload;i.prototype.add=function(e){var i=e.options.horizontal?"horizontal":"vertical";this.waypoints[i][e.key]=e,this.refresh()},i.prototype.checkEmpty=function(){var e=this.Adapter.isEmptyObject(this.waypoints.horizontal),i=this.Adapter.isEmptyObject(this.waypoints.vertical);e&&i&&(this.adapter.off(".waypoints"),delete r[this.key])},i.prototype.createThrottledResizeHandler=function(){function e(){i.handleResize(),i.didResize=!1}var i=this;this.adapter.on("resize.waypoints",function(){i.didResize||(i.didResize=!0,s.requestAnimationFrame(e))})},i.prototype.createThrottledScrollHandler=function(){function e(){i.handleScroll(),i.didScroll=!1}var i=this;this.adapter.on("scroll.waypoints",function(){(!i.didScroll||s.isTouch)&&(i.didScroll=!0,s.requestAnimationFrame(e))})},i.prototype.handleResize=function(){s.Context.refreshAll()},i.prototype.handleScroll=function(){var e={},i={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var n in i){var r=i[n],s=r.newScroll>r.oldScroll?r.forward:r.backward;for(var a in this.waypoints[n]){var o=this.waypoints[n][a],l=r.oldScroll<o.triggerPoint,u=r.newScroll>=o.triggerPoint,c=l&&u,h=!l&&!u;(c||h)&&(o.queueTrigger(s),e[o.group.id]=o.group)}}for(var d in e)e[d].flushTriggers();this.oldScroll={x:i.horizontal.newScroll,y:i.vertical.newScroll}},i.prototype.innerHeight=function(){return this.element==this.element.window?s.viewportHeight():this.adapter.innerHeight()},i.prototype.remove=function(e){delete this.waypoints[e.axis][e.key],this.checkEmpty()},i.prototype.innerWidth=function(){return this.element==this.element.window?s.viewportWidth():this.adapter.innerWidth()},i.prototype.destroy=function(){var e=[];for(var i in this.waypoints)for(var n in this.waypoints[i])e.push(this.waypoints[i][n]);for(var r=0,s=e.length;s>r;r++)e[r].destroy()},i.prototype.refresh=function(){var e,i=this.element==this.element.window,n=i?void 0:this.adapter.offset(),r={};for(var a in this.handleScroll(),e={horizontal:{contextOffset:i?0:n.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:n.top,contextScroll:i?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}}){var o=e[a];for(var l in this.waypoints[a]){var u,c,h,d,p,f=this.waypoints[a][l],m=f.options.offset,g=f.triggerPoint,$=0,v=null==g;f.element!==f.element.window&&($=f.adapter.offset()[o.offsetProp]),"function"==typeof m?m=m.apply(f):"string"==typeof m&&(m=parseFloat(m),f.options.offset.indexOf("%")>-1&&(m=Math.ceil(o.contextDimension*m/100))),u=o.contextScroll-o.contextOffset,f.triggerPoint=$+u-m,c=g<o.oldScroll,h=f.triggerPoint>=o.oldScroll,d=c&&h,p=!c&&!h,!v&&d?(f.queueTrigger(o.backward),r[f.group.id]=f.group):!v&&p?(f.queueTrigger(o.forward),r[f.group.id]=f.group):v&&o.oldScroll>=f.triggerPoint&&(f.queueTrigger(o.forward),r[f.group.id]=f.group)}}return s.requestAnimationFrame(function(){for(var e in r)r[e].flushTriggers()}),this},i.findOrCreateByElement=function(e){return i.findByElement(e)||new i(e)},i.refreshAll=function(){for(var e in r)r[e].refresh()},i.findByElement=function(e){return r[e.waypointContextKey]},window.onload=function(){a&&a(),i.refreshAll()},s.requestAnimationFrame=function(i){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||e).call(window,i)},s.Context=i}(),function(){"use strict";function e(e,i){return e.triggerPoint-i.triggerPoint}function i(e,i){return i.triggerPoint-e.triggerPoint}function n(e){this.name=e.name,this.axis=e.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),r[this.axis][this.name]=this}var r={vertical:{},horizontal:{}},s=window.Waypoint;n.prototype.add=function(e){this.waypoints.push(e)},n.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},n.prototype.flushTriggers=function(){for(var n in this.triggerQueues){var r=this.triggerQueues[n],s="up"===n||"left"===n;r.sort(s?i:e);for(var a=0,o=r.length;o>a;a+=1){var l=r[a];(l.options.continuous||a===r.length-1)&&l.trigger([n])}}this.clearTriggerQueues()},n.prototype.next=function(i){this.waypoints.sort(e);var n=s.Adapter.inArray(i,this.waypoints);return n===this.waypoints.length-1?null:this.waypoints[n+1]},n.prototype.previous=function(i){this.waypoints.sort(e);var n=s.Adapter.inArray(i,this.waypoints);return n?this.waypoints[n-1]:null},n.prototype.queueTrigger=function(e,i){this.triggerQueues[i].push(e)},n.prototype.remove=function(e){var i=s.Adapter.inArray(e,this.waypoints);i>-1&&this.waypoints.splice(i,1)},n.prototype.first=function(){return this.waypoints[0]},n.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},n.findOrCreate=function(e){return r[e.axis][e.name]||new n(e)},s.Group=n}(),function(){"use strict";function e(e){this.$element=i(e)}var i=window.jQuery,n=window.Waypoint;i.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(i,n){e.prototype[n]=function(){var e=Array.prototype.slice.call(arguments);return this.$element[n].apply(this.$element,e)}}),i.each(["extend","inArray","isEmptyObject"],function(n,r){e[r]=i[r]}),n.adapters.push({name:"jquery",Adapter:e}),n.Adapter=e}(),function(){"use strict";function e(e){return function(){var n=[],r=arguments[0];return e.isFunction(arguments[0])&&(r=e.extend({},arguments[1]),r.handler=arguments[0]),this.each(function(){var s=e.extend({},r,{element:this});"string"==typeof s.context&&(s.context=e(this).closest(s.context)[0]),n.push(new i(s))}),n}}var i=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=e(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=e(window.Zepto))}(),function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(e="undefined"!=typeof globalThis?globalThis:e||self).Swiper=i()}(this,function(){"use strict";function e(){return(e=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function n(e,r){void 0===e&&(e={}),void 0===r&&(r={}),Object.keys(r).forEach(function(s){void 0===e[s]?e[s]=r[s]:i(r[s])&&i(e[s])&&Object.keys(r[s]).length>0&&n(e[s],r[s])})}var r={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function s(){var e="undefined"!=typeof document?document:{};return n(e,r),e}var a={document:r,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function o(){var e="undefined"!=typeof window?window:{};return n(e,a),e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,i){return(u=Object.setPrototypeOf||function(e,i){return e.__proto__=i,e})(e,i)}function c(e,i,n){return(c=!function e(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}()?function(e,i,n){var r=[null];r.push.apply(r,i);var s=new(Function.bind.apply(e,r));return n&&u(s,n.prototype),s}:Reflect.construct).apply(null,arguments)}function h(e){var i="function"==typeof Map?new Map:void 0;return(h=function(e){var n;if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,r)}function r(){return c(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)})(e)}var d=function(e){var i,n;function r(i){var n,r,s;return s=(r=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=e.call.apply(e,[this].concat(i))||this)).__proto__,Object.defineProperty(r,"__proto__",{get:function(){return s},set:function(e){s.__proto__=e}}),n}return n=e,(i=r).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n,r}(h(Array));function p(e){void 0===e&&(e=[]);var i=[];return e.forEach(function(e){Array.isArray(e)?i.push.apply(i,p(e)):i.push(e)}),i}function f(e,i){return Array.prototype.filter.call(e,i)}function m(e,i){var n=o(),r=s(),a=[];if(!i&&e instanceof d)return e;if(!e)return new d(a);if("string"==typeof e){var l=e.trim();if(l.indexOf("<")>=0&&l.indexOf(">")>=0){var u="div";0===l.indexOf("<li")&&(u="ul"),0===l.indexOf("<tr")&&(u="tbody"),0!==l.indexOf("<td")&&0!==l.indexOf("<th")||(u="tr"),0===l.indexOf("<tbody")&&(u="table"),0===l.indexOf("<option")&&(u="select");var c=r.createElement(u);c.innerHTML=l;for(var h=0;h<c.childNodes.length;h+=1)a.push(c.childNodes[h])}else a=function(e,i){if("string"!=typeof e)return[e];for(var n=[],r=i.querySelectorAll(e),s=0;s<r.length;s+=1)n.push(r[s]);return n}(e.trim(),i||r)}else if(e.nodeType||e===n||e===r)a.push(e);else if(Array.isArray(e)){if(e instanceof d)return e;a=e}return new d(function(e){for(var i=[],n=0;n<e.length;n+=1)-1===i.indexOf(e[n])&&i.push(e[n]);return i}(a))}m.fn=d.prototype;var g,$,v,y={addClass:function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=p(i.map(function(e){return e.split(" ")}));return this.forEach(function(e){var i;(i=e.classList).add.apply(i,r)}),this},removeClass:function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=p(i.map(function(e){return e.split(" ")}));return this.forEach(function(e){var i;(i=e.classList).remove.apply(i,r)}),this},hasClass:function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=p(i.map(function(e){return e.split(" ")}));return f(this,function(e){return r.filter(function(i){return e.classList.contains(i)}).length>0}).length>0},toggleClass:function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=p(i.map(function(e){return e.split(" ")}));this.forEach(function(e){r.forEach(function(i){e.classList.toggle(i)})})},attr:function(e,i){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,i);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var i=0;i<this.length;i+=1)this[i].removeAttribute(e);return this},transform:function(e){for(var i=0;i<this.length;i+=1)this[i].style.transform=e;return this},transition:function(e){for(var i=0;i<this.length;i+=1)this[i].style.transitionDuration="string"!=typeof e?e+"ms":e;return this},on:function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=i[0],s=i[1],a=i[2],o=i[3];function l(e){var i=e.target;if(i){var n=e.target.dom7EventData||[];if(0>n.indexOf(e)&&n.unshift(e),m(i).is(s))a.apply(i,n);else for(var r=m(i).parents(),o=0;o<r.length;o+=1)m(r[o]).is(s)&&a.apply(r[o],n)}}function u(e){var i=e&&e.target&&e.target.dom7EventData||[];0>i.indexOf(e)&&i.unshift(e),a.apply(this,i)}"function"==typeof i[1]&&(r=i[0],a=i[1],o=i[2],s=void 0),o||(o=!1);for(var c,h=r.split(" "),d=0;d<this.length;d+=1){var p=this[d];if(s)for(c=0;c<h.length;c+=1){var f=h[c];p.dom7LiveListeners||(p.dom7LiveListeners={}),p.dom7LiveListeners[f]||(p.dom7LiveListeners[f]=[]),p.dom7LiveListeners[f].push({listener:a,proxyListener:l}),p.addEventListener(f,l,o)}else for(c=0;c<h.length;c+=1){var g=h[c];p.dom7Listeners||(p.dom7Listeners={}),p.dom7Listeners[g]||(p.dom7Listeners[g]=[]),p.dom7Listeners[g].push({listener:a,proxyListener:u}),p.addEventListener(g,u,o)}}return this},off:function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=i[0],s=i[1],a=i[2],o=i[3];"function"==typeof i[1]&&(r=i[0],a=i[1],o=i[2],s=void 0),o||(o=!1);for(var l=r.split(" "),u=0;u<l.length;u+=1)for(var c=l[u],h=0;h<this.length;h+=1){var d=this[h],p=void 0;if(!s&&d.dom7Listeners?p=d.dom7Listeners[c]:s&&d.dom7LiveListeners&&(p=d.dom7LiveListeners[c]),p&&p.length)for(var f=p.length-1;f>=0;f-=1){var m=p[f];a&&m.listener===a||a&&m.listener&&m.listener.dom7proxy&&m.listener.dom7proxy===a?(d.removeEventListener(c,m.proxyListener,o),p.splice(f,1)):a||(d.removeEventListener(c,m.proxyListener,o),p.splice(f,1))}}return this},trigger:function(){for(var e=o(),i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];for(var s=n[0].split(" "),a=n[1],l=0;l<s.length;l+=1)for(var u=s[l],c=0;c<this.length;c+=1){var h=this[c];if(e.CustomEvent){var d=new e.CustomEvent(u,{detail:a,bubbles:!0,cancelable:!0});h.dom7EventData=n.filter(function(e,i){return i>0}),h.dispatchEvent(d),h.dom7EventData=[],delete h.dom7EventData}}return this},transitionEnd:function(e){var i=this;return e&&i.on("transitionend",function n(r){r.target===this&&(e.call(this,r),i.off("transitionend",n))}),this},outerWidth:function(e){if(this.length>0){if(e){var i=this.styles();return this[0].offsetWidth+parseFloat(i.getPropertyValue("margin-right"))+parseFloat(i.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var i=this.styles();return this[0].offsetHeight+parseFloat(i.getPropertyValue("margin-top"))+parseFloat(i.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=o();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=o(),i=s(),n=this[0],r=n.getBoundingClientRect(),a=i.body,l=n.clientTop||a.clientTop||0,u=n.clientLeft||a.clientLeft||0,c=n===e?e.scrollY:n.scrollTop,h=n===e?e.scrollX:n.scrollLeft;return{top:r.top+c-l,left:r.left+h-u}}return null},css:function(e,i){var n,r=o();if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(var s in e)this[n].style[s]=e[s];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e)for(n=0;n<this.length;n+=1)this[n].style[e]=i;return this},each:function(e){return e&&this.forEach(function(i,n){e.apply(i,[i,n])}),this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var i=0;i<this.length;i+=1)this[i].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var i=0;i<this.length;i+=1)this[i].textContent=e;return this},is:function(e){var i,n,r=o(),a=s(),l=this[0];if(!l||void 0===e)return!1;if("string"==typeof e){if(l.matches)return l.matches(e);if(l.webkitMatchesSelector)return l.webkitMatchesSelector(e);if(l.msMatchesSelector)return l.msMatchesSelector(e);for(i=m(e),n=0;n<i.length;n+=1)if(i[n]===l)return!0;return!1}if(e===a)return l===a;if(e===r)return l===r;if(e.nodeType||e instanceof d){for(i=e.nodeType?[e]:e,n=0;n<i.length;n+=1)if(i[n]===l)return!0}return!1},index:function(){var e,i=this[0];if(i){for(e=0;null!==(i=i.previousSibling);)1===i.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var i=this.length;if(e>i-1)return m([]);if(e<0){var n=i+e;return m(n<0?[]:[this[n]])}return m([this[e]])},append:function(){for(var e,i=s(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"==typeof e){var a=i.createElement("div");for(a.innerHTML=e;a.firstChild;)this[r].appendChild(a.firstChild)}else if(e instanceof d)for(var o=0;o<e.length;o+=1)this[r].appendChild(e[o]);else this[r].appendChild(e)}return this},prepend:function(e){var i,n,r=s();for(i=0;i<this.length;i+=1)if("string"==typeof e){var a=r.createElement("div");for(a.innerHTML=e,n=a.childNodes.length-1;n>=0;n-=1)this[i].insertBefore(a.childNodes[n],this[i].childNodes[0])}else if(e instanceof d)for(n=0;n<e.length;n+=1)this[i].insertBefore(e[n],this[i].childNodes[0]);else this[i].insertBefore(e,this[i].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&m(this[0].nextElementSibling).is(e)?m([this[0].nextElementSibling]):m([]):this[0].nextElementSibling?m([this[0].nextElementSibling]):m([]):m([])},nextAll:function(e){var i=[],n=this[0];if(!n)return m([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?m(r).is(e)&&i.push(r):i.push(r),n=r}return m(i)},prev:function(e){if(this.length>0){var i=this[0];return e?i.previousElementSibling&&m(i.previousElementSibling).is(e)?m([i.previousElementSibling]):m([]):i.previousElementSibling?m([i.previousElementSibling]):m([])}return m([])},prevAll:function(e){var i=[],n=this[0];if(!n)return m([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?m(r).is(e)&&i.push(r):i.push(r),n=r}return m(i)},parent:function(e){for(var i=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?m(this[n].parentNode).is(e)&&i.push(this[n].parentNode):i.push(this[n].parentNode));return m(i)},parents:function(e){for(var i=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?m(r).is(e)&&i.push(r):i.push(r),r=r.parentNode;return m(i)},closest:function(e){var i=this;return void 0===e?m([]):(i.is(e)||(i=i.parents(e).eq(0)),i)},find:function(e){for(var i=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),s=0;s<r.length;s+=1)i.push(r[s]);return m(i)},children:function(e){for(var i=[],n=0;n<this.length;n+=1)for(var r=this[n].children,s=0;s<r.length;s+=1)e&&!m(r[s]).is(e)||i.push(r[s]);return m(i)},filter:function(e){return m(f(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};function _(e,i){return void 0===i&&(i=0),setTimeout(e,i)}function x(){return Date.now()}function b(e,i){void 0===i&&(i="x");var n,r,s,a=o(),l=a.getComputedStyle(e,null);return a.WebKitCSSMatrix?((r=l.transform||l.webkitTransform).split(",").length>6&&(r=r.split(", ").map(function(e){return e.replace(",",".")}).join(", ")),s=new a.WebKitCSSMatrix("none"===r?"":r)):n=(s=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===i&&(r=a.WebKitCSSMatrix?s.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===i&&(r=a.WebKitCSSMatrix?s.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function w(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object}function S(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),i=1;i<arguments.length;i+=1){var n=i<0||arguments.length<=i?void 0:arguments[i];if(null!=n)for(var r=Object.keys(Object(n)),s=0,a=r.length;s<a;s+=1){var o=r[s],l=Object.getOwnPropertyDescriptor(n,o);void 0!==l&&l.enumerable&&(w(e[o])&&w(n[o])?S(e[o],n[o]):!w(e[o])&&w(n[o])?(e[o]={},S(e[o],n[o])):e[o]=n[o])}}return e}function E(e,i){Object.keys(i).forEach(function(n){w(i[n])&&Object.keys(i[n]).forEach(function(r){"function"==typeof i[n][r]&&(i[n][r]=i[n][r].bind(e))}),e[n]=i[n]})}function T(){var e,i;return g||(g=(e=o(),i=s(),{touch:!!("ontouchstart"in e||e.DocumentTouch&&i instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var i=!1;try{var n=Object.defineProperty({},"passive",{get:function(){i=!0}});e.addEventListener("testPassiveListener",null,n)}catch(r){}return i}(),gestures:"ongesturestart"in e})),g}Object.keys(y).forEach(function(e){m.fn[e]=y[e]});var M={attach:function(e,i){void 0===i&&(i={});var n=o(),r=this,s=new(n.MutationObserver||n.WebkitMutationObserver)(function(e){if(1!==e.length){var i=function(){r.emit("observerUpdate",e[0])};n.requestAnimationFrame?n.requestAnimationFrame(i):n.setTimeout(i,0)}else r.emit("observerUpdate",e[0])});s.observe(e,{attributes:void 0===i.attributes||i.attributes,childList:void 0===i.childList||i.childList,characterData:void 0===i.characterData||i.characterData}),r.observer.observers.push(s)},init:function(){if(this.support.observer&&this.params.observer){if(this.params.observeParents)for(var e=this.$el.parents(),i=0;i<e.length;i+=1)this.observer.attach(e[i]);this.observer.attach(this.$el[0],{childList:this.params.observeSlideChildren}),this.observer.attach(this.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(e){e.disconnect()}),this.observer.observers=[]}};function C(e){var i=this,n=s(),r=o(),a=i.touchEventsData,l=i.params,u=i.touches;if(!i.animating||!l.preventInteractionOnTransition){var c=e;c.originalEvent&&(c=c.originalEvent);var h=m(c.target);if(("wrapper"!==l.touchEventsTarget||h.closest(i.wrapperEl).length)&&(a.isTouchEvent="touchstart"===c.type,(a.isTouchEvent||!("which"in c)||3!==c.which)&&!(!a.isTouchEvent&&"button"in c&&c.button>0)&&(!a.isTouched||!a.isMoved))){if(l.noSwipingClass&&""!==l.noSwipingClass&&c.target&&c.target.shadowRoot&&e.path&&e.path[0]&&(h=m(e.path[0])),l.noSwiping&&h.closest(l.noSwipingSelector?l.noSwipingSelector:"."+l.noSwipingClass)[0])i.allowClick=!0;else if(!l.swipeHandler||h.closest(l.swipeHandler)[0]){u.currentX="touchstart"===c.type?c.targetTouches[0].pageX:c.pageX,u.currentY="touchstart"===c.type?c.targetTouches[0].pageY:c.pageY;var d=u.currentX,p=u.currentY,f=l.edgeSwipeDetection||l.iOSEdgeSwipeDetection,g=l.edgeSwipeThreshold||l.iOSEdgeSwipeThreshold;if(f&&(d<=g||d>=r.innerWidth-g)){if("prevent"!==f)return;e.preventDefault()}if(S(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=d,u.startY=p,a.touchStartTime=x(),i.allowClick=!0,i.updateSize(),i.swipeDirection=void 0,l.threshold>0&&(a.allowThresholdMove=!1),"touchstart"!==c.type){var $=!0;h.is(a.formElements)&&($=!1),n.activeElement&&m(n.activeElement).is(a.formElements)&&n.activeElement!==h[0]&&n.activeElement.blur();var v=$&&i.allowTouchMove&&l.touchStartPreventDefault;(l.touchStartForcePreventDefault||v)&&!h[0].isContentEditable&&c.preventDefault()}i.emit("touchStart",c)}}}}function D(e){var i=s(),n=this,r=n.touchEventsData,a=n.params,o=n.touches,l=n.rtlTranslate,u=e;if(u.originalEvent&&(u=u.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===u.type){var c="touchmove"===u.type&&u.targetTouches&&(u.targetTouches[0]||u.changedTouches[0]),h="touchmove"===u.type?c.pageX:u.pageX,d="touchmove"===u.type?c.pageY:u.pageY;if(u.preventedByNestedSwiper)return o.startX=h,void(o.startY=d);if(!n.allowTouchMove)return n.allowClick=!1,void(r.isTouched&&(S(o,{startX:h,startY:d,currentX:h,currentY:d}),r.touchStartTime=x()));if(r.isTouchEvent&&a.touchReleaseOnEdges&&!a.loop){if(n.isVertical()){if(d<o.startY&&n.translate<=n.maxTranslate()||d>o.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(h<o.startX&&n.translate<=n.maxTranslate()||h>o.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&i.activeElement&&u.target===i.activeElement&&m(u.target).is(r.formElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",u),!(u.targetTouches&&u.targetTouches.length>1)){o.currentX=h,o.currentY=d;var p,f=o.currentX-o.startX,g=o.currentY-o.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(f,2)+Math.pow(g,2))<n.params.threshold)){if(void 0===r.isScrolling&&(n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:f*f+g*g>=25&&(p=180*Math.atan2(Math.abs(g),Math.abs(f))/Math.PI,r.isScrolling=n.isHorizontal()?p>a.touchAngle:90-p>a.touchAngle)),r.isScrolling&&n.emit("touchMoveOpposite",u),void 0===r.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!a.cssMode&&u.cancelable&&u.preventDefault(),a.touchMoveStopPropagation&&!a.nested&&u.stopPropagation(),r.isMoved||(a.loop&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,a.grabCursor&&(!0===n.allowSlideNext||!0===n.allowSlidePrev)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",u)),n.emit("sliderMove",u),r.isMoved=!0;var $=n.isHorizontal()?f:g;o.diff=$,$*=a.touchRatio,l&&($=-$),n.swipeDirection=$>0?"prev":"next",r.currentTranslate=$+r.startTranslate;var v=!0,y=a.resistanceRatio;if(a.touchReleaseOnEdges&&(y=0),$>0&&r.currentTranslate>n.minTranslate()?(v=!1,a.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+$,y))):$<0&&r.currentTranslate<n.maxTranslate()&&(v=!1,a.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-$,y))),v&&(u.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),a.threshold>0){if(!(Math.abs($)>a.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}a.followFinger&&!a.cssMode&&((a.freeMode||a.watchSlidesProgress||a.watchSlidesVisibility)&&(n.updateActiveIndex(),n.updateSlidesClasses()),a.freeMode&&(0===r.velocities.length&&r.velocities.push({position:o[n.isHorizontal()?"startX":"startY"],time:r.touchStartTime}),r.velocities.push({position:o[n.isHorizontal()?"currentX":"currentY"],time:x()})),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",u)}function A(e){var i=this,n=i.touchEventsData,r=i.params,s=i.touches,a=i.rtlTranslate,o=i.$wrapperEl,l=i.slidesGrid,u=i.snapGrid,c=e;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&i.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&i.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===i.allowSlideNext||!0===i.allowSlidePrev)&&i.setGrabCursor(!1);var h,d=x(),p=d-n.touchStartTime;if(i.allowClick&&(i.updateClickedSlide(c),i.emit("tap click",c),p<300&&d-n.lastClickTime<300&&i.emit("doubleTap doubleClick",c)),n.lastClickTime=x(),_(function(){i.destroyed||(i.allowClick=!0)}),!n.isTouched||!n.isMoved||!i.swipeDirection||0===s.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,h=r.followFinger?a?i.translate:-i.translate:-n.currentTranslate,!r.cssMode){if(r.freeMode){if(h<-i.minTranslate())return void i.slideTo(i.activeIndex);if(h>-i.maxTranslate())return void(i.slides.length<u.length?i.slideTo(u.length-1):i.slideTo(i.slides.length-1));if(r.freeModeMomentum){if(n.velocities.length>1){var f=n.velocities.pop(),m=n.velocities.pop(),g=f.position-m.position,$=f.time-m.time;i.velocity=g/$,i.velocity/=2,Math.abs(i.velocity)<r.freeModeMinimumVelocity&&(i.velocity=0),($>150||x()-f.time>300)&&(i.velocity=0)}else i.velocity=0;i.velocity*=r.freeModeMomentumVelocityRatio,n.velocities.length=0;var v=1e3*r.freeModeMomentumRatio,y=i.velocity*v,b=i.translate+y;a&&(b=-b);var w,S,E=!1,T=20*Math.abs(i.velocity)*r.freeModeMomentumBounceRatio;if(b<i.maxTranslate())r.freeModeMomentumBounce?(b+i.maxTranslate()<-T&&(b=i.maxTranslate()-T),w=i.maxTranslate(),E=!0,n.allowMomentumBounce=!0):b=i.maxTranslate(),r.loop&&r.centeredSlides&&(S=!0);else if(b>i.minTranslate())r.freeModeMomentumBounce?(b-i.minTranslate()>T&&(b=i.minTranslate()+T),w=i.minTranslate(),E=!0,n.allowMomentumBounce=!0):b=i.minTranslate(),r.loop&&r.centeredSlides&&(S=!0);else if(r.freeModeSticky){for(var M,C=0;C<u.length;C+=1)if(u[C]>-b){M=C;break}b=-(b=Math.abs(u[M]-b)<Math.abs(u[M-1]-b)||"next"===i.swipeDirection?u[M]:u[M-1])}if(S&&i.once("transitionEnd",function(){i.loopFix()}),0!==i.velocity){if(v=a?Math.abs((-b-i.translate)/i.velocity):Math.abs((b-i.translate)/i.velocity),r.freeModeSticky){var D=Math.abs((a?-b:b)-i.translate),A=i.slidesSizesGrid[i.activeIndex];v=D<A?r.speed:D<2*A?1.5*r.speed:2.5*r.speed}}else if(r.freeModeSticky)return void i.slideToClosest();r.freeModeMomentumBounce&&E?(i.updateProgress(w),i.setTransition(v),i.setTranslate(b),i.transitionStart(!0,i.swipeDirection),i.animating=!0,o.transitionEnd(function(){i&&!i.destroyed&&n.allowMomentumBounce&&(i.emit("momentumBounce"),i.setTransition(r.speed),setTimeout(function(){i.setTranslate(w),o.transitionEnd(function(){i&&!i.destroyed&&i.transitionEnd()})},0))})):i.velocity?(i.updateProgress(b),i.setTransition(v),i.setTranslate(b),i.transitionStart(!0,i.swipeDirection),i.animating||(i.animating=!0,o.transitionEnd(function(){i&&!i.destroyed&&i.transitionEnd()}))):(i.emit("_freeModeNoMomentumRelease"),i.updateProgress(b)),i.updateActiveIndex(),i.updateSlidesClasses()}else{if(r.freeModeSticky)return void i.slideToClosest();r.freeMode&&i.emit("_freeModeNoMomentumRelease")}(!r.freeModeMomentum||p>=r.longSwipesMs)&&(i.updateProgress(),i.updateActiveIndex(),i.updateSlidesClasses())}else{for(var P=0,L=i.slidesSizesGrid[0],R=0;R<l.length;R+=R<r.slidesPerGroupSkip?1:r.slidesPerGroup){var I=R<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==l[R+I]?h>=l[R]&&h<l[R+I]&&(P=R,L=l[R+I]-l[R]):h>=l[R]&&(P=R,L=l[l.length-1]-l[l.length-2])}var k=(h-l[P])/L,O=P<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(p>r.longSwipesMs){if(!r.longSwipes)return void i.slideTo(i.activeIndex);"next"===i.swipeDirection&&(k>=r.longSwipesRatio?i.slideTo(P+O):i.slideTo(P)),"prev"===i.swipeDirection&&(k>1-r.longSwipesRatio?i.slideTo(P+O):i.slideTo(P))}else{if(!r.shortSwipes)return void i.slideTo(i.activeIndex);i.navigation&&(c.target===i.navigation.nextEl||c.target===i.navigation.prevEl)?c.target===i.navigation.nextEl?i.slideTo(P+O):i.slideTo(P):("next"===i.swipeDirection&&i.slideTo(P+O),"prev"===i.swipeDirection&&i.slideTo(P))}}}}function P(){var e=this,i=e.params,n=e.el;if(!n||0!==n.offsetWidth){i.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,s=e.allowSlidePrev,a=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===i.slidesPerView||i.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=s,e.allowSlideNext=r,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}}function L(e){this.allowClick||(this.params.preventClicks&&e.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function R(){var e=this,i=e.wrapperEl,n=e.rtlTranslate;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=n?i.scrollWidth-i.offsetWidth-i.scrollLeft:-i.scrollLeft:e.translate=-i.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}var I=!1;function k(){}var O={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!1,nested:!1,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1},N={modular:{useParams:function(e){var i=this;i.modules&&Object.keys(i.modules).forEach(function(n){var r=i.modules[n];r.params&&S(e,r.params)})},useModules:function(e){void 0===e&&(e={});var i=this;i.modules&&Object.keys(i.modules).forEach(function(n){var r=i.modules[n],s=e[n]||{};r.on&&i.on&&Object.keys(r.on).forEach(function(e){i.on(e,r.on[e])}),r.create&&r.create.bind(i)(s)})}},eventsEmitter:{on:function(e,i,n){var r=this;if("function"!=typeof i)return r;var s=n?"unshift":"push";return e.split(" ").forEach(function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][s](i)}),r},once:function(e,i,n){var r=this;if("function"!=typeof i)return r;function s(){r.off(e,s),s.__emitterProxy&&delete s.__emitterProxy;for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];i.apply(r,a)}return s.__emitterProxy=i,r.on(e,s,n)},onAny:function(e,i){return"function"!=typeof e||0>this.eventsAnyListeners.indexOf(e)&&this.eventsAnyListeners[i?"unshift":"push"](e),this},offAny:function(e){if(!this.eventsAnyListeners)return this;var i=this.eventsAnyListeners.indexOf(e);return i>=0&&this.eventsAnyListeners.splice(i,1),this},off:function(e,i){var n=this;return n.eventsListeners&&e.split(" ").forEach(function(e){void 0===i?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(function(r,s){(r===i||r.__emitterProxy&&r.__emitterProxy===i)&&n.eventsListeners[e].splice(s,1)})}),n},emit:function(){var e,i,n,r=this;if(!r.eventsListeners)return r;for(var s=arguments.length,a=Array(s),o=0;o<s;o++)a[o]=arguments[o];return"string"==typeof a[0]||Array.isArray(a[0])?(e=a[0],i=a.slice(1,a.length),n=r):(e=a[0].events,i=a[0].data,n=a[0].context||r),i.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach(function(r){r.apply(n,[e].concat(i))}),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach(function(e){e.apply(n,i)})}),r}},update:{updateSize:function(){var e,i,n=this.$el;e=void 0!==this.params.width&&null!==this.params.width?this.params.width:n[0].clientWidth,i=void 0!==this.params.height&&null!==this.params.height?this.params.height:n[0].clientHeight,0===e&&this.isHorizontal()||0===i&&this.isVertical()||(e=e-parseInt(n.css("padding-left")||0,10)-parseInt(n.css("padding-right")||0,10),i=i-parseInt(n.css("padding-top")||0,10)-parseInt(n.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(i)&&(i=0),S(this,{width:e,height:i,size:this.isHorizontal()?e:i}))},updateSlides:function(){var e=this,i=function(i){return e.isHorizontal()?i:({width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"})[i]},n=function(e,n){return parseFloat(e.getPropertyValue(i(n))||0)},r=o(),s=e.params,a=e.$wrapperEl,l=e.size,u=e.rtlTranslate,c=e.wrongRTL,h=e.virtual&&s.virtual.enabled,d=h?e.virtual.slides.length:e.slides.length,p=a.children("."+e.params.slideClass),f=h?e.virtual.slides.length:p.length,m=[],g=[],$=[],v=s.slidesOffsetBefore;"function"==typeof v&&(v=s.slidesOffsetBefore.call(e));var y=s.slidesOffsetAfter;"function"==typeof y&&(y=s.slidesOffsetAfter.call(e));var _=e.snapGrid.length,x=e.slidesGrid.length,b=s.spaceBetween,w=-v,E=0,T=0;if(void 0!==l){"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*l),e.virtualSize=-b,u?p.css({marginLeft:"",marginTop:""}):p.css({marginRight:"",marginBottom:""}),s.slidesPerColumn>1&&(M=Math.floor(f/s.slidesPerColumn)===f/e.params.slidesPerColumn?f:Math.ceil(f/s.slidesPerColumn)*s.slidesPerColumn,"auto"!==s.slidesPerView&&"row"===s.slidesPerColumnFill&&(M=Math.max(M,s.slidesPerView*s.slidesPerColumn)));for(var M,C,D,A,P,L=s.slidesPerColumn,R=M/L,I=Math.floor(f/s.slidesPerColumn),k=0;k<f;k+=1){C=0;var O=p.eq(k);if(s.slidesPerColumn>1){var N=void 0,F=void 0,U=void 0;if("row"===s.slidesPerColumnFill&&s.slidesPerGroup>1){var z=Math.floor(k/(s.slidesPerGroup*s.slidesPerColumn)),B=k-s.slidesPerColumn*s.slidesPerGroup*z,H=0===z?s.slidesPerGroup:Math.min(Math.ceil((f-z*L*s.slidesPerGroup)/L),s.slidesPerGroup);N=(F=B-(U=Math.floor(B/H))*H+z*s.slidesPerGroup)+U*M/L,O.css({"-webkit-box-ordinal-group":N,"-moz-box-ordinal-group":N,"-ms-flex-order":N,"-webkit-order":N,order:N})}else"column"===s.slidesPerColumnFill?(U=k-(F=Math.floor(k/L))*L,(F>I||F===I&&U===L-1)&&(U+=1)>=L&&(U=0,F+=1)):F=k-(U=Math.floor(k/R))*R;O.css(i("margin-top"),0!==U&&s.spaceBetween&&s.spaceBetween+"px")}if("none"!==O.css("display")){if("auto"===s.slidesPerView){var G=r.getComputedStyle(O[0],null),V=O[0].style.transform,W=O[0].style.webkitTransform;if(V&&(O[0].style.transform="none"),W&&(O[0].style.webkitTransform="none"),s.roundLengths)C=e.isHorizontal()?O.outerWidth(!0):O.outerHeight(!0);else{var X=n(G,"width"),j=n(G,"padding-left"),q=n(G,"padding-right"),Y=n(G,"margin-left"),Z=n(G,"margin-right"),K=G.getPropertyValue(G,"box-sizing");if(K&&"border-box"===K)C=X+Y+Z;else{var J=O[0],Q=J.clientWidth;C=X+j+q+Y+Z+(J.offsetWidth-Q)}}V&&(O[0].style.transform=V),W&&(O[0].style.webkitTransform=W),s.roundLengths&&(C=Math.floor(C))}else C=(l-(s.slidesPerView-1)*b)/s.slidesPerView,s.roundLengths&&(C=Math.floor(C)),p[k]&&(p[k].style[i("width")]=C+"px");p[k]&&(p[k].swiperSlideSize=C),$.push(C),s.centeredSlides?(w=w+C/2+E/2+b,0===E&&0!==k&&(w=w-l/2-b),0===k&&(w=w-l/2-b),.001>Math.abs(w)&&(w=0),s.roundLengths&&(w=Math.floor(w)),T%s.slidesPerGroup==0&&m.push(w),g.push(w)):(s.roundLengths&&(w=Math.floor(w)),(T-Math.min(e.params.slidesPerGroupSkip,T))%e.params.slidesPerGroup==0&&m.push(w),g.push(w),w=w+C+b),e.virtualSize+=C+b,E=C,T+=1}}if(e.virtualSize=Math.max(e.virtualSize,l)+y,u&&c&&("slide"===s.effect||"coverflow"===s.effect)&&a.css({width:e.virtualSize+s.spaceBetween+"px"}),s.setWrapperSize&&a.css(((A={})[i("width")]=e.virtualSize+s.spaceBetween+"px",A)),s.slidesPerColumn>1&&(e.virtualSize=(C+s.spaceBetween)*M,e.virtualSize=Math.ceil(e.virtualSize/s.slidesPerColumn)-s.spaceBetween,a.css(((P={})[i("width")]=e.virtualSize+s.spaceBetween+"px",P)),s.centeredSlides)){D=[];for(var ee=0;ee<m.length;ee+=1){var et=m[ee];s.roundLengths&&(et=Math.floor(et)),m[ee]<e.virtualSize+m[0]&&D.push(et)}m=D}if(!s.centeredSlides){D=[];for(var ei=0;ei<m.length;ei+=1){var en=m[ei];s.roundLengths&&(en=Math.floor(en)),m[ei]<=e.virtualSize-l&&D.push(en)}m=D,Math.floor(e.virtualSize-l)-Math.floor(m[m.length-1])>1&&m.push(e.virtualSize-l)}if(0===m.length&&(m=[0]),0!==s.spaceBetween){var er,es=e.isHorizontal()&&u?"marginLeft":i("marginRight");p.filter(function(e,i){return!s.cssMode||i!==p.length-1}).css(((er={})[es]=b+"px",er))}if(s.centeredSlides&&s.centeredSlidesBounds){var ea=0;$.forEach(function(e){ea+=e+(s.spaceBetween?s.spaceBetween:0)});var eo=(ea-=s.spaceBetween)-l;m=m.map(function(e){return e<0?-v:e>eo?eo+y:e})}if(s.centerInsufficientSlides){var el=0;if($.forEach(function(e){el+=e+(s.spaceBetween?s.spaceBetween:0)}),(el-=s.spaceBetween)<l){var eu=(l-el)/2;m.forEach(function(e,i){m[i]=e-eu}),g.forEach(function(e,i){g[i]=e+eu})}}S(e,{slides:p,snapGrid:m,slidesGrid:g,slidesSizesGrid:$}),f!==d&&e.emit("slidesLengthChange"),m.length!==_&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),g.length!==x&&e.emit("slidesGridLengthChange"),(s.watchSlidesProgress||s.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var i,n=[],r=0;if("number"==typeof e?this.setTransition(e):!0===e&&this.setTransition(this.params.speed),"auto"!==this.params.slidesPerView&&this.params.slidesPerView>1){if(this.params.centeredSlides)this.visibleSlides.each(function(e){n.push(e)});else for(i=0;i<Math.ceil(this.params.slidesPerView);i+=1){var s=this.activeIndex+i;if(s>this.slides.length)break;n.push(this.slides.eq(s)[0])}}else n.push(this.slides.eq(this.activeIndex)[0]);for(i=0;i<n.length;i+=1)if(void 0!==n[i]){var a=n[i].offsetHeight;r=a>r?a:r}r&&this.$wrapperEl.css("height",r+"px")},updateSlidesOffset:function(){for(var e=this.slides,i=0;i<e.length;i+=1)e[i].swiperSlideOffset=this.isHorizontal()?e[i].offsetLeft:e[i].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var i=this,n=i.params,r=i.slides,s=i.rtlTranslate;if(0!==r.length){void 0===r[0].swiperSlideOffset&&i.updateSlidesOffset();var a=-e;s&&(a=e),r.removeClass(n.slideVisibleClass),i.visibleSlidesIndexes=[],i.visibleSlides=[];for(var o=0;o<r.length;o+=1){var l=r[o],u=(a+(n.centeredSlides?i.minTranslate():0)-l.swiperSlideOffset)/(l.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight){var c=-(a-l.swiperSlideOffset),h=c+i.slidesSizesGrid[o];(c>=0&&c<i.size-1||h>1&&h<=i.size||c<=0&&h>=i.size)&&(i.visibleSlides.push(l),i.visibleSlidesIndexes.push(o),r.eq(o).addClass(n.slideVisibleClass))}l.progress=s?-u:u}i.visibleSlides=m(i.visibleSlides)}},updateProgress:function(e){if(void 0===e){var i=this.rtlTranslate?-1:1;e=this&&this.translate&&this.translate*i||0}var n=this.params,r=this.maxTranslate()-this.minTranslate(),s=this.progress,a=this.isBeginning,o=this.isEnd,l=a,u=o;0===r?(s=0,a=!0,o=!0):(a=(s=(e-this.minTranslate())/r)<=0,o=s>=1),S(this,{progress:s,isBeginning:a,isEnd:o}),(n.watchSlidesProgress||n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight)&&this.updateSlidesProgress(e),a&&!l&&this.emit("reachBeginning toEdge"),o&&!u&&this.emit("reachEnd toEdge"),(l&&!a||u&&!o)&&this.emit("fromEdge"),this.emit("progress",s)},updateSlidesClasses:function(){var e,i=this.slides,n=this.params,r=this.$wrapperEl,s=this.activeIndex,a=this.realIndex,o=this.virtual&&n.virtual.enabled;i.removeClass(n.slideActiveClass+" "+n.slideNextClass+" "+n.slidePrevClass+" "+n.slideDuplicateActiveClass+" "+n.slideDuplicateNextClass+" "+n.slideDuplicatePrevClass),(e=o?this.$wrapperEl.find("."+n.slideClass+'[data-swiper-slide-index="'+s+'"]'):i.eq(s)).addClass(n.slideActiveClass),n.loop&&(e.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+a+'"]').addClass(n.slideDuplicateActiveClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+a+'"]').addClass(n.slideDuplicateActiveClass));var l=e.nextAll("."+n.slideClass).eq(0).addClass(n.slideNextClass);n.loop&&0===l.length&&(l=i.eq(0)).addClass(n.slideNextClass);var u=e.prevAll("."+n.slideClass).eq(0).addClass(n.slidePrevClass);n.loop&&0===u.length&&(u=i.eq(-1)).addClass(n.slidePrevClass),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass),u.hasClass(n.slideDuplicateClass)?r.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass):r.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass)),this.emitSlidesClasses()},updateActiveIndex:function(e){var i,n=this,r=n.rtlTranslate?n.translate:-n.translate,s=n.slidesGrid,a=n.snapGrid,o=n.params,l=n.activeIndex,u=n.realIndex,c=n.snapIndex,h=e;if(void 0===h){for(var d=0;d<s.length;d+=1)void 0!==s[d+1]?r>=s[d]&&r<s[d+1]-(s[d+1]-s[d])/2?h=d:r>=s[d]&&r<s[d+1]&&(h=d+1):r>=s[d]&&(h=d);o.normalizeSlideIndex&&(h<0||void 0===h)&&(h=0)}if(a.indexOf(r)>=0)i=a.indexOf(r);else{var p=Math.min(o.slidesPerGroupSkip,h);i=p+Math.floor((h-p)/o.slidesPerGroup)}if(i>=a.length&&(i=a.length-1),h!==l){var f=parseInt(n.slides.eq(h).attr("data-swiper-slide-index")||h,10);S(n,{snapIndex:i,realIndex:f,previousIndex:l,activeIndex:h}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),u!==f&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else i!==c&&(n.snapIndex=i,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var i,n=this,r=n.params,s=m(e.target).closest("."+r.slideClass)[0],a=!1;if(s){for(var o=0;o<n.slides.length;o+=1)if(n.slides[o]===s){a=!0,i=o;break}}if(!s||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=s,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(m(s).attr("data-swiper-slide-index"),10):n.clickedIndex=i,r.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var i=this.params,n=this.rtlTranslate,r=this.translate,s=this.$wrapperEl;if(i.virtualTranslate)return n?-r:r;if(i.cssMode)return r;var a=b(s[0],e);return n&&(a=-a),a||0},setTranslate:function(e,i){var n=this,r=n.rtlTranslate,s=n.params,a=n.$wrapperEl,o=n.wrapperEl,l=n.progress,u=0,c=0;n.isHorizontal()?u=r?-e:e:c=e,s.roundLengths&&(u=Math.floor(u),c=Math.floor(c)),s.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-u:-c:s.virtualTranslate||a.transform("translate3d("+u+"px, "+c+"px, 0px)"),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?u:c;var h=n.maxTranslate()-n.minTranslate();(0===h?0:(e-n.minTranslate())/h)!==l&&n.updateProgress(e),n.emit("setTranslate",n.translate,i)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,i,n,r,s){void 0===e&&(e=0),void 0===i&&(i=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var a=this,o=a.params,l=a.wrapperEl;if(a.animating&&o.preventInteractionOnTransition)return!1;var u,c=a.minTranslate(),h=a.maxTranslate();if(u=r&&e>c?c:r&&e<h?h:e,a.updateProgress(u),o.cssMode){var d,p=a.isHorizontal();return 0===i?l[p?"scrollLeft":"scrollTop"]=-u:l.scrollTo?l.scrollTo(((d={})[p?"left":"top"]=-u,d.behavior="smooth",d)):l[p?"scrollLeft":"scrollTop"]=-u,!0}return 0===i?(a.setTransition(0),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",i,s),a.emit("transitionEnd"))):(a.setTransition(i),a.setTranslate(u),n&&(a.emit("beforeTransitionStart",i,s),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,i){this.params.cssMode||this.$wrapperEl.transition(e),this.emit("setTransition",e,i)},transitionStart:function(e,i){void 0===e&&(e=!0);var n=this.activeIndex,r=this.params,s=this.previousIndex;if(!r.cssMode){r.autoHeight&&this.updateAutoHeight();var a=i;if(a||(a=n>s?"next":n<s?"prev":"reset"),this.emit("transitionStart"),e&&n!==s){if("reset"===a)return void this.emit("slideResetTransitionStart");this.emit("slideChangeTransitionStart"),"next"===a?this.emit("slideNextTransitionStart"):this.emit("slidePrevTransitionStart")}}},transitionEnd:function(e,i){void 0===e&&(e=!0);var n=this,r=n.activeIndex,s=n.previousIndex,a=n.params;if(n.animating=!1,!a.cssMode){n.setTransition(0);var o=i;if(o||(o=r>s?"next":r<s?"prev":"reset"),n.emit("transitionEnd"),e&&r!==s){if("reset"===o)return void n.emit("slideResetTransitionEnd");n.emit("slideChangeTransitionEnd"),"next"===o?n.emit("slideNextTransitionEnd"):n.emit("slidePrevTransitionEnd")}}}},slide:{slideTo:function(e,i,n,r){if(void 0===e&&(e=0),void 0===i&&(i=this.params.speed),void 0===n&&(n=!0),"number"!=typeof e&&"string"!=typeof e)throw Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof e+"] given.");if("string"==typeof e){var s=parseInt(e,10);if(!isFinite(s))throw Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+e+"] given.");e=s}var a=this,o=e;o<0&&(o=0);var l=a.params,u=a.snapGrid,c=a.slidesGrid,h=a.previousIndex,d=a.activeIndex,p=a.rtlTranslate,f=a.wrapperEl;if(a.animating&&l.preventInteractionOnTransition)return!1;var m=Math.min(a.params.slidesPerGroupSkip,o),g=m+Math.floor((o-m)/a.params.slidesPerGroup);g>=u.length&&(g=u.length-1),(d||l.initialSlide||0)===(h||0)&&n&&a.emit("beforeSlideChangeStart");var $,v=-u[g];if(a.updateProgress(v),l.normalizeSlideIndex)for(var y=0;y<c.length;y+=1){var _=-Math.floor(100*v),x=Math.floor(100*c[y]),b=Math.floor(100*c[y+1]);void 0!==c[y+1]?_>=x&&_<b-(b-x)/2?o=y:_>=x&&_<b&&(o=y+1):_>=x&&(o=y)}if(a.initialized&&o!==d&&(!a.allowSlideNext&&v<a.translate&&v<a.minTranslate()||!a.allowSlidePrev&&v>a.translate&&v>a.maxTranslate()&&(d||0)!==o))return!1;if($=o>d?"next":o<d?"prev":"reset",p&&-v===a.translate||!p&&v===a.translate)return a.updateActiveIndex(o),l.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==l.effect&&a.setTranslate(v),"reset"!==$&&(a.transitionStart(n,$),a.transitionEnd(n,$)),!1;if(l.cssMode){var w,S=a.isHorizontal(),E=-v;return(p&&(E=f.scrollWidth-f.offsetWidth-E),0===i)?f[S?"scrollLeft":"scrollTop"]=E:f.scrollTo?f.scrollTo(((w={})[S?"left":"top"]=E,w.behavior="smooth",w)):f[S?"scrollLeft":"scrollTop"]=E,!0}return 0===i?(a.setTransition(0),a.setTranslate(v),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",i,r),a.transitionStart(n,$),a.transitionEnd(n,$)):(a.setTransition(i),a.setTranslate(v),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",i,r),a.transitionStart(n,$),a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,$))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,i,n,r){void 0===e&&(e=0),void 0===i&&(i=this.params.speed),void 0===n&&(n=!0);var s=e;return this.params.loop&&(s+=this.loopedSlides),this.slideTo(s,i,n,r)},slideNext:function(e,i,n){void 0===e&&(e=this.params.speed),void 0===i&&(i=!0);var r=this,s=r.params,a=r.animating,o=r.activeIndex<s.slidesPerGroupSkip?1:s.slidesPerGroup;if(s.loop){if(a&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return r.slideTo(r.activeIndex+o,e,i,n)},slidePrev:function(e,i,n){void 0===e&&(e=this.params.speed),void 0===i&&(i=!0);var r=this,s=r.params,a=r.animating,o=r.snapGrid,l=r.slidesGrid,u=r.rtlTranslate;if(s.loop){if(a&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function c(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var h=c(u?r.translate:-r.translate),d=o.map(function(e){return c(e)});o[d.indexOf(h)];var p,f=o[d.indexOf(h)-1];return void 0===f&&s.cssMode&&o.forEach(function(e){!f&&h>=e&&(f=e)}),void 0!==f&&(p=l.indexOf(f))<0&&(p=r.activeIndex-1),r.slideTo(p,e,i,n)},slideReset:function(e,i,n){return void 0===e&&(e=this.params.speed),void 0===i&&(i=!0),this.slideTo(this.activeIndex,e,i,n)},slideToClosest:function(e,i,n,r){void 0===e&&(e=this.params.speed),void 0===i&&(i=!0),void 0===r&&(r=.5);var s=this.activeIndex,a=Math.min(this.params.slidesPerGroupSkip,s),o=a+Math.floor((s-a)/this.params.slidesPerGroup),l=this.rtlTranslate?this.translate:-this.translate;if(l>=this.snapGrid[o]){var u=this.snapGrid[o];l-u>(this.snapGrid[o+1]-u)*r&&(s+=this.params.slidesPerGroup)}else{var c=this.snapGrid[o-1];l-c<=(this.snapGrid[o]-c)*r&&(s-=this.params.slidesPerGroup)}return s=Math.min(s=Math.max(s,0),this.slidesGrid.length-1),this.slideTo(s,e,i,n)},slideToClickedSlide:function(){var e,i=this,n=i.params,r=i.$wrapperEl,s="auto"===n.slidesPerView?i.slidesPerViewDynamic():n.slidesPerView,a=i.clickedIndex;if(n.loop){if(i.animating)return;e=parseInt(m(i.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?a<i.loopedSlides-s/2||a>i.slides.length-i.loopedSlides+s/2?(i.loopFix(),a=r.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),_(function(){i.slideTo(a)})):i.slideTo(a):a>i.slides.length-s?(i.loopFix(),a=r.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),_(function(){i.slideTo(a)})):i.slideTo(a)}else i.slideTo(a)}},loop:{loopCreate:function(){var e=this,i=s(),n=e.params,r=e.$wrapperEl;r.children("."+n.slideClass+"."+n.slideDuplicateClass).remove();var a=r.children("."+n.slideClass);if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-a.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var l=0;l<o;l+=1){var u=m(i.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass);r.append(u)}a=r.children("."+n.slideClass)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=a.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>a.length&&(e.loopedSlides=a.length);var c=[],h=[];a.each(function(i,n){var r=m(i);n<e.loopedSlides&&h.push(i),n<a.length&&n>=a.length-e.loopedSlides&&c.push(i),r.attr("data-swiper-slide-index",n)});for(var d=0;d<h.length;d+=1)r.append(m(h[d].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var p=c.length-1;p>=0;p-=1)r.prepend(m(c[p].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var i,n=e.activeIndex,r=e.slides,s=e.loopedSlides,a=e.allowSlidePrev,o=e.allowSlideNext,l=e.snapGrid,u=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var c=-l[n]-e.getTranslate();n<s?(i=r.length-3*s+n,i+=s,e.slideTo(i,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c)):n>=r.length-s&&(i=-r.length+n+s,i+=s,e.slideTo(i,0,!1,!0)&&0!==c&&e.setTranslate((u?-e.translate:e.translate)-c)),e.allowSlidePrev=a,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){var e=this.$wrapperEl,i=this.params,n=this.slides;e.children("."+i.slideClass+"."+i.slideDuplicateClass+",."+i.slideClass+"."+i.slideBlankClass).remove(),n.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){if(!(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)){var i=this.el;i.style.cursor="move",i.style.cursor=e?"-webkit-grabbing":"-webkit-grab",i.style.cursor=e?"-moz-grabbin":"-moz-grab",i.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.el.style.cursor="")}},manipulation:{appendSlide:function(e){var i=this.$wrapperEl,n=this.params;if(n.loop&&this.loopDestroy(),"object"==typeof e&&"length"in e)for(var r=0;r<e.length;r+=1)e[r]&&i.append(e[r]);else i.append(e);n.loop&&this.loopCreate(),n.observer&&this.support.observer||this.update()},prependSlide:function(e){var i=this.params,n=this.$wrapperEl,r=this.activeIndex;i.loop&&this.loopDestroy();var s=r+1;if("object"==typeof e&&"length"in e){for(var a=0;a<e.length;a+=1)e[a]&&n.prepend(e[a]);s=r+e.length}else n.prepend(e);i.loop&&this.loopCreate(),i.observer&&this.support.observer||this.update(),this.slideTo(s,0,!1)},addSlide:function(e,i){var n=this,r=n.$wrapperEl,s=n.params,a=n.activeIndex;s.loop&&(a-=n.loopedSlides,n.loopDestroy(),n.slides=r.children("."+s.slideClass));var o=n.slides.length;if(e<=0)n.prependSlide(i);else if(e>=o)n.appendSlide(i);else{for(var l=a>e?a+1:a,u=[],c=o-1;c>=e;c-=1){var h=n.slides.eq(c);h.remove(),u.unshift(h)}if("object"==typeof i&&"length"in i){for(var d=0;d<i.length;d+=1)i[d]&&r.append(i[d]);l=a>e?a+i.length:a}else r.append(i);for(var p=0;p<u.length;p+=1)r.append(u[p]);s.loop&&n.loopCreate(),s.observer&&n.support.observer||n.update(),s.loop?n.slideTo(l+n.loopedSlides,0,!1):n.slideTo(l,0,!1)}},removeSlide:function(e){var i=this,n=i.params,r=i.$wrapperEl,s=i.activeIndex;n.loop&&(s-=i.loopedSlides,i.loopDestroy(),i.slides=r.children("."+n.slideClass));var a,o=s;if("object"==typeof e&&"length"in e){for(var l=0;l<e.length;l+=1)a=e[l],i.slides[a]&&i.slides.eq(a).remove(),a<o&&(o-=1);o=Math.max(o,0)}else a=e,i.slides[a]&&i.slides.eq(a).remove(),a<o&&(o-=1),o=Math.max(o,0);n.loop&&i.loopCreate(),n.observer&&i.support.observer||i.update(),n.loop?i.slideTo(o+i.loopedSlides,0,!1):i.slideTo(o,0,!1)},removeAllSlides:function(){for(var e=[],i=0;i<this.slides.length;i+=1)e.push(i);this.removeSlide(e)}},events:{attachEvents:function(){var e=this,i=s(),n=e.params,r=e.touchEvents,a=e.el,o=e.wrapperEl,l=e.device,u=e.support;e.onTouchStart=C.bind(e),e.onTouchMove=D.bind(e),e.onTouchEnd=A.bind(e),n.cssMode&&(e.onScroll=R.bind(e)),e.onClick=L.bind(e);var c=!!n.nested;if(!u.touch&&u.pointerEvents)a.addEventListener(r.start,e.onTouchStart,!1),i.addEventListener(r.move,e.onTouchMove,c),i.addEventListener(r.end,e.onTouchEnd,!1);else{if(u.touch){var h=!("touchstart"!==r.start||!u.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};a.addEventListener(r.start,e.onTouchStart,h),a.addEventListener(r.move,e.onTouchMove,u.passiveListener?{passive:!1,capture:c}:c),a.addEventListener(r.end,e.onTouchEnd,h),r.cancel&&a.addEventListener(r.cancel,e.onTouchEnd,h),I||(i.addEventListener("touchstart",k),I=!0)}(n.simulateTouch&&!l.ios&&!l.android||n.simulateTouch&&!u.touch&&l.ios)&&(a.addEventListener("mousedown",e.onTouchStart,!1),i.addEventListener("mousemove",e.onTouchMove,c),i.addEventListener("mouseup",e.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&a.addEventListener("click",e.onClick,!0),n.cssMode&&o.addEventListener("scroll",e.onScroll),n.updateOnWindowResize?e.on(l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",P,!0):e.on("observerUpdate",P,!0)},detachEvents:function(){var e=s(),i=this.params,n=this.touchEvents,r=this.el,a=this.wrapperEl,o=this.device,l=this.support,u=!!i.nested;if(!l.touch&&l.pointerEvents)r.removeEventListener(n.start,this.onTouchStart,!1),e.removeEventListener(n.move,this.onTouchMove,u),e.removeEventListener(n.end,this.onTouchEnd,!1);else{if(l.touch){var c=!("onTouchStart"!==n.start||!l.passiveListener||!i.passiveListeners)&&{passive:!0,capture:!1};r.removeEventListener(n.start,this.onTouchStart,c),r.removeEventListener(n.move,this.onTouchMove,u),r.removeEventListener(n.end,this.onTouchEnd,c),n.cancel&&r.removeEventListener(n.cancel,this.onTouchEnd,c)}(i.simulateTouch&&!o.ios&&!o.android||i.simulateTouch&&!l.touch&&o.ios)&&(r.removeEventListener("mousedown",this.onTouchStart,!1),e.removeEventListener("mousemove",this.onTouchMove,u),e.removeEventListener("mouseup",this.onTouchEnd,!1))}(i.preventClicks||i.preventClicksPropagation)&&r.removeEventListener("click",this.onClick,!0),i.cssMode&&a.removeEventListener("scroll",this.onScroll),this.off(o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",P)}},breakpoints:{setBreakpoint:function(){var e=this,i=e.activeIndex,n=e.initialized,r=e.loopedSlides,s=e.params,a=e.$el,o=s.breakpoints;if(o&&(!o||0!==Object.keys(o).length)){var l=e.getBreakpoint(o,e.params.breakpointsBase,e.el);if(l&&e.currentBreakpoint!==l){var u=l in o?o[l]:void 0;u&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach(function(e){var i=u[e];void 0!==i&&(u[e]="slidesPerView"!==e||"AUTO"!==i&&"auto"!==i?"slidesPerView"===e?parseFloat(i):parseInt(i,10):"auto")});var c=u||e.originalParams,h=s.slidesPerColumn>1,d=c.slidesPerColumn>1;h&&!d?(a.removeClass(s.containerModifierClass+"multirow "+s.containerModifierClass+"multirow-column"),e.emitContainerClasses()):!h&&d&&(a.addClass(s.containerModifierClass+"multirow"),"column"===c.slidesPerColumnFill&&a.addClass(s.containerModifierClass+"multirow-column"),e.emitContainerClasses());var p=c.direction&&c.direction!==s.direction,f=s.loop&&(c.slidesPerView!==s.slidesPerView||p);p&&n&&e.changeDirection(),S(e.params,c),S(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",c),f&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(i-(void 0===r?0:r)+e.loopedSlides,0,!1)),e.emit("breakpoint",c)}}},getBreakpoint:function(e,i,n){if(void 0===i&&(i="window"),e&&("container"!==i||n)){var r=!1,s=o(),a="window"===i?s.innerWidth:n.clientWidth,l="window"===i?s.innerHeight:n.clientHeight,u=Object.keys(e).map(function(e){if("string"==typeof e&&0===e.indexOf("@")){var i=parseFloat(e.substr(1));return{value:l*i,point:e}}return{value:e,point:e}});u.sort(function(e,i){return parseInt(e.value,10)-parseInt(i.value,10)});for(var c=0;c<u.length;c+=1){var h=u[c],d=h.point;h.value<=a&&(r=d)}return r||"max"}}},checkOverflow:{checkOverflow:function(){var e=this,i=e.params,n=e.isLocked,r=e.slides.length>0&&i.slidesOffsetBefore+i.spaceBetween*(e.slides.length-1)+e.slides[0].offsetWidth*e.slides.length;i.slidesOffsetBefore&&i.slidesOffsetAfter&&r?e.isLocked=r<=e.size:e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,n!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock"),n&&n!==e.isLocked&&(e.isEnd=!1,e.navigation&&e.navigation.update())}},classes:{addClasses:function(){var e,i,n,r=this.classNames,s=this.params,a=this.rtl,o=this.$el,l=this.device,u=this.support,c=(e=["initialized",s.direction,{"pointer-events":u.pointerEvents&&!u.touch},{"free-mode":s.freeMode},{autoheight:s.autoHeight},{rtl:a},{multirow:s.slidesPerColumn>1},{"multirow-column":s.slidesPerColumn>1&&"column"===s.slidesPerColumnFill},{android:l.android},{ios:l.ios},{"css-mode":s.cssMode}],i=s.containerModifierClass,n=[],e.forEach(function(e){"object"==typeof e?Object.entries(e).forEach(function(e){var r=e[0];e[1]&&n.push(i+r)}):"string"==typeof e&&n.push(i+e)}),n);r.push.apply(r,c),o.addClass([].concat(r).join(" ")),this.emitContainerClasses()},removeClasses:function(){var e=this.$el,i=this.classNames;e.removeClass(i.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(e,i,n,r,s,a){var l,u=o();function c(){a&&a()}m(e).parent("picture")[0]||e.complete&&s?c():i?((l=new u.Image).onload=c,l.onerror=c,r&&(l.sizes=r),n&&(l.srcset=n),i&&(l.src=i)):c()},preloadImages:function(){var e=this;function i(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,i)}}}},F={},U=function(){function e(){for(var i,n,r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];if(1===s.length&&s[0].constructor&&s[0].constructor===Object?n=s[0]:(i=s[0],n=s[1]),n||(n={}),n=S({},n),i&&!n.el&&(n.el=i),n.el&&m(n.el).length>1){var l=[];return m(n.el).each(function(i){var r=S({},n,{el:i});l.push(new e(r))}),l}var u,c,h,d,p,f,g,y,_,b,w,E,M,C,D,A,P,L=this;L.support=T(),L.device=(u={userAgent:n.userAgent},$||($=(h=(void 0===(c=u)?{}:c).userAgent,d=T(),f=(p=o()).navigator.platform,g=h||p.navigator.userAgent,y={ios:!1,android:!1},_=p.screen.width,b=p.screen.height,w=g.match(/(Android);?[\s\/]+([\d.]+)?/),E=g.match(/(iPad).*OS\s([\d_]+)/),M=g.match(/(iPod)(.*OS\s([\d_]+))?/),C=!E&&g.match(/(iPhone\sOS|iOS)\s([\d_]+)/),D="MacIntel"===f,!E&&D&&d.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(_+"x"+b)>=0&&((E=g.match(/(Version)\/([\d.]+)/))||(E=[0,1,"13_0_0"]),D=!1),w&&"Win32"!==f&&(y.os="android",y.android=!0),(E||C||M)&&(y.os="ios",y.ios=!0),y)),$),L.browser=(v||(v={isEdge:!!(P=o()).navigator.userAgent.match(/Edge/g),isSafari:(A=P.navigator.userAgent.toLowerCase()).indexOf("safari")>=0&&0>A.indexOf("chrome")&&0>A.indexOf("android"),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(P.navigator.userAgent)}),v),L.eventsListeners={},L.eventsAnyListeners=[],void 0===L.modules&&(L.modules={}),Object.keys(L.modules).forEach(function(e){var i=L.modules[e];if(i.params){var r=Object.keys(i.params)[0],s=i.params[r];if("object"!=typeof s||null===s||!(r in n)||!("enabled"in s))return;!0===n[r]&&(n[r]={enabled:!0}),"object"!=typeof n[r]||"enabled"in n[r]||(n[r].enabled=!0),n[r]||(n[r]={enabled:!1})}});var R,I,k=S({},O);return L.useParams(k),L.params=S({},k,F,n),L.originalParams=S({},L.params),L.passedParams=S({},n),L.params&&L.params.on&&Object.keys(L.params.on).forEach(function(e){L.on(e,L.params.on[e])}),L.params&&L.params.onAny&&L.onAny(L.params.onAny),L.$=m,S(L,{el:i,classNames:[],slides:m(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===L.params.direction},isVertical:function(){return"vertical"===L.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:L.params.allowSlideNext,allowSlidePrev:L.params.allowSlidePrev,touchEvents:(R=["touchstart","touchmove","touchend","touchcancel"],I=["mousedown","mousemove","mouseup"],L.support.pointerEvents&&(I=["pointerdown","pointermove","pointerup"]),L.touchEventsTouch={start:R[0],move:R[1],end:R[2],cancel:R[3]},L.touchEventsDesktop={start:I[0],move:I[1],end:I[2]},L.support.touch||!L.params.simulateTouch?L.touchEventsTouch:L.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:x(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:L.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),L.useModules(),L.emit("_swiper"),L.params.init&&L.init(),L}var i,n,r,s=e.prototype;return s.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var i=e.el.className.split(" ").filter(function(i){return 0===i.indexOf("swiper-container")||0===i.indexOf(e.params.containerModifierClass)});e.emit("_containerClasses",i.join(" "))}},s.getSlideClasses=function(e){var i=this;return e.className.split(" ").filter(function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(i.params.slideClass)}).join(" ")},s.emitSlidesClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var i=[];e.slides.each(function(n){var r=e.getSlideClasses(n);i.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)}),e.emit("_slideClasses",i)}},s.slidesPerViewDynamic=function(){var e=this.params,i=this.slides,n=this.slidesGrid,r=this.size,s=this.activeIndex,a=1;if(e.centeredSlides){for(var o,l=i[s].swiperSlideSize,u=s+1;u<i.length;u+=1)i[u]&&!o&&(a+=1,(l+=i[u].swiperSlideSize)>r&&(o=!0));for(var c=s-1;c>=0;c-=1)i[c]&&!o&&(a+=1,(l+=i[c].swiperSlideSize)>r&&(o=!0))}else for(var h=s+1;h<i.length;h+=1)n[h]-n[s]<r&&(a+=1);return a},s.update=function(){var e=this;if(e&&!e.destroyed){var i=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&i!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var i=Math.min(Math.max(e.rtlTranslate?-1*e.translate:e.translate,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}},s.changeDirection=function(e,i){void 0===i&&(i=!0);var n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass(""+n.params.containerModifierClass+r).addClass(""+n.params.containerModifierClass+e),n.emitContainerClasses(),n.params.direction=e,n.slides.each(function(i){"vertical"===e?i.style.width="":i.style.height=""}),n.emit("changeDirection"),i&&n.update()),n},s.mount=function(e){if(this.mounted)return!0;var i,n=m(e||this.params.el);return!!(e=n[0])&&(e.swiper=this,e&&e.shadowRoot&&e.shadowRoot.querySelector?(i=m(e.shadowRoot.querySelector("."+this.params.wrapperClass))).children=function(e){return n.children(e)}:i=n.children("."+this.params.wrapperClass),S(this,{$el:n,el:e,$wrapperEl:i,wrapperEl:i[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===this.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===i.css("display")}),!0)},s.init=function(e){var i=this;return i.initialized||!1===i.mount(e)||(i.emit("beforeInit"),i.params.breakpoints&&i.setBreakpoint(),i.addClasses(),i.params.loop&&i.loopCreate(),i.updateSize(),i.updateSlides(),i.params.watchOverflow&&i.checkOverflow(),i.params.grabCursor&&i.setGrabCursor(),i.params.preloadImages&&i.preloadImages(),i.params.loop?i.slideTo(i.params.initialSlide+i.loopedSlides,0,i.params.runCallbacksOnInit):i.slideTo(i.params.initialSlide,0,i.params.runCallbacksOnInit),i.attachEvents(),i.initialized=!0,i.emit("init"),i.emit("afterInit")),i},s.destroy=function(e,i){void 0===e&&(e=!0),void 0===i&&(i=!0);var n,r=this,s=r.params,a=r.$el,o=r.$wrapperEl,l=r.slides;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),i&&(r.removeClasses(),a.removeAttr("style"),o.removeAttr("style"),l&&l.length&&l.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(function(e){r.off(e)}),!1!==e&&(r.$el[0].swiper=null,Object.keys(n=r).forEach(function(e){try{n[e]=null}catch(i){}try{delete n[e]}catch(r){}})),r.destroyed=!0),null},e.extendDefaults=function(e){S(F,e)},e.installModule=function(i){e.prototype.modules||(e.prototype.modules={});var n=i.name||Object.keys(e.prototype.modules).length+"_"+x();e.prototype.modules[n]=i},e.use=function(i){return Array.isArray(i)?(i.forEach(function(i){return e.installModule(i)}),e):(e.installModule(i),e)},i=e,r=[{key:"extendedDefaults",get:function(){return F}},{key:"defaults",get:function(){return O}}],n=null,r&&function e(i,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(i,s.key,s)}}(i,r),e}();Object.keys(N).forEach(function(e){Object.keys(N[e]).forEach(function(i){U.prototype[i]=N[e][i]})}),U.use([{name:"resize",create:function(){var e=this;S(e,{resize:{observer:null,createObserver:function(){e&&!e.destroyed&&e.initialized&&(e.resize.observer=new ResizeObserver(function(i){var n=e.width,r=e.height,s=n,a=r;i.forEach(function(i){var n=i.contentBoxSize,r=i.contentRect,o=i.target;o&&o!==e.el||(s=r?r.width:(n[0]||n).inlineSize,a=r?r.height:(n[0]||n).blockSize)}),s===n&&a===r||e.resize.resizeHandler()}),e.resize.observer.observe(e.el))},removeObserver:function(){e.resize.observer&&e.resize.observer.unobserve&&e.el&&(e.resize.observer.unobserve(e.el),e.resize.observer=null)},resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(e){var i=o();e.params.resizeObserver&&void 0!==o().ResizeObserver?e.resize.createObserver():(i.addEventListener("resize",e.resize.resizeHandler),i.addEventListener("orientationchange",e.resize.orientationChangeHandler))},destroy:function(e){var i=o();e.resize.removeObserver(),i.removeEventListener("resize",e.resize.resizeHandler),i.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}},{name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){E(this,{observer:e({},M,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}}]);var z={update:function(e){var i=this,n=i.params,r=n.slidesPerView,s=n.slidesPerGroup,a=n.centeredSlides,o=i.params.virtual,l=o.addSlidesBefore,u=o.addSlidesAfter,c=i.virtual,h=c.from,d=c.to,p=c.slides,f=c.slidesGrid,m=c.renderSlide,g=c.offset;i.updateActiveIndex();var $,v,y,_=i.activeIndex||0;$=i.rtlTranslate?"right":i.isHorizontal()?"left":"top",a?(v=Math.floor(r/2)+s+u,y=Math.floor(r/2)+s+l):(v=r+(s-1)+u,y=s+l);var x=Math.max((_||0)-y,0),b=Math.min((_||0)+v,p.length-1),w=(i.slidesGrid[x]||0)-(i.slidesGrid[0]||0);function E(){i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),i.lazy&&i.params.lazy.enabled&&i.lazy.load()}if(S(i.virtual,{from:x,to:b,offset:w,slidesGrid:i.slidesGrid}),h===x&&d===b&&!e)return i.slidesGrid!==f&&w!==g&&i.slides.css($,w+"px"),void i.updateProgress();if(i.params.virtual.renderExternal)return i.params.virtual.renderExternal.call(i,{offset:w,from:x,to:b,slides:function(){for(var e=[],i=x;i<=b;i+=1)e.push(p[i]);return e}()}),void(i.params.virtual.renderExternalUpdate&&E());var T=[],M=[];if(e)i.$wrapperEl.find("."+i.params.slideClass).remove();else for(var C=h;C<=d;C+=1)(C<x||C>b)&&i.$wrapperEl.find("."+i.params.slideClass+'[data-swiper-slide-index="'+C+'"]').remove();for(var D=0;D<p.length;D+=1)D>=x&&D<=b&&(void 0===d||e?M.push(D):(D>d&&M.push(D),D<h&&T.push(D)));M.forEach(function(e){i.$wrapperEl.append(m(p[e],e))}),T.sort(function(e,i){return i-e}).forEach(function(e){i.$wrapperEl.prepend(m(p[e],e))}),i.$wrapperEl.children(".swiper-slide").css($,w+"px"),E()},renderSlide:function(e,i){var n=this,r=n.params.virtual;if(r.cache&&n.virtual.cache[i])return n.virtual.cache[i];var s=r.renderSlide?m(r.renderSlide.call(n,e,i)):m('<div class="'+n.params.slideClass+'" data-swiper-slide-index="'+i+'">'+e+"</div>");return s.attr("data-swiper-slide-index")||s.attr("data-swiper-slide-index",i),r.cache&&(n.virtual.cache[i]=s),s},appendSlide:function(e){if("object"==typeof e&&"length"in e)for(var i=0;i<e.length;i+=1)e[i]&&this.virtual.slides.push(e[i]);else this.virtual.slides.push(e);this.virtual.update(!0)},prependSlide:function(e){var i=this,n=i.activeIndex,r=n+1,s=1;if(Array.isArray(e)){for(var a=0;a<e.length;a+=1)e[a]&&i.virtual.slides.unshift(e[a]);r=n+e.length,s=e.length}else i.virtual.slides.unshift(e);if(i.params.virtual.cache){var o=i.virtual.cache,l={};Object.keys(o).forEach(function(e){var i=o[e],n=i.attr("data-swiper-slide-index");n&&i.attr("data-swiper-slide-index",parseInt(n,10)+1),l[parseInt(e,10)+s]=i}),i.virtual.cache=l}i.virtual.update(!0),i.slideTo(r,0)},removeSlide:function(e){if(null!=e){var i=this.activeIndex;if(Array.isArray(e))for(var n=e.length-1;n>=0;n-=1)this.virtual.slides.splice(e[n],1),this.params.virtual.cache&&delete this.virtual.cache[e[n]],e[n]<i&&(i-=1),i=Math.max(i,0);else this.virtual.slides.splice(e,1),this.params.virtual.cache&&delete this.virtual.cache[e],e<i&&(i-=1),i=Math.max(i,0);this.virtual.update(!0),this.slideTo(i,0)}},removeAllSlides:function(){var e=this;e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),e.virtual.update(!0),e.slideTo(0,0)}},B={handle:function(e){var i=o(),n=s(),r=this.rtlTranslate,a=e;a.originalEvent&&(a=a.originalEvent);var l=a.keyCode||a.charCode,u=this.params.keyboard.pageUpDown,c=u&&33===l,h=u&&34===l,d=37===l,p=39===l,f=38===l,m=40===l;if(!this.allowSlideNext&&(this.isHorizontal()&&p||this.isVertical()&&m||h)||!this.allowSlidePrev&&(this.isHorizontal()&&d||this.isVertical()&&f||c))return!1;if(!(a.shiftKey||a.altKey||a.ctrlKey||a.metaKey||n.activeElement&&n.activeElement.nodeName&&("input"===n.activeElement.nodeName.toLowerCase()||"textarea"===n.activeElement.nodeName.toLowerCase()))){if(this.params.keyboard.onlyInViewport&&(c||h||d||p||f||m)){var g=!1;if(this.$el.parents("."+this.params.slideClass).length>0&&0===this.$el.parents("."+this.params.slideActiveClass).length)return;var $=i.innerWidth,v=i.innerHeight,y=this.$el.offset();r&&(y.left-=this.$el[0].scrollLeft);for(var _=[[y.left,y.top],[y.left+this.width,y.top],[y.left,y.top+this.height],[y.left+this.width,y.top+this.height]],x=0;x<_.length;x+=1){var b=_[x];if(b[0]>=0&&b[0]<=$&&b[1]>=0&&b[1]<=v){if(0===b[0]&&0===b[1])continue;g=!0}}if(!g)return}this.isHorizontal()?((c||h||d||p)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),((h||p)&&!r||(c||d)&&r)&&this.slideNext(),((c||d)&&!r||(h||p)&&r)&&this.slidePrev()):((c||h||f||m)&&(a.preventDefault?a.preventDefault():a.returnValue=!1),(h||m)&&this.slideNext(),(c||f)&&this.slidePrev()),this.emit("keyPress",l)}},enable:function(){var e=this,i=s();e.keyboard.enabled||(m(i).on("keydown",e.keyboard.handle),e.keyboard.enabled=!0)},disable:function(){var e=this,i=s();e.keyboard.enabled&&(m(i).off("keydown",e.keyboard.handle),e.keyboard.enabled=!1)}},H={lastScrollTime:x(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return o().navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":!function(){var e=s(),i="onwheel",n=i in e;if(!n){var r=e.createElement("div");r.setAttribute(i,"return;"),n="function"==typeof r.onwheel}return!n&&e.implementation&&e.implementation.hasFeature&&!0!==e.implementation.hasFeature("","")&&(n=e.implementation.hasFeature("Events.wheel","3.0")),n}()?"mousewheel":"wheel"},normalize:function(e){var i=0,n=0,r=0,s=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(i=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(i=n,n=0),r=10*i,s=10*n,"deltaY"in e&&(s=e.deltaY),"deltaX"in e&&(r=e.deltaX),e.shiftKey&&!r&&(r=s,s=0),(r||s)&&e.deltaMode&&(1===e.deltaMode?(r*=40,s*=40):(r*=800,s*=800)),r&&!i&&(i=r<1?-1:1),s&&!n&&(n=s<1?-1:1),{spinX:i,spinY:n,pixelX:r,pixelY:s}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(e){var i=e,n=this,r=n.params.mousewheel;n.params.cssMode&&i.preventDefault();var s=n.$el;if("container"!==n.params.mousewheel.eventsTarget&&(s=m(n.params.mousewheel.eventsTarget)),!n.mouseEntered&&!s[0].contains(i.target)&&!r.releaseOnEdges)return!0;i.originalEvent&&(i=i.originalEvent);var a=0,o=n.rtlTranslate?-1:1,l=H.normalize(i);if(r.forceToAxis){if(n.isHorizontal()){if(!(Math.abs(l.pixelX)>Math.abs(l.pixelY)))return!0;a=-l.pixelX*o}else{if(!(Math.abs(l.pixelY)>Math.abs(l.pixelX)))return!0;a=-l.pixelY}}else a=Math.abs(l.pixelX)>Math.abs(l.pixelY)?-l.pixelX*o:-l.pixelY;if(0===a)return!0;r.invert&&(a=-a);var u=n.getTranslate()+a*r.sensitivity;if(u>=n.minTranslate()&&(u=n.minTranslate()),u<=n.maxTranslate()&&(u=n.maxTranslate()),(n.params.loop||!(u===n.minTranslate()||u===n.maxTranslate()))&&n.params.nested&&i.stopPropagation(),n.params.freeMode){var c={time:x(),delta:Math.abs(a),direction:Math.sign(a)},h=n.mousewheel.lastEventBeforeSnap,d=h&&c.time<h.time+500&&c.delta<=h.delta&&c.direction===h.direction;if(!d){n.mousewheel.lastEventBeforeSnap=void 0,n.params.loop&&n.loopFix();var p=n.getTranslate()+a*r.sensitivity,f=n.isBeginning,g=n.isEnd;if(p>=n.minTranslate()&&(p=n.minTranslate()),p<=n.maxTranslate()&&(p=n.maxTranslate()),n.setTransition(0),n.setTranslate(p),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!f&&n.isBeginning||!g&&n.isEnd)&&n.updateSlidesClasses(),n.params.freeModeSticky){clearTimeout(n.mousewheel.timeout),n.mousewheel.timeout=void 0;var $=n.mousewheel.recentWheelEvents;$.length>=15&&$.shift();var v=$.length?$[$.length-1]:void 0,y=$[0];if($.push(c),v&&(c.delta>v.delta||c.direction!==v.direction))$.splice(0);else if($.length>=15&&c.time-y.time<500&&y.delta-c.delta>=1&&c.delta<=6){var b=a>0?.8:.2;n.mousewheel.lastEventBeforeSnap=c,$.splice(0),n.mousewheel.timeout=_(function(){n.slideToClosest(n.params.speed,!0,void 0,b)},0)}n.mousewheel.timeout||(n.mousewheel.timeout=_(function(){n.mousewheel.lastEventBeforeSnap=c,$.splice(0),n.slideToClosest(n.params.speed,!0,void 0,.5)},500))}if(d||n.emit("scroll",i),n.params.autoplay&&n.params.autoplayDisableOnInteraction&&n.autoplay.stop(),p===n.minTranslate()||p===n.maxTranslate())return!0}}else{var w={time:x(),delta:Math.abs(a),direction:Math.sign(a),raw:e},S=n.mousewheel.recentWheelEvents;S.length>=2&&S.shift();var E=S.length?S[S.length-1]:void 0;if(S.push(w),E?(w.direction!==E.direction||w.delta>E.delta||w.time>E.time+150)&&n.mousewheel.animateSlider(w):n.mousewheel.animateSlider(w),n.mousewheel.releaseScroll(w))return!0}return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},animateSlider:function(e){var i=this,n=o();return!(this.params.mousewheel.thresholdDelta&&e.delta<this.params.mousewheel.thresholdDelta)&&!(this.params.mousewheel.thresholdTime&&x()-i.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime)&&(e.delta>=6&&x()-i.mousewheel.lastScrollTime<60||(e.direction<0?i.isEnd&&!i.params.loop||i.animating||(i.slideNext(),i.emit("scroll",e.raw)):i.isBeginning&&!i.params.loop||i.animating||(i.slidePrev(),i.emit("scroll",e.raw)),i.mousewheel.lastScrollTime=(new n.Date).getTime(),!1))},releaseScroll:function(e){var i=this.params.mousewheel;if(e.direction<0){if(this.isEnd&&!this.params.loop&&i.releaseOnEdges)return!0}else if(this.isBeginning&&!this.params.loop&&i.releaseOnEdges)return!0;return!1},enable:function(){var e=this,i=H.event();if(e.params.cssMode)return e.wrapperEl.removeEventListener(i,e.mousewheel.handle),!0;if(!i||e.mousewheel.enabled)return!1;var n=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(n=m(e.params.mousewheel.eventsTarget)),n.on("mouseenter",e.mousewheel.handleMouseEnter),n.on("mouseleave",e.mousewheel.handleMouseLeave),n.on(i,e.mousewheel.handle),e.mousewheel.enabled=!0,!0},disable:function(){var e=this,i=H.event();if(e.params.cssMode)return e.wrapperEl.addEventListener(i,e.mousewheel.handle),!0;if(!i||!e.mousewheel.enabled)return!1;var n=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(n=m(e.params.mousewheel.eventsTarget)),n.off(i,e.mousewheel.handle),e.mousewheel.enabled=!1,!0}},G={update:function(){var e=this.params.navigation;if(!this.params.loop){var i=this.navigation,n=i.$nextEl,r=i.$prevEl;r&&r.length>0&&(this.isBeginning?r.addClass(e.disabledClass):r.removeClass(e.disabledClass),r[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass)),n&&n.length>0&&(this.isEnd?n.addClass(e.disabledClass):n.removeClass(e.disabledClass),n[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](e.lockClass))}},onPrevClick:function(e){e.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(e){e.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var e,i,n=this.params.navigation;(n.nextEl||n.prevEl)&&(n.nextEl&&(e=m(n.nextEl),this.params.uniqueNavElements&&"string"==typeof n.nextEl&&e.length>1&&1===this.$el.find(n.nextEl).length&&(e=this.$el.find(n.nextEl))),n.prevEl&&(i=m(n.prevEl),this.params.uniqueNavElements&&"string"==typeof n.prevEl&&i.length>1&&1===this.$el.find(n.prevEl).length&&(i=this.$el.find(n.prevEl))),e&&e.length>0&&e.on("click",this.navigation.onNextClick),i&&i.length>0&&i.on("click",this.navigation.onPrevClick),S(this.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:i,prevEl:i&&i[0]}))},destroy:function(){var e=this.navigation,i=e.$nextEl,n=e.$prevEl;i&&i.length&&(i.off("click",this.navigation.onNextClick),i.removeClass(this.params.navigation.disabledClass)),n&&n.length&&(n.off("click",this.navigation.onPrevClick),n.removeClass(this.params.navigation.disabledClass))}},V={update:function(){var e=this,i=e.rtl,n=e.params.pagination;if(n.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var r,s=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,a=e.pagination.$el,o=e.params.loop?Math.ceil((s-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((r=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>s-1-2*e.loopedSlides&&(r-=s-2*e.loopedSlides),r>o-1&&(r-=o),r<0&&"bullets"!==e.params.paginationType&&(r=o+r)):r=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===n.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var l,u,c,h=e.pagination.bullets;if(n.dynamicBullets&&(e.pagination.bulletSize=h.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),a.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=r-e.previousIndex,e.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),c=((u=(l=r-e.pagination.dynamicBulletIndex)+(Math.min(h.length,n.dynamicMainBullets)-1))+l)/2),h.removeClass(n.bulletActiveClass+" "+n.bulletActiveClass+"-next "+n.bulletActiveClass+"-next-next "+n.bulletActiveClass+"-prev "+n.bulletActiveClass+"-prev-prev "+n.bulletActiveClass+"-main"),a.length>1)h.each(function(e){var i=m(e),s=i.index();s===r&&i.addClass(n.bulletActiveClass),n.dynamicBullets&&(s>=l&&s<=u&&i.addClass(n.bulletActiveClass+"-main"),s===l&&i.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),s===u&&i.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next"))});else{var d=h.eq(r),p=d.index();if(d.addClass(n.bulletActiveClass),n.dynamicBullets){for(var f=h.eq(l),g=h.eq(u),$=l;$<=u;$+=1)h.eq($).addClass(n.bulletActiveClass+"-main");if(e.params.loop){if(p>=h.length-n.dynamicMainBullets){for(var v=n.dynamicMainBullets;v>=0;v-=1)h.eq(h.length-v).addClass(n.bulletActiveClass+"-main");h.eq(h.length-n.dynamicMainBullets-1).addClass(n.bulletActiveClass+"-prev")}else f.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),g.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next")}else f.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),g.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next")}}if(n.dynamicBullets){var y=Math.min(h.length,n.dynamicMainBullets+4),_=(e.pagination.bulletSize*y-e.pagination.bulletSize)/2-c*e.pagination.bulletSize;h.css(e.isHorizontal()?i?"right":"left":"top",_+"px")}}if("fraction"===n.type&&(a.find("."+n.currentClass).text(n.formatFractionCurrent(r+1)),a.find("."+n.totalClass).text(n.formatFractionTotal(o))),"progressbar"===n.type){x=n.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var x,b=(r+1)/o,w=1,S=1;"horizontal"===x?w=b:S=b,a.find("."+n.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+w+") scaleY("+S+")").transition(e.params.speed)}"custom"===n.type&&n.renderCustom?(a.html(n.renderCustom(e,r+1,o)),e.emit("paginationRender",a[0])):e.emit("paginationUpdate",a[0]),a[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](n.lockClass)}},render:function(){var e=this,i=e.params.pagination;if(i.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,r=e.pagination.$el,s="";if("bullets"===i.type){var a=e.params.loop?Math.ceil((n-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&!e.params.loop&&a>n&&(a=n);for(var o=0;o<a;o+=1)i.renderBullet?s+=i.renderBullet.call(e,o,i.bulletClass):s+="<"+i.bulletElement+' class="'+i.bulletClass+'"></'+i.bulletElement+">";r.html(s),e.pagination.bullets=r.find("."+i.bulletClass.replace(/ /g,"."))}"fraction"===i.type&&(s=i.renderFraction?i.renderFraction.call(e,i.currentClass,i.totalClass):'<span class="'+i.currentClass+'"></span> / <span class="'+i.totalClass+'"></span>',r.html(s)),"progressbar"===i.type&&(s=i.renderProgressbar?i.renderProgressbar.call(e,i.progressbarFillClass):'<span class="'+i.progressbarFillClass+'"></span>',r.html(s)),"custom"!==i.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this,i=e.params.pagination;if(i.el){var n=m(i.el);0!==n.length&&(e.params.uniqueNavElements&&"string"==typeof i.el&&n.length>1&&(n=e.$el.find(i.el)),"bullets"===i.type&&i.clickable&&n.addClass(i.clickableClass),n.addClass(i.modifierClass+i.type),"bullets"===i.type&&i.dynamicBullets&&(n.addClass(""+i.modifierClass+i.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,i.dynamicMainBullets<1&&(i.dynamicMainBullets=1)),"progressbar"===i.type&&i.progressbarOpposite&&n.addClass(i.progressbarOppositeClass),i.clickable&&n.on("click","."+i.bulletClass.replace(/ /g,"."),function(i){i.preventDefault();var n=m(this).index()*e.params.slidesPerGroup;e.params.loop&&(n+=e.loopedSlides),e.slideTo(n)}),S(e.pagination,{$el:n,el:n[0]}))}},destroy:function(){var e=this.params.pagination;if(e.el&&this.pagination.el&&this.pagination.$el&&0!==this.pagination.$el.length){var i=this.pagination.$el;i.removeClass(e.hiddenClass),i.removeClass(e.modifierClass+e.type),this.pagination.bullets&&this.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&i.off("click","."+e.bulletClass.replace(/ /g,"."))}}},W={setTranslate:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var i=e.scrollbar,n=e.rtlTranslate,r=e.progress,s=i.dragSize,a=i.trackSize,o=i.$dragEl,l=i.$el,u=e.params.scrollbar,c=s,h=(a-s)*r;n?(h=-h)>0?(c=s-h,h=0):-h+s>a&&(c=a+h):h<0?(c=s+h,h=0):h+s>a&&(c=a-h),e.isHorizontal()?(o.transform("translate3d("+h+"px, 0, 0)"),o[0].style.width=c+"px"):(o.transform("translate3d(0px, "+h+"px, 0)"),o[0].style.height=c+"px"),u.hide&&(clearTimeout(e.scrollbar.timeout),l[0].style.opacity=1,e.scrollbar.timeout=setTimeout(function(){l[0].style.opacity=0,l.transition(400)},1e3))}},setTransition:function(e){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(e)},updateSize:function(){if(this.params.scrollbar.el&&this.scrollbar.el){var e=this.scrollbar,i=e.$dragEl,n=e.$el;i[0].style.width="",i[0].style.height="";var r,s=this.isHorizontal()?n[0].offsetWidth:n[0].offsetHeight,a=this.size/this.virtualSize,o=a*(s/this.size);r="auto"===this.params.scrollbar.dragSize?s*a:parseInt(this.params.scrollbar.dragSize,10),this.isHorizontal()?i[0].style.width=r+"px":i[0].style.height=r+"px",n[0].style.display=a>=1?"none":"",this.params.scrollbar.hide&&(n[0].style.opacity=0),S(e,{trackSize:s,divider:a,moveDivider:o,dragSize:r}),e.$el[this.params.watchOverflow&&this.isLocked?"addClass":"removeClass"](this.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var i,n=this.scrollbar,r=this.rtlTranslate,s=n.$el,a=n.dragSize,o=n.trackSize,l=n.dragStartPos;i=Math.max(Math.min(i=(n.getPointerPosition(e)-s.offset()[this.isHorizontal()?"left":"top"]-(null!==l?l:a/2))/(o-a),1),0),r&&(i=1-i);var u=this.minTranslate()+(this.maxTranslate()-this.minTranslate())*i;this.updateProgress(u),this.setTranslate(u),this.updateActiveIndex(),this.updateSlidesClasses()},onDragStart:function(e){var i=this,n=i.params.scrollbar,r=i.scrollbar,s=i.$wrapperEl,a=r.$el,o=r.$dragEl;i.scrollbar.isTouched=!0,i.scrollbar.dragStartPos=e.target===o[0]||e.target===o?r.getPointerPosition(e)-e.target.getBoundingClientRect()[i.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),s.transition(100),o.transition(100),r.setDragPosition(e),clearTimeout(i.scrollbar.dragTimeout),a.transition(0),n.hide&&a.css("opacity",1),i.params.cssMode&&i.$wrapperEl.css("scroll-snap-type","none"),i.emit("scrollbarDragStart",e)},onDragMove:function(e){var i=this.scrollbar,n=this.$wrapperEl,r=i.$el,s=i.$dragEl;this.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,i.setDragPosition(e),n.transition(0),r.transition(0),s.transition(0),this.emit("scrollbarDragMove",e))},onDragEnd:function(e){var i=this,n=i.params.scrollbar,r=i.scrollbar,s=i.$wrapperEl,a=r.$el;i.scrollbar.isTouched&&(i.scrollbar.isTouched=!1,i.params.cssMode&&(i.$wrapperEl.css("scroll-snap-type",""),s.transition("")),n.hide&&(clearTimeout(i.scrollbar.dragTimeout),i.scrollbar.dragTimeout=_(function(){a.css("opacity",0),a.transition(400)},1e3)),i.emit("scrollbarDragEnd",e),n.snapOnRelease&&i.slideToClosest())},enableDraggable:function(){if(this.params.scrollbar.el){var e=s(),i=this.scrollbar,n=this.touchEventsTouch,r=this.touchEventsDesktop,a=this.params,o=this.support,l=i.$el[0],u=!(!o.passiveListener||!a.passiveListeners)&&{passive:!1,capture:!1},c=!(!o.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};l&&(o.touch?(l.addEventListener(n.start,this.scrollbar.onDragStart,u),l.addEventListener(n.move,this.scrollbar.onDragMove,u),l.addEventListener(n.end,this.scrollbar.onDragEnd,c)):(l.addEventListener(r.start,this.scrollbar.onDragStart,u),e.addEventListener(r.move,this.scrollbar.onDragMove,u),e.addEventListener(r.end,this.scrollbar.onDragEnd,c)))}},disableDraggable:function(){if(this.params.scrollbar.el){var e=s(),i=this.scrollbar,n=this.touchEventsTouch,r=this.touchEventsDesktop,a=this.params,o=this.support,l=i.$el[0],u=!(!o.passiveListener||!a.passiveListeners)&&{passive:!1,capture:!1},c=!(!o.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};l&&(o.touch?(l.removeEventListener(n.start,this.scrollbar.onDragStart,u),l.removeEventListener(n.move,this.scrollbar.onDragMove,u),l.removeEventListener(n.end,this.scrollbar.onDragEnd,c)):(l.removeEventListener(r.start,this.scrollbar.onDragStart,u),e.removeEventListener(r.move,this.scrollbar.onDragMove,u),e.removeEventListener(r.end,this.scrollbar.onDragEnd,c)))}},init:function(){if(this.params.scrollbar.el){var e=this.scrollbar,i=this.$el,n=this.params.scrollbar,r=m(n.el);this.params.uniqueNavElements&&"string"==typeof n.el&&r.length>1&&1===i.find(n.el).length&&(r=i.find(n.el));var s=r.find("."+this.params.scrollbar.dragClass);0===s.length&&(s=m('<div class="'+this.params.scrollbar.dragClass+'"></div>'),r.append(s)),S(e,{$el:r,el:r[0],$dragEl:s,dragEl:s[0]}),n.draggable&&e.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},X={setTransform:function(e,i){var n=this.rtl,r=m(e),s=n?-1:1,a=r.attr("data-swiper-parallax")||"0",o=r.attr("data-swiper-parallax-x"),l=r.attr("data-swiper-parallax-y"),u=r.attr("data-swiper-parallax-scale"),c=r.attr("data-swiper-parallax-opacity");o||l?(o=o||"0",l=l||"0"):this.isHorizontal()?(o=a,l="0"):(l=a,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*i*s+"%":o*i*s+"px",l=l.indexOf("%")>=0?parseInt(l,10)*i+"%":l*i+"px",null!=c&&(r[0].style.opacity=c-(c-1)*(1-Math.abs(i))),null==u?r.transform("translate3d("+o+", "+l+", 0px)"):r.transform("translate3d("+o+", "+l+", 0px) scale("+(u-(u-1)*(1-Math.abs(i)))+")")},setTranslate:function(){var e=this,i=e.$el,n=e.slides,r=e.progress,s=e.snapGrid;i.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(i){e.parallax.setTransform(i,r)}),n.each(function(i,n){var a=i.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(a+=Math.ceil(n/2)-r*(s.length-1)),a=Math.min(Math.max(a,-1),1),m(i).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(i){e.parallax.setTransform(i,a)})})},setTransition:function(e){void 0===e&&(e=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(function(i){var n=m(i),r=parseInt(n.attr("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),n.transition(r)})}},j={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var i,n=e.targetTouches[0].pageX,r=e.targetTouches[0].pageY;return Math.sqrt(Math.pow(e.targetTouches[1].pageX-n,2)+Math.pow(e.targetTouches[1].pageY-r,2))},onGestureStart:function(e){var i=this,n=i.support,r=i.params.zoom,s=i.zoom,a=s.gesture;if(s.fakeGestureTouched=!1,s.fakeGestureMoved=!1,!n.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;s.fakeGestureTouched=!0,a.scaleStart=j.getDistanceBetweenTouches(e)}a.$slideEl&&a.$slideEl.length||(a.$slideEl=m(e.target).closest("."+i.params.slideClass),0===a.$slideEl.length&&(a.$slideEl=i.slides.eq(i.activeIndex)),a.$imageEl=a.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),a.$imageWrapEl=a.$imageEl.parent("."+r.containerClass),a.maxRatio=a.$imageWrapEl.attr("data-swiper-zoom")||r.maxRatio,0!==a.$imageWrapEl.length)?(a.$imageEl&&a.$imageEl.transition(0),i.zoom.isScaling=!0):a.$imageEl=void 0},onGestureChange:function(e){var i=this.support,n=this.params.zoom,r=this.zoom,s=r.gesture;if(!i.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;r.fakeGestureMoved=!0,s.scaleMove=j.getDistanceBetweenTouches(e)}s.$imageEl&&0!==s.$imageEl.length?(i.gestures?r.scale=e.scale*r.currentScale:r.scale=s.scaleMove/s.scaleStart*r.currentScale,r.scale>s.maxRatio&&(r.scale=s.maxRatio-1+Math.pow(r.scale-s.maxRatio+1,.5)),r.scale<n.minRatio&&(r.scale=n.minRatio+1-Math.pow(n.minRatio-r.scale+1,.5)),s.$imageEl.transform("translate3d(0,0,0) scale("+r.scale+")")):"gesturechange"===e.type&&r.onGestureStart(e)},onGestureEnd:function(e){var i=this.device,n=this.support,r=this.params.zoom,s=this.zoom,a=s.gesture;if(!n.gestures){if(!s.fakeGestureTouched||!s.fakeGestureMoved||"touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!i.android)return;s.fakeGestureTouched=!1,s.fakeGestureMoved=!1}a.$imageEl&&0!==a.$imageEl.length&&(s.scale=Math.max(Math.min(s.scale,a.maxRatio),r.minRatio),a.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+s.scale+")"),s.currentScale=s.scale,s.isScaling=!1,1===s.scale&&(a.$slideEl=void 0))},onTouchStart:function(e){var i=this.device,n=this.zoom,r=n.gesture,s=n.image;r.$imageEl&&0!==r.$imageEl.length&&(s.isTouched||(i.android&&e.cancelable&&e.preventDefault(),s.isTouched=!0,s.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var i=this,n=i.zoom,r=n.gesture,s=n.image,a=n.velocity;if(r.$imageEl&&0!==r.$imageEl.length&&(i.allowClick=!1,s.isTouched&&r.$slideEl)){s.isMoved||(s.width=r.$imageEl[0].offsetWidth,s.height=r.$imageEl[0].offsetHeight,s.startX=b(r.$imageWrapEl[0],"x")||0,s.startY=b(r.$imageWrapEl[0],"y")||0,r.slideWidth=r.$slideEl[0].offsetWidth,r.slideHeight=r.$slideEl[0].offsetHeight,r.$imageWrapEl.transition(0),i.rtl&&(s.startX=-s.startX,s.startY=-s.startY));var o=s.width*n.scale,l=s.height*n.scale;if(!(o<r.slideWidth&&l<r.slideHeight)){if(s.minX=Math.min(r.slideWidth/2-o/2,0),s.maxX=-s.minX,s.minY=Math.min(r.slideHeight/2-l/2,0),s.maxY=-s.minY,s.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,s.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!s.isMoved&&!n.isScaling&&(i.isHorizontal()&&(Math.floor(s.minX)===Math.floor(s.startX)&&s.touchesCurrent.x<s.touchesStart.x||Math.floor(s.maxX)===Math.floor(s.startX)&&s.touchesCurrent.x>s.touchesStart.x)||!i.isHorizontal()&&(Math.floor(s.minY)===Math.floor(s.startY)&&s.touchesCurrent.y<s.touchesStart.y||Math.floor(s.maxY)===Math.floor(s.startY)&&s.touchesCurrent.y>s.touchesStart.y)))return void(s.isTouched=!1);e.cancelable&&e.preventDefault(),e.stopPropagation(),s.isMoved=!0,s.currentX=s.touchesCurrent.x-s.touchesStart.x+s.startX,s.currentY=s.touchesCurrent.y-s.touchesStart.y+s.startY,s.currentX<s.minX&&(s.currentX=s.minX+1-Math.pow(s.minX-s.currentX+1,.8)),s.currentX>s.maxX&&(s.currentX=s.maxX-1+Math.pow(s.currentX-s.maxX+1,.8)),s.currentY<s.minY&&(s.currentY=s.minY+1-Math.pow(s.minY-s.currentY+1,.8)),s.currentY>s.maxY&&(s.currentY=s.maxY-1+Math.pow(s.currentY-s.maxY+1,.8)),a.prevPositionX||(a.prevPositionX=s.touchesCurrent.x),a.prevPositionY||(a.prevPositionY=s.touchesCurrent.y),a.prevTime||(a.prevTime=Date.now()),a.x=(s.touchesCurrent.x-a.prevPositionX)/(Date.now()-a.prevTime)/2,a.y=(s.touchesCurrent.y-a.prevPositionY)/(Date.now()-a.prevTime)/2,2>Math.abs(s.touchesCurrent.x-a.prevPositionX)&&(a.x=0),2>Math.abs(s.touchesCurrent.y-a.prevPositionY)&&(a.y=0),a.prevPositionX=s.touchesCurrent.x,a.prevPositionY=s.touchesCurrent.y,a.prevTime=Date.now(),r.$imageWrapEl.transform("translate3d("+s.currentX+"px, "+s.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,i=e.gesture,n=e.image,r=e.velocity;if(i.$imageEl&&0!==i.$imageEl.length){if(!n.isTouched||!n.isMoved)return n.isTouched=!1,void(n.isMoved=!1);n.isTouched=!1,n.isMoved=!1;var s=300,a=300,o=r.x*s,l=n.currentX+o,u=r.y*a,c=n.currentY+u;0!==r.x&&(s=Math.abs((l-n.currentX)/r.x)),0!==r.y&&(a=Math.abs((c-n.currentY)/r.y));var h=Math.max(s,a);n.currentX=l,n.currentY=c;var d=n.width*e.scale,p=n.height*e.scale;n.minX=Math.min(i.slideWidth/2-d/2,0),n.maxX=-n.minX,n.minY=Math.min(i.slideHeight/2-p/2,0),n.maxY=-n.minY,n.currentX=Math.max(Math.min(n.currentX,n.maxX),n.minX),n.currentY=Math.max(Math.min(n.currentY,n.maxY),n.minY),i.$imageWrapEl.transition(h).transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}},onTransitionEnd:function(){var e=this.zoom,i=e.gesture;i.$slideEl&&this.previousIndex!==this.activeIndex&&(i.$imageEl&&i.$imageEl.transform("translate3d(0,0,0) scale(1)"),i.$imageWrapEl&&i.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,e.currentScale=1,i.$slideEl=void 0,i.$imageEl=void 0,i.$imageWrapEl=void 0)},toggle:function(e){var i=this.zoom;i.scale&&1!==i.scale?i.out():i.in(e)},in:function(e){var i,n,r,s,a,l,u,c,h,d,p,f,m,g,$,v,y=o(),_=this.zoom,x=this.params.zoom,b=_.gesture,w=_.image;b.$slideEl||(this.params.virtual&&this.params.virtual.enabled&&this.virtual?b.$slideEl=this.$wrapperEl.children("."+this.params.slideActiveClass):b.$slideEl=this.slides.eq(this.activeIndex),b.$imageEl=b.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),b.$imageWrapEl=b.$imageEl.parent("."+x.containerClass)),b.$imageEl&&0!==b.$imageEl.length&&(b.$slideEl.addClass(""+x.zoomedSlideClass),void 0===w.touchesStart.x&&e?(i="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,n="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(i=w.touchesStart.x,n=w.touchesStart.y),_.scale=b.$imageWrapEl.attr("data-swiper-zoom")||x.maxRatio,_.currentScale=b.$imageWrapEl.attr("data-swiper-zoom")||x.maxRatio,e?($=b.$slideEl[0].offsetWidth,v=b.$slideEl[0].offsetHeight,r=b.$slideEl.offset().left+y.scrollX+$/2-i,s=b.$slideEl.offset().top+y.scrollY+v/2-n,u=b.$imageEl[0].offsetWidth,c=b.$imageEl[0].offsetHeight,h=u*_.scale,d=c*_.scale,m=-(p=Math.min($/2-h/2,0)),g=-(f=Math.min(v/2-d/2,0)),(a=r*_.scale)<p&&(a=p),a>m&&(a=m),(l=s*_.scale)<f&&(l=f),l>g&&(l=g)):(a=0,l=0),b.$imageWrapEl.transition(300).transform("translate3d("+a+"px, "+l+"px,0)"),b.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+_.scale+")"))},out:function(){var e=this.zoom,i=this.params.zoom,n=e.gesture;n.$slideEl||(this.params.virtual&&this.params.virtual.enabled&&this.virtual?n.$slideEl=this.$wrapperEl.children("."+this.params.slideActiveClass):n.$slideEl=this.slides.eq(this.activeIndex),n.$imageEl=n.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),n.$imageWrapEl=n.$imageEl.parent("."+i.containerClass)),n.$imageEl&&0!==n.$imageEl.length&&(e.scale=1,e.currentScale=1,n.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),n.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),n.$slideEl.removeClass(""+i.zoomedSlideClass),n.$slideEl=void 0)},toggleGestures:function(e){var i=this.zoom,n=i.slideSelector,r=i.passiveListener;this.$wrapperEl[e]("gesturestart",n,i.onGestureStart,r),this.$wrapperEl[e]("gesturechange",n,i.onGestureChange,r),this.$wrapperEl[e]("gestureend",n,i.onGestureEnd,r)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures("on"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures("off"))},enable:function(){var e=this,i=e.support,n=e.zoom;if(!n.enabled){n.enabled=!0;var r=!("touchstart"!==e.touchEvents.start||!i.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},s=!i.passiveListener||{passive:!1,capture:!0},a="."+e.params.slideClass;e.zoom.passiveListener=r,e.zoom.slideSelector=a,i.gestures?(e.$wrapperEl.on(e.touchEvents.start,e.zoom.enableGestures,r),e.$wrapperEl.on(e.touchEvents.end,e.zoom.disableGestures,r)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,a,n.onGestureStart,r),e.$wrapperEl.on(e.touchEvents.move,a,n.onGestureChange,s),e.$wrapperEl.on(e.touchEvents.end,a,n.onGestureEnd,r),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,a,n.onGestureEnd,r)),e.$wrapperEl.on(e.touchEvents.move,"."+e.params.zoom.containerClass,n.onTouchMove,s)}},disable:function(){var e=this,i=e.zoom;if(i.enabled){var n=e.support;e.zoom.enabled=!1;var r=!("touchstart"!==e.touchEvents.start||!n.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},s=!n.passiveListener||{passive:!1,capture:!0},a="."+e.params.slideClass;n.gestures?(e.$wrapperEl.off(e.touchEvents.start,e.zoom.enableGestures,r),e.$wrapperEl.off(e.touchEvents.end,e.zoom.disableGestures,r)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,a,i.onGestureStart,r),e.$wrapperEl.off(e.touchEvents.move,a,i.onGestureChange,s),e.$wrapperEl.off(e.touchEvents.end,a,i.onGestureEnd,r),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,a,i.onGestureEnd,r)),e.$wrapperEl.off(e.touchEvents.move,"."+e.params.zoom.containerClass,i.onTouchMove,s)}}},q={loadInSlide:function(e,i){void 0===i&&(i=!0);var n=this,r=n.params.lazy;if(void 0!==e&&0!==n.slides.length){var s=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children("."+n.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):n.slides.eq(e),a=s.find("."+r.elementClass+":not(."+r.loadedClass+"):not(."+r.loadingClass+")");!s.hasClass(r.elementClass)||s.hasClass(r.loadedClass)||s.hasClass(r.loadingClass)||a.push(s[0]),0!==a.length&&a.each(function(e){var a=m(e);a.addClass(r.loadingClass);var o=a.attr("data-background"),l=a.attr("data-src"),u=a.attr("data-srcset"),c=a.attr("data-sizes"),h=a.parent("picture");n.loadImage(a[0],l||o,u,c,!1,function(){if(null!=n&&n&&(!n||n.params)&&!n.destroyed){if(o?(a.css("background-image",'url("'+o+'")'),a.removeAttr("data-background")):(u&&(a.attr("srcset",u),a.removeAttr("data-srcset")),c&&(a.attr("sizes",c),a.removeAttr("data-sizes")),h.length&&h.children("source").each(function(e){var i=m(e);i.attr("data-srcset")&&(i.attr("srcset",i.attr("data-srcset")),i.removeAttr("data-srcset"))}),l&&(a.attr("src",l),a.removeAttr("data-src"))),a.addClass(r.loadedClass).removeClass(r.loadingClass),s.find("."+r.preloaderClass).remove(),n.params.loop&&i){var e=s.attr("data-swiper-slide-index");if(s.hasClass(n.params.slideDuplicateClass)){var d=n.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+n.params.slideDuplicateClass+")");n.lazy.loadInSlide(d.index(),!1)}else{var p=n.$wrapperEl.children("."+n.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');n.lazy.loadInSlide(p.index(),!1)}}n.emit("lazyImageReady",s[0],a[0]),n.params.autoHeight&&n.updateAutoHeight()}}),n.emit("lazyImageLoad",s[0],a[0])})}},load:function(){var e=this,i=e.$wrapperEl,n=e.params,r=e.slides,s=e.activeIndex,a=e.virtual&&n.virtual.enabled,o=n.lazy,l=n.slidesPerView;function u(e){if(a){if(i.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(r[e])return!0;return!1}function c(e){return a?m(e).attr("data-swiper-slide-index"):m(e).index()}if("auto"===l&&(l=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)i.children("."+n.slideVisibleClass).each(function(i){var n=a?m(i).attr("data-swiper-slide-index"):m(i).index();e.lazy.loadInSlide(n)});else if(l>1)for(var h=s;h<s+l;h+=1)u(h)&&e.lazy.loadInSlide(h);else e.lazy.loadInSlide(s);if(o.loadPrevNext){if(l>1||o.loadPrevNextAmount&&o.loadPrevNextAmount>1){for(var d=o.loadPrevNextAmount,p=l,f=Math.min(s+p+Math.max(d,p),r.length),g=Math.max(s-Math.max(p,d),0),$=s+l;$<f;$+=1)u($)&&e.lazy.loadInSlide($);for(var v=g;v<s;v+=1)u(v)&&e.lazy.loadInSlide(v)}else{var y=i.children("."+n.slideNextClass);y.length>0&&e.lazy.loadInSlide(c(y));var _=i.children("."+n.slidePrevClass);_.length>0&&e.lazy.loadInSlide(c(_))}}},checkInViewOnLoad:function(){var e=o(),i=this;if(i&&!i.destroyed){var n=i.params.lazy.scrollingElement?m(i.params.lazy.scrollingElement):m(e),r=n[0]===e,s=r?e.innerWidth:n[0].offsetWidth,a=r?e.innerHeight:n[0].offsetHeight,l=i.$el.offset(),u=!1;i.rtlTranslate&&(l.left-=i.$el[0].scrollLeft);for(var c=[[l.left,l.top],[l.left+i.width,l.top],[l.left,l.top+i.height],[l.left+i.width,l.top+i.height]],h=0;h<c.length;h+=1){var d=c[h];if(d[0]>=0&&d[0]<=s&&d[1]>=0&&d[1]<=a){if(0===d[0]&&0===d[1])continue;u=!0}}u?(i.lazy.load(),n.off("scroll",i.lazy.checkInViewOnLoad)):i.lazy.scrollHandlerAttached||(i.lazy.scrollHandlerAttached=!0,n.on("scroll",i.lazy.checkInViewOnLoad))}}},Y={LinearSpline:function(e,i){var n,r,s,a,o,l=function(e,i){for(r=-1,n=e.length;n-r>1;)e[s=n+r>>1]<=i?r=s:n=s;return n};return this.x=e,this.y=i,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(a=(o=l(this.x,e))-1,(e-this.x[a])*(this.y[o]-this.y[a])/(this.x[o]-this.x[a])+this.y[a]):0},this},getInterpolateFunction:function(e){var i=this;i.controller.spline||(i.controller.spline=i.params.loop?new Y.LinearSpline(i.slidesGrid,e.slidesGrid):new Y.LinearSpline(i.snapGrid,e.snapGrid))},setTranslate:function(e,i){var n,r,s=this,a=s.controller.control,o=s.constructor;function l(e){var i=s.rtlTranslate?-s.translate:s.translate;"slide"===s.params.controller.by&&(s.controller.getInterpolateFunction(e),r=-s.controller.spline.interpolate(-i)),r&&"container"!==s.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(s.maxTranslate()-s.minTranslate()),r=(i-s.minTranslate())*n+e.minTranslate()),s.params.controller.inverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setTranslate(r,s),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(a))for(var u=0;u<a.length;u+=1)a[u]!==i&&a[u]instanceof o&&l(a[u]);else a instanceof o&&i!==a&&l(a)},setTransition:function(e,i){var n,r=this,s=r.constructor,a=r.controller.control;function o(i){i.setTransition(e,r),0!==e&&(i.transitionStart(),i.params.autoHeight&&_(function(){i.updateAutoHeight()}),i.$wrapperEl.transitionEnd(function(){a&&(i.params.loop&&"slide"===r.params.controller.by&&i.loopFix(),i.transitionEnd())}))}if(Array.isArray(a))for(n=0;n<a.length;n+=1)a[n]!==i&&a[n]instanceof s&&o(a[n]);else a instanceof s&&i!==a&&o(a)}},Z={getRandomNumber:function(e){return void 0===e&&(e=16),"x".repeat(e).replace(/x/g,function(){return Math.round(16*Math.random()).toString(16)})},makeElFocusable:function(e){return e.attr("tabIndex","0"),e},makeElNotFocusable:function(e){return e.attr("tabIndex","-1"),e},addElRole:function(e,i){return e.attr("role",i),e},addElRoleDescription:function(e,i){return e.attr("aria-role-description",i),e},addElControls:function(e,i){return e.attr("aria-controls",i),e},addElLabel:function(e,i){return e.attr("aria-label",i),e},addElId:function(e,i){return e.attr("id",i),e},addElLive:function(e,i){return e.attr("aria-live",i),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterOrSpaceKey:function(e){if(13===e.keyCode||32===e.keyCode){var i=this.params.a11y,n=m(e.target);this.navigation&&this.navigation.$nextEl&&n.is(this.navigation.$nextEl)&&(this.isEnd&&!this.params.loop||this.slideNext(),this.isEnd?this.a11y.notify(i.lastSlideMessage):this.a11y.notify(i.nextSlideMessage)),this.navigation&&this.navigation.$prevEl&&n.is(this.navigation.$prevEl)&&(this.isBeginning&&!this.params.loop||this.slidePrev(),this.isBeginning?this.a11y.notify(i.firstSlideMessage):this.a11y.notify(i.prevSlideMessage)),this.pagination&&n.is("."+this.params.pagination.bulletClass.replace(/ /g,"."))&&n[0].click()}},notify:function(e){var i=this.a11y.liveRegion;0!==i.length&&(i.html(""),i.html(e))},updateNavigation:function(){if(!this.params.loop&&this.navigation){var e=this.navigation,i=e.$nextEl,n=e.$prevEl;n&&n.length>0&&(this.isBeginning?(this.a11y.disableEl(n),this.a11y.makeElNotFocusable(n)):(this.a11y.enableEl(n),this.a11y.makeElFocusable(n))),i&&i.length>0&&(this.isEnd?(this.a11y.disableEl(i),this.a11y.makeElNotFocusable(i)):(this.a11y.enableEl(i),this.a11y.makeElFocusable(i)))}},updatePagination:function(){var e=this,i=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each(function(n){var r=m(n);e.a11y.makeElFocusable(r),e.params.pagination.renderBullet||(e.a11y.addElRole(r,"button"),e.a11y.addElLabel(r,i.paginationBulletMessage.replace(/\{\{index\}\}/,r.index()+1)))})},init:function(){var e=this,i=e.params.a11y;e.$el.append(e.a11y.liveRegion);var n=e.$el;i.containerRoleDescriptionMessage&&e.a11y.addElRoleDescription(n,i.containerRoleDescriptionMessage),i.containerMessage&&e.a11y.addElLabel(n,i.containerMessage);var r,s,a,o=e.$wrapperEl,l=o.attr("id")||"swiper-wrapper-"+e.a11y.getRandomNumber(16);e.a11y.addElId(o,l),r=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite",e.a11y.addElLive(o,r),i.itemRoleDescriptionMessage&&e.a11y.addElRoleDescription(m(e.slides),i.itemRoleDescriptionMessage),e.a11y.addElRole(m(e.slides),"group"),e.slides.each(function(i){var n=m(i);e.a11y.addElLabel(n,n.index()+1+" / "+e.slides.length)}),e.navigation&&e.navigation.$nextEl&&(s=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(a=e.navigation.$prevEl),s&&s.length&&(e.a11y.makeElFocusable(s),"BUTTON"!==s[0].tagName&&(e.a11y.addElRole(s,"button"),s.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(s,i.nextSlideMessage),e.a11y.addElControls(s,l)),a&&a.length&&(e.a11y.makeElFocusable(a),"BUTTON"!==a[0].tagName&&(e.a11y.addElRole(a,"button"),a.on("keydown",e.a11y.onEnterOrSpaceKey)),e.a11y.addElLabel(a,i.prevSlideMessage),e.a11y.addElControls(a,l)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown","."+e.params.pagination.bulletClass.replace(/ /g,"."),e.a11y.onEnterOrSpaceKey)},destroy:function(){var e,i;this.a11y.liveRegion&&this.a11y.liveRegion.length>0&&this.a11y.liveRegion.remove(),this.navigation&&this.navigation.$nextEl&&(e=this.navigation.$nextEl),this.navigation&&this.navigation.$prevEl&&(i=this.navigation.$prevEl),e&&e.off("keydown",this.a11y.onEnterOrSpaceKey),i&&i.off("keydown",this.a11y.onEnterOrSpaceKey),this.pagination&&this.params.pagination.clickable&&this.pagination.bullets&&this.pagination.bullets.length&&this.pagination.$el.off("keydown","."+this.params.pagination.bulletClass.replace(/ /g,"."),this.a11y.onEnterOrSpaceKey)}},K={init:function(){var e=this,i=o();if(e.params.history){if(!i.history||!i.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var n=e.history;n.initialized=!0,n.paths=K.getPathValues(e.params.url),(n.paths.key||n.paths.value)&&(n.scrollToSlide(0,n.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||i.addEventListener("popstate",e.history.setHistoryPopState))}},destroy:function(){var e=o();this.params.history.replaceState||e.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){var e=this;e.history.paths=K.getPathValues(e.params.url),e.history.scrollToSlide(e.params.speed,e.history.paths.value,!1)},getPathValues:function(e){var i=o(),n=(e?new URL(e):i.location).pathname.slice(1).split("/").filter(function(e){return""!==e}),r=n.length;return{key:n[r-2],value:n[r-1]}},setHistory:function(e,i){var n=o();if(this.history.initialized&&this.params.history.enabled){r=this.params.url?new URL(this.params.url):n.location;var r,s=this.slides.eq(i),a=K.slugify(s.attr("data-history"));r.pathname.includes(e)||(a=e+"/"+a);var l=n.history.state;l&&l.value===a||(this.params.history.replaceState?n.history.replaceState({value:a},null,a):n.history.pushState({value:a},null,a))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,i,n){if(i)for(var r=0,s=this.slides.length;r<s;r+=1){var a=this.slides.eq(r);if(K.slugify(a.attr("data-history"))===i&&!a.hasClass(this.params.slideDuplicateClass)){var o=a.index();this.slideTo(o,e,n)}}else this.slideTo(0,e,n)}},J={onHashCange:function(){var e=s();this.emit("hashChange");var i=e.location.hash.replace("#","");if(i!==this.slides.eq(this.activeIndex).attr("data-hash")){var n=this.$wrapperEl.children("."+this.params.slideClass+'[data-hash="'+i+'"]').index();if(void 0===n)return;this.slideTo(n)}},setHash:function(){var e=o(),i=s();if(this.hashNavigation.initialized&&this.params.hashNavigation.enabled){if(this.params.hashNavigation.replaceState&&e.history&&e.history.replaceState)e.history.replaceState(null,null,"#"+this.slides.eq(this.activeIndex).attr("data-hash")),this.emit("hashSet");else{var n=this.slides.eq(this.activeIndex),r=n.attr("data-hash")||n.attr("data-history");i.location.hash=r||"",this.emit("hashSet")}}},init:function(){var e=this,i=s(),n=o();if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var r=i.location.hash.replace("#","");if(r)for(var a=0,l=e.slides.length;a<l;a+=1){var u=e.slides.eq(a);if((u.attr("data-hash")||u.attr("data-history"))===r&&!u.hasClass(e.params.slideDuplicateClass)){var c=u.index();e.slideTo(c,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&m(n).on("hashchange",e.hashNavigation.onHashCange)}},destroy:function(){var e=o();this.params.hashNavigation.watchState&&m(e).off("hashchange",this.hashNavigation.onHashCange)}},Q={run:function(){var e=this,i=e.slides.eq(e.activeIndex),n=e.params.autoplay.delay;i.attr("data-swiper-autoplay")&&(n=i.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=_(function(){var i;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),i=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(i=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(i=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),i=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(i=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(i=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===i)&&e.autoplay.run()},n)},start:function(){var e=this;return void 0===e.autoplay.timeout&&!e.autoplay.running&&(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),!0)},stop:function(){var e=this;return!!e.autoplay.running&&void 0!==e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),!0)},pause:function(e){var i=this;i.autoplay.running&&(i.autoplay.paused||(i.autoplay.timeout&&clearTimeout(i.autoplay.timeout),i.autoplay.paused=!0,0!==e&&i.params.autoplay.waitForTransition?(i.$wrapperEl[0].addEventListener("transitionend",i.autoplay.onTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.autoplay.onTransitionEnd)):(i.autoplay.paused=!1,i.autoplay.run())))},onVisibilityChange:function(){var e=this,i=s();"hidden"===i.visibilityState&&e.autoplay.running&&e.autoplay.pause(),"visible"===i.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(e){var i=this;i&&!i.destroyed&&i.$wrapperEl&&e.target===i.$wrapperEl[0]&&(i.$wrapperEl[0].removeEventListener("transitionend",i.autoplay.onTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.autoplay.onTransitionEnd),i.autoplay.paused=!1,i.autoplay.running?i.autoplay.run():i.autoplay.stop())}},ee={setTranslate:function(){for(var e=this.slides,i=0;i<e.length;i+=1){var n=this.slides.eq(i),r=-n[0].swiperSlideOffset;this.params.virtualTranslate||(r-=this.translate);var s=0;this.isHorizontal()||(s=r,r=0);var a=this.params.fadeEffect.crossFade?Math.max(1-Math.abs(n[0].progress),0):1+Math.min(Math.max(n[0].progress,-1),0);n.css({opacity:a}).transform("translate3d("+r+"px, "+s+"px, 0px)")}},setTransition:function(e){var i=this,n=i.slides,r=i.$wrapperEl;if(n.transition(e),i.params.virtualTranslate&&0!==e){var s=!1;n.transitionEnd(function(){if(!s&&i&&!i.destroyed){s=!0,i.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)r.trigger(e[n])}})}}},et={setTranslate:function(){var e,i=this.$el,n=this.$wrapperEl,r=this.slides,s=this.width,a=this.height,o=this.rtlTranslate,l=this.size,u=this.browser,c=this.params.cubeEffect,h=this.isHorizontal(),d=this.virtual&&this.params.virtual.enabled,p=0;c.shadow&&(h?(0===(e=n.find(".swiper-cube-shadow")).length&&(e=m('<div class="swiper-cube-shadow"></div>'),n.append(e)),e.css({height:s+"px"})):0===(e=i.find(".swiper-cube-shadow")).length&&(e=m('<div class="swiper-cube-shadow"></div>'),i.append(e)));for(var f=0;f<r.length;f+=1){var g=r.eq(f),$=f;d&&($=parseInt(g.attr("data-swiper-slide-index"),10));var v=90*$,y=Math.floor(v/360);o&&(y=Math.floor(-(v=-v)/360));var _=Math.max(Math.min(g[0].progress,1),-1),x=0,b=0,w=0;$%4==0?(x=-(4*y)*l,w=0):($-1)%4==0?(x=0,w=-(4*y)*l):($-2)%4==0?(x=l+4*y*l,w=l):($-3)%4==0&&(x=-l,w=3*l+4*l*y),o&&(x=-x),h||(b=x,x=0);var S="rotateX("+(h?0:-v)+"deg) rotateY("+(h?v:0)+"deg) translate3d("+x+"px, "+b+"px, "+w+"px)";if(_<=1&&_>-1&&(p=90*$+90*_,o&&(p=-(90*$)-90*_)),g.transform(S),c.slideShadows){var E=h?g.find(".swiper-slide-shadow-left"):g.find(".swiper-slide-shadow-top"),T=h?g.find(".swiper-slide-shadow-right"):g.find(".swiper-slide-shadow-bottom");0===E.length&&(E=m('<div class="swiper-slide-shadow-'+(h?"left":"top")+'"></div>'),g.append(E)),0===T.length&&(T=m('<div class="swiper-slide-shadow-'+(h?"right":"bottom")+'"></div>'),g.append(T)),E.length&&(E[0].style.opacity=Math.max(-_,0)),T.length&&(T[0].style.opacity=Math.max(_,0))}}if(n.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),c.shadow){if(h)e.transform("translate3d(0px, "+(s/2+c.shadowOffset)+"px, "+-s/2+"px) rotateX(90deg) rotateZ(0deg) scale("+c.shadowScale+")");else{var M=Math.abs(p)-90*Math.floor(Math.abs(p)/90),C=c.shadowScale,D=c.shadowScale/(1.5-(Math.sin(2*M*Math.PI/360)/2+Math.cos(2*M*Math.PI/360)/2)),A=c.shadowOffset;e.transform("scale3d("+C+", 1, "+D+") translate3d(0px, "+(a/2+A)+"px, "+-a/2/D+"px) rotateX(-90deg)")}}var P=u.isSafari||u.isWebView?-l/2:0;n.transform("translate3d(0px,0,"+P+"px) rotateX("+(this.isHorizontal()?0:p)+"deg) rotateY("+(this.isHorizontal()?-p:0)+"deg)")},setTransition:function(e){var i=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&i.find(".swiper-cube-shadow").transition(e)}},ei={setTranslate:function(){for(var e=this.slides,i=this.rtlTranslate,n=0;n<e.length;n+=1){var r=e.eq(n),s=r[0].progress;this.params.flipEffect.limitRotation&&(s=Math.max(Math.min(r[0].progress,1),-1));var a=-180*s,o=0,l=-r[0].swiperSlideOffset,u=0;if(this.isHorizontal()?i&&(a=-a):(u=l,l=0,o=-a,a=0),r[0].style.zIndex=-Math.abs(Math.round(s))+e.length,this.params.flipEffect.slideShadows){var c=this.isHorizontal()?r.find(".swiper-slide-shadow-left"):r.find(".swiper-slide-shadow-top"),h=this.isHorizontal()?r.find(".swiper-slide-shadow-right"):r.find(".swiper-slide-shadow-bottom");0===c.length&&(c=m('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"left":"top")+'"></div>'),r.append(c)),0===h.length&&(h=m('<div class="swiper-slide-shadow-'+(this.isHorizontal()?"right":"bottom")+'"></div>'),r.append(h)),c.length&&(c[0].style.opacity=Math.max(-s,0)),h.length&&(h[0].style.opacity=Math.max(s,0))}r.transform("translate3d("+l+"px, "+u+"px, 0px) rotateX("+o+"deg) rotateY("+a+"deg)")}},setTransition:function(e){var i=this,n=i.slides,r=i.activeIndex,s=i.$wrapperEl;if(n.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),i.params.virtualTranslate&&0!==e){var a=!1;n.eq(r).transitionEnd(function(){if(!a&&i&&!i.destroyed){a=!0,i.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)s.trigger(e[n])}})}}},en={setTranslate:function(){for(var e=this.width,i=this.height,n=this.slides,r=this.slidesSizesGrid,s=this.params.coverflowEffect,a=this.isHorizontal(),o=this.translate,l=a?e/2-o:i/2-o,u=a?s.rotate:-s.rotate,c=s.depth,h=0,d=n.length;h<d;h+=1){var p=n.eq(h),f=r[h],g=(l-p[0].swiperSlideOffset-f/2)/f*s.modifier,$=a?u*g:0,v=a?0:u*g,y=-c*Math.abs(g),_=s.stretch;"string"==typeof _&&-1!==_.indexOf("%")&&(_=parseFloat(s.stretch)/100*f);var x=a?0:_*g,b=a?_*g:0,w=1-(1-s.scale)*Math.abs(g);.001>Math.abs(b)&&(b=0),.001>Math.abs(x)&&(x=0),.001>Math.abs(y)&&(y=0),.001>Math.abs($)&&($=0),.001>Math.abs(v)&&(v=0),.001>Math.abs(w)&&(w=0);var S="translate3d("+b+"px,"+x+"px,"+y+"px)  rotateX("+v+"deg) rotateY("+$+"deg) scale("+w+")";if(p.transform(S),p[0].style.zIndex=1-Math.abs(Math.round(g)),s.slideShadows){var E=a?p.find(".swiper-slide-shadow-left"):p.find(".swiper-slide-shadow-top"),T=a?p.find(".swiper-slide-shadow-right"):p.find(".swiper-slide-shadow-bottom");0===E.length&&(E=m('<div class="swiper-slide-shadow-'+(a?"left":"top")+'"></div>'),p.append(E)),0===T.length&&(T=m('<div class="swiper-slide-shadow-'+(a?"right":"bottom")+'"></div>'),p.append(T)),E.length&&(E[0].style.opacity=g>0?g:0),T.length&&(T[0].style.opacity=-g>0?-g:0)}}},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},er={init:function(){var e=this,i=e.params.thumbs;if(e.thumbs.initialized)return!1;e.thumbs.initialized=!0;var n=e.constructor;return i.swiper instanceof n?(e.thumbs.swiper=i.swiper,S(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),S(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):w(i.swiper)&&(e.thumbs.swiper=new n(S({},i.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this,i=e.thumbs.swiper;if(i){var n,r=i.clickedIndex,s=i.clickedSlide;if(!(s&&m(s).hasClass(e.params.thumbs.slideThumbActiveClass)||null==r)){if(n=i.params.loop?parseInt(m(i.clickedSlide).attr("data-swiper-slide-index"),10):r,e.params.loop){var a=e.activeIndex;e.slides.eq(a).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,a=e.activeIndex);var o=e.slides.eq(a).prevAll('[data-swiper-slide-index="'+n+'"]').eq(0).index(),l=e.slides.eq(a).nextAll('[data-swiper-slide-index="'+n+'"]').eq(0).index();n=void 0===o?l:void 0===l?o:l-a<a-o?l:o}e.slideTo(n)}}},update:function(e){var i=this.thumbs.swiper;if(i){var n="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView,r=this.params.thumbs.autoScrollOffset,s=r&&!i.params.loop;if(this.realIndex!==i.realIndex||s){var a,o,l=i.activeIndex;if(i.params.loop){i.slides.eq(l).hasClass(i.params.slideDuplicateClass)&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,l=i.activeIndex);var u=i.slides.eq(l).prevAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index(),c=i.slides.eq(l).nextAll('[data-swiper-slide-index="'+this.realIndex+'"]').eq(0).index();a=void 0===u?c:void 0===c?u:c-l==l-u?l:c-l<l-u?c:u,o=this.activeIndex>this.previousIndex?"next":"prev"}else o=(a=this.realIndex)>this.previousIndex?"next":"prev";s&&(a+="next"===o?r:-1*r),i.visibleSlidesIndexes&&0>i.visibleSlidesIndexes.indexOf(a)&&(i.params.centeredSlides?a=a>l?a-Math.floor(n/2)+1:a+Math.floor(n/2)-1:a>l&&(a=a-n+1),i.slideTo(a,e?0:void 0))}var h=1,d=this.params.thumbs.slideThumbActiveClass;if(this.params.slidesPerView>1&&!this.params.centeredSlides&&(h=this.params.slidesPerView),this.params.thumbs.multipleActiveThumbs||(h=1),h=Math.floor(h),i.slides.removeClass(d),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(var p=0;p<h;p+=1)i.$wrapperEl.children('[data-swiper-slide-index="'+(this.realIndex+p)+'"]').addClass(d);else for(var f=0;f<h;f+=1)i.slides.eq(this.realIndex+f).addClass(d)}}},es=[{name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){E(this,{virtual:e({},z,{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(e){if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var i={watchSlidesProgress:!0};S(e.params,i),S(e.originalParams,i),e.params.initialSlide||e.virtual.update()}},setTranslate:function(e){e.params.virtual.enabled&&e.virtual.update()}}},{name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){E(this,{keyboard:e({enabled:!1},B)})},on:{init:function(e){e.params.keyboard.enabled&&e.keyboard.enable()},destroy:function(e){e.keyboard.enabled&&e.keyboard.disable()}}},{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}},create:function(){E(this,{mousewheel:{enabled:!1,lastScrollTime:x(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:H.enable,disable:H.disable,handle:H.handle,handleMouseEnter:H.handleMouseEnter,handleMouseLeave:H.handleMouseLeave,animateSlider:H.animateSlider,releaseScroll:H.releaseScroll}})},on:{init:function(e){!e.params.mousewheel.enabled&&e.params.cssMode&&e.mousewheel.disable(),e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy:function(e){e.params.cssMode&&e.mousewheel.enable(),e.mousewheel.enabled&&e.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){E(this,{navigation:e({},G)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},click:function(e,i){var n,r=e.navigation,s=r.$nextEl,a=r.$prevEl,o=i.target;if(e.params.navigation.hideOnClick&&!m(o).is(a)&&!m(o).is(s)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===o||e.pagination.el.contains(o)))return;s?n=s.hasClass(e.params.navigation.hiddenClass):a&&(n=a.hasClass(e.params.navigation.hiddenClass)),!0===n?e.emit("navigationShow"):e.emit("navigationHide"),s&&s.toggleClass(e.params.navigation.hiddenClass),a&&a.toggleClass(e.params.navigation.hiddenClass)}}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){E(this,{pagination:e({dynamicBulletIndex:0},V)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){(e.params.loop||void 0===e.snapIndex)&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},click:function(e,i){var n=i.target;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!m(n).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&n===e.navigation.nextEl||e.navigation.prevEl&&n===e.navigation.prevEl))return;!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow"):e.emit("paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass)}}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){E(this,{scrollbar:e({isTouched:!1,timeout:null,dragTimeout:null},W)})},on:{init:function(e){e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update:function(e){e.scrollbar.updateSize()},resize:function(e){e.scrollbar.updateSize()},observerUpdate:function(e){e.scrollbar.updateSize()},setTranslate:function(e){e.scrollbar.setTranslate()},setTransition:function(e,i){e.scrollbar.setTransition(i)},destroy:function(e){e.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){E(this,{parallax:e({},X)})},on:{beforeInit:function(e){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTranslate:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTransition:function(e,i){e.params.parallax.enabled&&e.parallax.setTransition(i)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var i=this;E(i,{zoom:e({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},j)});var n=1;Object.defineProperty(i.zoom,"scale",{get:function(){return n},set:function(e){if(n!==e){var r=i.zoom.gesture.$imageEl?i.zoom.gesture.$imageEl[0]:void 0,s=i.zoom.gesture.$slideEl?i.zoom.gesture.$slideEl[0]:void 0;i.emit("zoomChange",e,r,s)}n=e}})},on:{init:function(e){e.params.zoom.enabled&&e.zoom.enable()},destroy:function(e){e.zoom.disable()},touchStart:function(e,i){e.zoom.enabled&&e.zoom.onTouchStart(i)},touchEnd:function(e,i){e.zoom.enabled&&e.zoom.onTouchEnd(i)},doubleTap:function(e,i){!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(i)},transitionEnd:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()},slideChange:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){E(this,{lazy:e({initialImageLoaded:!1},q)})},on:{beforeInit:function(e){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init:function(e){e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&(e.params.lazy.checkInView?e.lazy.checkInViewOnLoad():e.lazy.load())},scroll:function(e){e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},"scrollbarDragMove resize _freeModeNoMomentumRelease":function(e){e.params.lazy.enabled&&e.lazy.load()},transitionStart:function(e){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(e){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()},slideChange:function(e){e.params.lazy.enabled&&e.params.cssMode&&e.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){E(this,{controller:e({control:this.params.controller.control},Y)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,i,n){e.controller.control&&e.controller.setTranslate(i,n)},setTransition:function(e,i,n){e.controller.control&&e.controller.setTransition(i,n)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null}},create:function(){E(this,{a11y:e({},Z,{liveRegion:m('<span class="'+this.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')})})},on:{afterInit:function(e){e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate:function(e){e.params.a11y.enabled&&e.a11y.updatePagination()},destroy:function(e){e.params.a11y.enabled&&e.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){E(this,{history:e({},K)})},on:{init:function(e){e.params.history.enabled&&e.history.init()},destroy:function(e){e.params.history.enabled&&e.history.destroy()},transitionEnd:function(e){e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)},slideChange:function(e){e.history.initialized&&e.params.cssMode&&e.history.setHistory(e.params.history.key,e.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){E(this,{hashNavigation:e({initialized:!1},J)})},on:{init:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},transitionEnd:function(e){e.hashNavigation.initialized&&e.hashNavigation.setHash()},slideChange:function(e){e.hashNavigation.initialized&&e.params.cssMode&&e.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){E(this,{autoplay:e({},Q,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),s().addEventListener("visibilitychange",e.autoplay.onVisibilityChange))},beforeTransitionStart:function(e,i,n){e.autoplay.running&&(n||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(i):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.running&&e.autoplay.stop(),s().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){E(this,{fadeEffect:e({},ee)})},on:{beforeInit:function(e){if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var i={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};S(e.params,i),S(e.originalParams,i)}},setTranslate:function(e){"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,i){"fade"===e.params.effect&&e.fadeEffect.setTransition(i)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){E(this,{cubeEffect:e({},et)})},on:{beforeInit:function(e){if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var i={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};S(e.params,i),S(e.originalParams,i)}},setTranslate:function(e){"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,i){"cube"===e.params.effect&&e.cubeEffect.setTransition(i)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){E(this,{flipEffect:e({},ei)})},on:{beforeInit:function(e){if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var i={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};S(e.params,i),S(e.originalParams,i)}},setTranslate:function(e){"flip"===e.params.effect&&e.flipEffect.setTranslate()},setTransition:function(e,i){"flip"===e.params.effect&&e.flipEffect.setTransition(i)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){E(this,{coverflowEffect:e({},en)})},on:{beforeInit:function(e){"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(e){"coverflow"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition:function(e,i){"coverflow"===e.params.effect&&e.coverflowEffect.setTransition(i)}}},{name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){E(this,{thumbs:e({swiper:null,initialized:!1},er)})},on:{beforeInit:function(e){var i=e.params.thumbs;i&&i.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,i){var n=e.thumbs.swiper;n&&n.setTransition(i)},beforeDestroy:function(e){var i=e.thumbs.swiper;i&&e.thumbs.swiperCreated&&i&&i.destroy()}}}];return U.use(es),U}),function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e="undefined"!=typeof globalThis?globalThis:e||self).THREE={})}(this,function(e){"use strict";let i="srgb",n="srgb-linear",r="display-p3",s="300 es";class a{addEventListener(e,i){void 0===this._listeners&&(this._listeners={});let n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(i)&&n[e].push(i)}hasEventListener(e,i){if(void 0===this._listeners)return!1;let n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(i)}removeEventListener(e,i){if(void 0===this._listeners)return;let n=this._listeners[e];if(void 0!==n){let r=n.indexOf(i);-1!==r&&n.splice(r,1)}}dispatchEvent(e){if(void 0===this._listeners)return;let i=this._listeners[e.type];if(void 0!==i){e.target=this;let n=i.slice(0);for(let r=0,s=n.length;r<s;r++)n[r].call(this,e);e.target=null}}}let o=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],l=1234567,u=Math.PI/180,c=180/Math.PI;function h(){let e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(o[255&e]+o[e>>8&255]+o[e>>16&255]+o[e>>24&255]+"-"+o[255&i]+o[i>>8&255]+"-"+o[i>>16&15|64]+o[i>>24&255]+"-"+o[63&n|128]+o[n>>8&255]+"-"+o[n>>16&255]+o[n>>24&255]+o[255&r]+o[r>>8&255]+o[r>>16&255]+o[r>>24&255]).toLowerCase()}function d(e,i,n){return Math.max(i,Math.min(n,e))}function p(e,i){return(e%i+i)%i}function f(e,i,n){return(1-n)*e+n*i}function m(e){return 0==(e&e-1)&&0!==e}function g(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function $(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function v(e,i){switch(i.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw Error("Invalid component type.")}}function y(e,i){switch(i.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw Error("Invalid component type.")}}class _{constructor(e=0,i=0){_.prototype.isVector2=!0,this.x=e,this.y=i}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,i){return this.x=e,this.y=i,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;default:throw Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){let i=this.x,n=this.y,r=e.elements;return this.x=r[0]*i+r[3]*n+r[6],this.y=r[1]*i+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this}clampLength(e,i){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(i,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){let i=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===i)return Math.PI/2;let n=this.dot(e)/i;return Math.acos(d(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let i=this.x-e.x,n=this.y-e.y;return i*i+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this}lerpVectors(e,i,n){return this.x=e.x+(i.x-e.x)*n,this.y=e.y+(i.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this}rotateAround(e,i){let n=Math.cos(i),r=Math.sin(i),s=this.x-e.x,a=this.y-e.y;return this.x=s*n-a*r+e.x,this.y=s*r+a*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class x{constructor(){x.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,i,n,r,s,a,o,l,u){let c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=i,c[4]=s,c[5]=l,c[6]=n,c[7]=a,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let i=this.elements,n=e.elements;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],this}extractBasis(e,i,n){return e.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let i=e.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){let n=e.elements,r=i.elements,s=this.elements,a=n[0],o=n[3],l=n[6],u=n[1],c=n[4],h=n[7],d=n[2],p=n[5],f=n[8],m=r[0],g=r[3],$=r[6],v=r[1],y=r[4],_=r[7],x=r[2],b=r[5],w=r[8];return s[0]=a*m+o*v+l*x,s[3]=a*g+o*y+l*b,s[6]=a*$+o*_+l*w,s[1]=u*m+c*v+h*x,s[4]=u*g+c*y+h*b,s[7]=u*$+c*_+h*w,s[2]=d*m+p*v+f*x,s[5]=d*g+p*y+f*b,s[8]=d*$+p*_+f*w,this}multiplyScalar(e){let i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=e,i[4]*=e,i[7]*=e,i[2]*=e,i[5]*=e,i[8]*=e,this}determinant(){let e=this.elements,i=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8];return i*a*c-i*o*u-n*s*c+n*o*l+r*s*u-r*a*l}invert(){let e=this.elements,i=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8],h=c*a-o*u,d=o*l-c*s,p=u*s-a*l,f=i*h+n*d+r*p;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);let m=1/f;return e[0]=h*m,e[1]=(r*u-c*n)*m,e[2]=(o*n-r*a)*m,e[3]=d*m,e[4]=(c*i-r*l)*m,e[5]=(r*s-o*i)*m,e[6]=p*m,e[7]=(n*l-u*i)*m,e[8]=(a*i-n*s)*m,this}transpose(){let e,i=this.elements;return e=i[1],i[1]=i[3],i[3]=e,e=i[2],i[2]=i[6],i[6]=e,e=i[5],i[5]=i[7],i[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let i=this.elements;return e[0]=i[0],e[1]=i[3],e[2]=i[6],e[3]=i[1],e[4]=i[4],e[5]=i[7],e[6]=i[2],e[7]=i[5],e[8]=i[8],this}setUvTransform(e,i,n,r,s,a,o){let l=Math.cos(s),u=Math.sin(s);return this.set(n*l,n*u,-n*(l*a+u*o)+a+e,-r*u,r*l,-r*(-u*a+l*o)+o+i,0,0,1),this}scale(e,i){return this.premultiply(b.makeScale(e,i)),this}rotate(e){return this.premultiply(b.makeRotation(-e)),this}translate(e,i){return this.premultiply(b.makeTranslation(e,i)),this}makeTranslation(e,i){return this.set(1,0,e,0,1,i,0,0,1),this}makeRotation(e){let i=Math.cos(e),n=Math.sin(e);return this.set(i,-n,0,n,i,0,0,0,1),this}makeScale(e,i){return this.set(e,0,0,0,i,0,0,0,1),this}equals(e){let i=this.elements,n=e.elements;for(let r=0;r<9;r++)if(i[r]!==n[r])return!1;return!0}fromArray(e,i=0){for(let n=0;n<9;n++)this.elements[n]=e[n+i];return this}toArray(e=[],i=0){let n=this.elements;return e[i]=n[0],e[i+1]=n[1],e[i+2]=n[2],e[i+3]=n[3],e[i+4]=n[4],e[i+5]=n[5],e[i+6]=n[6],e[i+7]=n[7],e[i+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}let b=new x;function w(e){for(let i=e.length-1;i>=0;--i)if(e[i]>=65535)return!0;return!1}let S={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function E(e,i){return new S[e](i)}function T(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}let M={};function C(e){e in M||(M[e]=!0,console.warn(e))}function D(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function A(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let P=(new x).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-.0000001,1e-7,.9105199]),L=(new x).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),R={[n]:e=>e,[i]:e=>e.convertSRGBToLinear(),[r]:function(e){return e.convertSRGBToLinear().applyMatrix3(L)}},I={[n]:e=>e,[i]:e=>e.convertLinearToSRGB(),[r]:function(e){return e.applyMatrix3(P).convertLinearToSRGB()}},k={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return n},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,i,n){if(!1===this.enabled||i===n||!i||!n)return e;let r=R[i],s=I[n];if(void 0===r||void 0===s)throw Error(`Unsupported color space conversion, "${i}" to "${n}".`);return s(r(e))},fromWorkingColorSpace:function(e,i){return this.convert(e,this.workingColorSpace,i)},toWorkingColorSpace:function(e,i){return this.convert(e,i,this.workingColorSpace)}},O;class N{static getDataURL(e){if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{void 0===O&&(O=T("canvas")),O.width=e.width,O.height=e.height;let n=O.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),i=O}return i.width>2048||i.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),i.toDataURL("image/jpeg",.6)):i.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){let i=T("canvas");i.width=e.width,i.height=e.height;let n=i.getContext("2d");n.drawImage(e,0,0,e.width,e.height);let r=n.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=255*D(s[a]/255);return n.putImageData(r,0,0),i}if(e.data){let o=e.data.slice(0);for(let l=0;l<o.length;l++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[l]=Math.floor(255*D(o[l]/255)):o[l]=D(o[l]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class F{constructor(e=null){this.isSource=!0,this.uuid=h(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){let i=void 0===e||"string"==typeof e;if(!i&&void 0!==e.images[this.uuid])return e.images[this.uuid];let n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(U(r[a].image)):s.push(U(r[a]))}else s=U(r);n.url=s}return i||(e.images[this.uuid]=n),n}}function U(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?N.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let z=0;class B extends a{constructor(e=B.DEFAULT_IMAGE,n=B.DEFAULT_MAPPING,r=1001,s=1001,a=1006,o=1008,l=1023,u=1009,c=B.DEFAULT_ANISOTROPY,d=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:z++}),this.uuid=h(),this.name="",this.source=new F(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=a,this.minFilter=o,this.anisotropy=c,this.format=l,this.internalFormat=null,this.type=u,this.offset=new _(0,0),this.repeat=new _(1,1),this.center=new _(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new x,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof d?this.colorSpace=d:(C("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=3001===d?i:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let i=void 0===e||"string"==typeof e;if(!i&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];let n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),i||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return C("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===i?3001:3e3}set encoding(e){C("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=3001===e?i:""}}B.DEFAULT_IMAGE=null,B.DEFAULT_MAPPING=300,B.DEFAULT_ANISOTROPY=1;class H{constructor(e=0,i=0,n=0,r=1){H.prototype.isVector4=!0,this.x=e,this.y=i,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,i,n,r){return this.x=e,this.y=i,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this.w=e.w+i.w,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this.w+=e.w*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this.w=e.w-i.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let i=this.x,n=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*i+a[4]*n+a[8]*r+a[12]*s,this.y=a[1]*i+a[5]*n+a[9]*r+a[13]*s,this.z=a[2]*i+a[6]*n+a[10]*r+a[14]*s,this.w=a[3]*i+a[7]*n+a[11]*r+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let i=Math.sqrt(1-e.w*e.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/i,this.y=e.y/i,this.z=e.z/i),this}setAxisAngleFromRotationMatrix(e){let i,n,r,s,a=e.elements,o=a[0],l=a[4],u=a[8],c=a[1],h=a[5],d=a[9],p=a[2],f=a[6],m=a[10];if(.01>Math.abs(l-c)&&.01>Math.abs(u-p)&&.01>Math.abs(d-f)){if(.1>Math.abs(l+c)&&.1>Math.abs(u+p)&&.1>Math.abs(d+f)&&.1>Math.abs(o+h+m-3))return this.set(1,0,0,0),this;i=Math.PI;let g=(o+1)/2,$=(h+1)/2,v=(m+1)/2,y=(l+c)/4,_=(u+p)/4,x=(d+f)/4;return g>$&&g>v?g<.01?(n=0,r=.707106781,s=.707106781):(r=y/(n=Math.sqrt(g)),s=_/n):$>v?$<.01?(n=.707106781,r=0,s=.707106781):(n=y/(r=Math.sqrt($)),s=x/r):v<.01?(n=.707106781,r=.707106781,s=0):(n=_/(s=Math.sqrt(v)),r=x/s),this.set(n,r,s,i),this}let b=Math.sqrt((f-d)*(f-d)+(u-p)*(u-p)+(c-l)*(c-l));return .001>Math.abs(b)&&(b=1),this.x=(f-d)/b,this.y=(u-p)/b,this.z=(c-l)/b,this.w=Math.acos((o+h+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this.z=Math.max(e.z,Math.min(i.z,this.z)),this.w=Math.max(e.w,Math.min(i.w,this.w)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this.z=Math.max(e,Math.min(i,this.z)),this.w=Math.max(e,Math.min(i,this.w)),this}clampLength(e,i){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(i,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this.w+=(e.w-this.w)*i,this}lerpVectors(e,i,n){return this.x=e.x+(i.x-e.x)*n,this.y=e.y+(i.y-e.y)*n,this.z=e.z+(i.z-e.z)*n,this.w=e.w+(i.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this.w=e[i+3],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e[i+3]=this.w,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this.w=e.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class G extends a{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new H(0,0,e,n),this.scissorTest=!1,this.viewport=new H(0,0,e,n),void 0!==r.encoding&&(C("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=3001===r.encoding?i:""),this.texture=new B({width:e,height:n,depth:1},r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,this.texture.internalFormat=void 0!==r.internalFormat?r.internalFormat:null,this.texture.minFilter=void 0!==r.minFilter?r.minFilter:1006,this.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,this.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,this.depthTexture=void 0!==r.depthTexture?r.depthTexture:null,this.samples=void 0!==r.samples?r.samples:0}setSize(e,i,n=1){this.width===e&&this.height===i&&this.depth===n||(this.width=e,this.height=i,this.depth=n,this.texture.image.width=e,this.texture.image.height=i,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,i),this.scissor.set(0,0,e,i)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let i=Object.assign({},e.texture.image);return this.texture.source=new F(i),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class V extends B{constructor(e=null,i=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:i,height:n,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class W extends B{constructor(e=null,i=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:i,height:n,depth:r},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class X{constructor(e=0,i=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=i,this._z=n,this._w=r}static slerpFlat(e,i,n,r,s,a,o){let l=n[r+0],u=n[r+1],c=n[r+2],h=n[r+3],d=s[a+0],p=s[a+1],f=s[a+2],m=s[a+3];if(0===o)return e[i+0]=l,e[i+1]=u,e[i+2]=c,void(e[i+3]=h);if(1===o)return e[i+0]=d,e[i+1]=p,e[i+2]=f,void(e[i+3]=m);if(h!==m||l!==d||u!==p||c!==f){let g=1-o,$=l*d+u*p+c*f+h*m,v=$>=0?1:-1,y=1-$*$;if(y>Number.EPSILON){let _=Math.sqrt(y),x=Math.atan2(_,$*v);g=Math.sin(g*x)/_,o=Math.sin(o*x)/_}let b=o*v;if(l=l*g+d*b,u=u*g+p*b,c=c*g+f*b,h=h*g+m*b,g===1-o){let w=1/Math.sqrt(l*l+u*u+c*c+h*h);l*=w,u*=w,c*=w,h*=w}}e[i]=l,e[i+1]=u,e[i+2]=c,e[i+3]=h}static multiplyQuaternionsFlat(e,i,n,r,s,a){let o=n[r],l=n[r+1],u=n[r+2],c=n[r+3],h=s[a],d=s[a+1],p=s[a+2],f=s[a+3];return e[i]=o*f+c*h+l*p-u*d,e[i+1]=l*f+c*d+u*h-o*p,e[i+2]=u*f+c*p+o*d-l*h,e[i+3]=c*f-o*h-l*d-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,i,n,r){return this._x=e,this._y=i,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,i){let n=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,u=o(n/2),c=o(r/2),h=o(s/2),d=l(n/2),p=l(r/2),f=l(s/2);switch(a){case"XYZ":this._x=d*c*h+u*p*f,this._y=u*p*h-d*c*f,this._z=u*c*f+d*p*h,this._w=u*c*h-d*p*f;break;case"YXZ":this._x=d*c*h+u*p*f,this._y=u*p*h-d*c*f,this._z=u*c*f-d*p*h,this._w=u*c*h+d*p*f;break;case"ZXY":this._x=d*c*h-u*p*f,this._y=u*p*h+d*c*f,this._z=u*c*f+d*p*h,this._w=u*c*h-d*p*f;break;case"ZYX":this._x=d*c*h-u*p*f,this._y=u*p*h+d*c*f,this._z=u*c*f-d*p*h,this._w=u*c*h+d*p*f;break;case"YZX":this._x=d*c*h+u*p*f,this._y=u*p*h+d*c*f,this._z=u*c*f-d*p*h,this._w=u*c*h-d*p*f;break;case"XZY":this._x=d*c*h-u*p*f,this._y=u*p*h-d*c*f,this._z=u*c*f+d*p*h,this._w=u*c*h+d*p*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==i&&this._onChangeCallback(),this}setFromAxisAngle(e,i){let n=i/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){let i=e.elements,n=i[0],r=i[4],s=i[8],a=i[1],o=i[5],l=i[9],u=i[2],c=i[6],h=i[10],d=n+o+h;if(d>0){let p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(c-l)*p,this._y=(s-u)*p,this._z=(a-r)*p}else if(n>o&&n>h){let f=2*Math.sqrt(1+n-o-h);this._w=(c-l)/f,this._x=.25*f,this._y=(r+a)/f,this._z=(s+u)/f}else if(o>h){let m=2*Math.sqrt(1+o-n-h);this._w=(s-u)/m,this._x=(r+a)/m,this._y=.25*m,this._z=(l+c)/m}else{let g=2*Math.sqrt(1+h-n-o);this._w=(a-r)/g,this._x=(s+u)/g,this._y=(l+c)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,i){let n=e.dot(i)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*i.z-e.z*i.y,this._y=e.z*i.x-e.x*i.z,this._z=e.x*i.y-e.y*i.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(d(this.dot(e),-1,1)))}rotateTowards(e,i){let n=this.angleTo(e);return 0===n||this.slerp(e,Math.min(1,i/n)),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,i){let n=e._x,r=e._y,s=e._z,a=e._w,o=i._x,l=i._y,u=i._z,c=i._w;return this._x=n*c+a*o+r*u-s*l,this._y=r*c+a*l+s*o-n*u,this._z=s*c+a*u+n*l-r*o,this._w=a*c-n*o-r*l-s*u,this._onChangeCallback(),this}slerp(e,i){if(0===i)return this;if(1===i)return this.copy(e);let n=this._x,r=this._y,s=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=s,this;let l=1-o*o;if(l<=Number.EPSILON){let u=1-i;return this._w=u*a+i*this._w,this._x=u*n+i*this._x,this._y=u*r+i*this._y,this._z=u*s+i*this._z,this.normalize(),this._onChangeCallback(),this}let c=Math.sqrt(l),h=Math.atan2(c,o),d=Math.sin((1-i)*h)/c,p=Math.sin(i*h)/c;return this._w=a*d+this._w*p,this._x=n*d+this._x*p,this._y=r*d+this._y*p,this._z=s*d+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,i,n){return this.copy(e).slerp(i,n)}random(){let e=Math.random(),i=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(i*Math.cos(r),n*Math.sin(s),n*Math.cos(s),i*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,i=0){return this._x=e[i],this._y=e[i+1],this._z=e[i+2],this._w=e[i+3],this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._w,e}fromBufferAttribute(e,i){return this._x=e.getX(i),this._y=e.getY(i),this._z=e.getZ(i),this._w=e.getW(i),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class j{constructor(e=0,i=0,n=0){j.prototype.isVector3=!0,this.x=e,this.y=i,this.z=n}set(e,i,n){return void 0===n&&(n=this.z),this.x=e,this.y=i,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,i){return this.x=e.x*i.x,this.y=e.y*i.y,this.z=e.z*i.z,this}applyEuler(e){return this.applyQuaternion(Y.setFromEuler(e))}applyAxisAngle(e,i){return this.applyQuaternion(Y.setFromAxisAngle(e,i))}applyMatrix3(e){let i=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*i+s[3]*n+s[6]*r,this.y=s[1]*i+s[4]*n+s[7]*r,this.z=s[2]*i+s[5]*n+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){let i=this.x,n=this.y,r=this.z,s=e.elements,a=1/(s[3]*i+s[7]*n+s[11]*r+s[15]);return this.x=(s[0]*i+s[4]*n+s[8]*r+s[12])*a,this.y=(s[1]*i+s[5]*n+s[9]*r+s[13])*a,this.z=(s[2]*i+s[6]*n+s[10]*r+s[14])*a,this}applyQuaternion(e){let i=this.x,n=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,u=l*i+a*r-o*n,c=l*n+o*i-s*r,h=l*r+s*n-a*i,d=-s*i-a*n-o*r;return this.x=u*l+-(d*s)+-(c*o)- -(h*a),this.y=c*l+-(d*a)+-(h*s)- -(u*o),this.z=h*l+-(d*o)+-(u*a)- -(c*s),this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){let i=this.x,n=this.y,r=this.z,s=e.elements;return this.x=s[0]*i+s[4]*n+s[8]*r,this.y=s[1]*i+s[5]*n+s[9]*r,this.z=s[2]*i+s[6]*n+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,i){return this.x=Math.max(e.x,Math.min(i.x,this.x)),this.y=Math.max(e.y,Math.min(i.y,this.y)),this.z=Math.max(e.z,Math.min(i.z,this.z)),this}clampScalar(e,i){return this.x=Math.max(e,Math.min(i,this.x)),this.y=Math.max(e,Math.min(i,this.y)),this.z=Math.max(e,Math.min(i,this.z)),this}clampLength(e,i){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(i,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this}lerpVectors(e,i,n){return this.x=e.x+(i.x-e.x)*n,this.y=e.y+(i.y-e.y)*n,this.z=e.z+(i.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,i){let n=e.x,r=e.y,s=e.z,a=i.x,o=i.y,l=i.z;return this.x=r*l-s*o,this.y=s*a-n*l,this.z=n*o-r*a,this}projectOnVector(e){let i=e.lengthSq();if(0===i)return this.set(0,0,0);let n=e.dot(this)/i;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return q.copy(this).projectOnVector(e),this.sub(q)}reflect(e){return this.sub(q.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){let i=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===i)return Math.PI/2;let n=this.dot(e)/i;return Math.acos(d(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){let i=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return i*i+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,i,n){let r=Math.sin(i)*e;return this.x=r*Math.sin(n),this.y=Math.cos(i)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,i,n){return this.x=e*Math.sin(i),this.y=n,this.z=e*Math.cos(i),this}setFromMatrixPosition(e){let i=e.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(e){let i=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=i,this.y=n,this.z=r,this}setFromMatrixColumn(e,i){return this.fromArray(e.elements,4*i)}setFromMatrix3Column(e,i){return this.fromArray(e.elements,3*i)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let e=2*(Math.random()-.5),i=Math.random()*Math.PI*2,n=Math.sqrt(1-e**2);return this.x=n*Math.cos(i),this.y=n*Math.sin(i),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}let q=new j,Y=new X;class Z{constructor(e=new j(1/0,1/0,1/0),i=new j(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=i}set(e,i){return this.min.copy(e),this.max.copy(i),this}setFromArray(e){this.makeEmpty();for(let i=0,n=e.length;i<n;i+=3)this.expandByPoint(J.fromArray(e,i));return this}setFromBufferAttribute(e){this.makeEmpty();for(let i=0,n=e.count;i<n;i++)this.expandByPoint(J.fromBufferAttribute(e,i));return this}setFromPoints(e){this.makeEmpty();for(let i=0,n=e.length;i<n;i++)this.expandByPoint(e[i]);return this}setFromCenterAndSize(e,i){let n=J.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,i=!1){return this.makeEmpty(),this.expandByObject(e,i)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,i=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Q.copy(e.boundingBox),Q.applyMatrix4(e.matrixWorld),this.union(Q);else{let n=e.geometry;if(void 0!==n){if(i&&void 0!==n.attributes&&void 0!==n.attributes.position){let r=n.attributes.position;for(let s=0,a=r.count;s<a;s++)J.fromBufferAttribute(r,s).applyMatrix4(e.matrixWorld),this.expandByPoint(J)}else null===n.boundingBox&&n.computeBoundingBox(),Q.copy(n.boundingBox),Q.applyMatrix4(e.matrixWorld),this.union(Q)}}let o=e.children;for(let l=0,u=o.length;l<u;l++)this.expandByObject(o[l],i);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,i){return i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,J),J.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let i,n;return e.normal.x>0?(i=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(i=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(i+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(i+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(i+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(i+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),i<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ea),eo.subVectors(this.max,ea),ee.subVectors(e.a,ea),et.subVectors(e.b,ea),ei.subVectors(e.c,ea),en.subVectors(et,ee),er.subVectors(ei,et),es.subVectors(ee,ei);let i=[0,-en.z,en.y,0,-er.z,er.y,0,-es.z,es.y,en.z,0,-en.x,er.z,0,-er.x,es.z,0,-es.x,-en.y,en.x,0,-er.y,er.x,0,-es.y,es.x,0];return!!ec(i,ee,et,ei,eo)&&!!ec(i=[1,0,0,0,1,0,0,0,1],ee,et,ei,eo)&&(el.crossVectors(en,er),ec(i=[el.x,el.y,el.z],ee,et,ei,eo))}clampPoint(e,i){return i.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,J).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(J).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(K[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),K[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),K[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),K[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),K[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),K[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),K[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),K[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(K)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}let K=[new j,new j,new j,new j,new j,new j,new j,new j],J=new j,Q=new Z,ee=new j,et=new j,ei=new j,en=new j,er=new j,es=new j,ea=new j,eo=new j,el=new j,eu=new j;function ec(e,i,n,r,s){for(let a=0,o=e.length-3;a<=o;a+=3){eu.fromArray(e,a);let l=s.x*Math.abs(eu.x)+s.y*Math.abs(eu.y)+s.z*Math.abs(eu.z),u=i.dot(eu),c=n.dot(eu),h=r.dot(eu);if(Math.max(-Math.max(u,c,h),Math.min(u,c,h))>l)return!1}return!0}let eh=new Z,ed=new j,ep=new j;class ef{constructor(e=new j,i=-1){this.center=e,this.radius=i}set(e,i){return this.center.copy(e),this.radius=i,this}setFromPoints(e,i){let n=this.center;void 0!==i?n.copy(i):eh.setFromPoints(e).getCenter(n);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,n.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let i=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=i*i}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,i){let n=this.center.distanceToSquared(e);return i.copy(e),n>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ed.subVectors(e,this.center);let i=ed.lengthSq();if(i>this.radius*this.radius){let n=Math.sqrt(i),r=.5*(n-this.radius);this.center.addScaledVector(ed,r/n),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(ep.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ed.copy(e.center).add(ep)),this.expandByPoint(ed.copy(e.center).sub(ep))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}let em=new j,eg=new j,e$=new j,ev=new j,ey=new j,e8=new j,e_=new j;class ex{constructor(e=new j,i=new j(0,0,-1)){this.origin=e,this.direction=i}set(e,i){return this.origin.copy(e),this.direction.copy(i),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,i){return i.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,em)),this}closestPointToPoint(e,i){i.subVectors(e,this.origin);let n=i.dot(this.direction);return n<0?i.copy(this.origin):i.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let i=em.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(em.copy(this.origin).addScaledVector(this.direction,i),em.distanceToSquared(e))}distanceSqToSegment(e,i,n,r){eg.copy(e).add(i).multiplyScalar(.5),e$.copy(i).sub(e).normalize(),ev.copy(this.origin).sub(eg);let s=.5*e.distanceTo(i),a=-this.direction.dot(e$),o=ev.dot(this.direction),l=-ev.dot(e$),u=ev.lengthSq(),c=Math.abs(1-a*a),h,d,p,f;if(c>0){if(h=a*l-o,d=a*o-l,f=s*c,h>=0){if(d>=-f){if(d<=f){let m=1/c;h*=m,d*=m,p=h*(h+a*d+2*o)+d*(a*h+d+2*l)+u}else p=-(h=Math.max(0,-(a*(d=s)+o)))*h+d*(d+2*l)+u}else p=-(h=Math.max(0,-(a*(d=-s)+o)))*h+d*(d+2*l)+u}else d<=-f?(d=(h=Math.max(0,-(-a*s+o)))>0?-s:Math.min(Math.max(-s,-l),s),p=-h*h+d*(d+2*l)+u):d<=f?(h=0,p=(d=Math.min(Math.max(-s,-l),s))*(d+2*l)+u):(d=(h=Math.max(0,-(a*s+o)))>0?s:Math.min(Math.max(-s,-l),s),p=-h*h+d*(d+2*l)+u)}else d=a>0?-s:s,p=-(h=Math.max(0,-(a*d+o)))*h+d*(d+2*l)+u;return n&&n.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy(eg).addScaledVector(e$,d),p}intersectSphere(e,i){em.subVectors(e.center,this.origin);let n=em.dot(this.direction),r=em.dot(em)-n*n,s=e.radius*e.radius;if(r>s)return null;let a=Math.sqrt(s-r),o=n-a,l=n+a;return l<0?null:o<0?this.at(l,i):this.at(o,i)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let i=e.normal.dot(this.direction);if(0===i)return 0===e.distanceToPoint(this.origin)?0:null;let n=-(this.origin.dot(e.normal)+e.constant)/i;return n>=0?n:null}intersectPlane(e,i){let n=this.distanceToPlane(e);return null===n?null:this.at(n,i)}intersectsPlane(e){let i=e.distanceToPoint(this.origin);return 0===i||e.normal.dot(this.direction)*i<0}intersectBox(e,i){let n,r,s,a,o,l,u=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,d=this.origin;return u>=0?(n=(e.min.x-d.x)*u,r=(e.max.x-d.x)*u):(n=(e.max.x-d.x)*u,r=(e.min.x-d.x)*u),c>=0?(s=(e.min.y-d.y)*c,a=(e.max.y-d.y)*c):(s=(e.max.y-d.y)*c,a=(e.min.y-d.y)*c),n>a||s>r?null:((s>n||isNaN(n))&&(n=s),(a<r||isNaN(r))&&(r=a),h>=0?(o=(e.min.z-d.z)*h,l=(e.max.z-d.z)*h):(o=(e.max.z-d.z)*h,l=(e.min.z-d.z)*h),n>l||o>r?null:((o>n||n!=n)&&(n=o),(l<r||r!=r)&&(r=l),r<0?null:this.at(n>=0?n:r,i)))}intersectsBox(e){return null!==this.intersectBox(e,em)}intersectTriangle(e,i,n,r,s){ey.subVectors(i,e),e8.subVectors(n,e),e_.crossVectors(ey,e8);let a,o=this.direction.dot(e_);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ev.subVectors(this.origin,e);let l=a*this.direction.dot(e8.crossVectors(ev,e8));if(l<0)return null;let u=a*this.direction.dot(ey.cross(ev));if(u<0||l+u>o)return null;let c=-a*ev.dot(e_);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class eb{constructor(){eb.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,i,n,r,s,a,o,l,u,c,h,d,p,f,m,g){let $=this.elements;return $[0]=e,$[4]=i,$[8]=n,$[12]=r,$[1]=s,$[5]=a,$[9]=o,$[13]=l,$[2]=u,$[6]=c,$[10]=h,$[14]=d,$[3]=p,$[7]=f,$[11]=m,$[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new eb).fromArray(this.elements)}copy(e){let i=this.elements,n=e.elements;return i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i[9]=n[9],i[10]=n[10],i[11]=n[11],i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15],this}copyPosition(e){let i=this.elements,n=e.elements;return i[12]=n[12],i[13]=n[13],i[14]=n[14],this}setFromMatrix3(e){let i=e.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(e,i,n){return e.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,i,n){return this.set(e.x,i.x,n.x,0,e.y,i.y,n.y,0,e.z,i.z,n.z,0,0,0,0,1),this}extractRotation(e){let i=this.elements,n=e.elements,r=1/ew.setFromMatrixColumn(e,0).length(),s=1/ew.setFromMatrixColumn(e,1).length(),a=1/ew.setFromMatrixColumn(e,2).length();return i[0]=n[0]*r,i[1]=n[1]*r,i[2]=n[2]*r,i[3]=0,i[4]=n[4]*s,i[5]=n[5]*s,i[6]=n[6]*s,i[7]=0,i[8]=n[8]*a,i[9]=n[9]*a,i[10]=n[10]*a,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(e){let i=this.elements,n=e.x,r=e.y,s=e.z,a=Math.cos(n),o=Math.sin(n),l=Math.cos(r),u=Math.sin(r),c=Math.cos(s),h=Math.sin(s);if("XYZ"===e.order){let d=a*c,p=a*h,f=o*c,m=o*h;i[0]=l*c,i[4]=-l*h,i[8]=u,i[1]=p+f*u,i[5]=d-m*u,i[9]=-o*l,i[2]=m-d*u,i[6]=f+p*u,i[10]=a*l}else if("YXZ"===e.order){let g=l*c,$=l*h,v=u*c,y=u*h;i[0]=g+y*o,i[4]=v*o-$,i[8]=a*u,i[1]=a*h,i[5]=a*c,i[9]=-o,i[2]=$*o-v,i[6]=y+g*o,i[10]=a*l}else if("ZXY"===e.order){let _=l*c,x=l*h,b=u*c,w=u*h;i[0]=_-w*o,i[4]=-a*h,i[8]=b+x*o,i[1]=x+b*o,i[5]=a*c,i[9]=w-_*o,i[2]=-a*u,i[6]=o,i[10]=a*l}else if("ZYX"===e.order){let S=a*c,E=a*h,T=o*c,M=o*h;i[0]=l*c,i[4]=T*u-E,i[8]=S*u+M,i[1]=l*h,i[5]=M*u+S,i[9]=E*u-T,i[2]=-u,i[6]=o*l,i[10]=a*l}else if("YZX"===e.order){let C=a*l,D=a*u,A=o*l,P=o*u;i[0]=l*c,i[4]=P-C*h,i[8]=A*h+D,i[1]=h,i[5]=a*c,i[9]=-o*c,i[2]=-u*c,i[6]=D*h+A,i[10]=C-P*h}else if("XZY"===e.order){let L=a*l,R=a*u,I=o*l,k=o*u;i[0]=l*c,i[4]=-h,i[8]=u*c,i[1]=L*h+k,i[5]=a*c,i[9]=R*h-I,i[2]=I*h-R,i[6]=o*c,i[10]=k*h+L}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(e){return this.compose(eE,e,eT)}lookAt(e,i,n){let r=this.elements;return eD.subVectors(e,i),0===eD.lengthSq()&&(eD.z=1),eD.normalize(),eM.crossVectors(n,eD),0===eM.lengthSq()&&(1===Math.abs(n.z)?eD.x+=1e-4:eD.z+=1e-4,eD.normalize(),eM.crossVectors(n,eD)),eM.normalize(),eC.crossVectors(eD,eM),r[0]=eM.x,r[4]=eC.x,r[8]=eD.x,r[1]=eM.y,r[5]=eC.y,r[9]=eD.y,r[2]=eM.z,r[6]=eC.z,r[10]=eD.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){let n=e.elements,r=i.elements,s=this.elements,a=n[0],o=n[4],l=n[8],u=n[12],c=n[1],h=n[5],d=n[9],p=n[13],f=n[2],m=n[6],g=n[10],$=n[14],v=n[3],y=n[7],_=n[11],x=n[15],b=r[0],w=r[4],S=r[8],E=r[12],T=r[1],M=r[5],C=r[9],D=r[13],A=r[2],P=r[6],L=r[10],R=r[14],I=r[3],k=r[7],O=r[11],N=r[15];return s[0]=a*b+o*T+l*A+u*I,s[4]=a*w+o*M+l*P+u*k,s[8]=a*S+o*C+l*L+u*O,s[12]=a*E+o*D+l*R+u*N,s[1]=c*b+h*T+d*A+p*I,s[5]=c*w+h*M+d*P+p*k,s[9]=c*S+h*C+d*L+p*O,s[13]=c*E+h*D+d*R+p*N,s[2]=f*b+m*T+g*A+$*I,s[6]=f*w+m*M+g*P+$*k,s[10]=f*S+m*C+g*L+$*O,s[14]=f*E+m*D+g*R+$*N,s[3]=v*b+y*T+_*A+x*I,s[7]=v*w+y*M+_*P+x*k,s[11]=v*S+y*C+_*L+x*O,s[15]=v*E+y*D+_*R+x*N,this}multiplyScalar(e){let i=this.elements;return i[0]*=e,i[4]*=e,i[8]*=e,i[12]*=e,i[1]*=e,i[5]*=e,i[9]*=e,i[13]*=e,i[2]*=e,i[6]*=e,i[10]*=e,i[14]*=e,i[3]*=e,i[7]*=e,i[11]*=e,i[15]*=e,this}determinant(){let e=this.elements,i=e[0],n=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],u=e[13],c=e[2],h=e[6],d=e[10],p=e[14];return e[3]*(+s*l*h-r*u*h-s*o*d+n*u*d+r*o*p-n*l*p)+e[7]*(+i*l*p-i*u*d+s*a*d-r*a*p+r*u*c-s*l*c)+e[11]*(+i*u*h-i*o*p-s*a*h+n*a*p+s*o*c-n*u*c)+e[15]*(-r*o*c-i*l*h+i*o*d+r*a*h-n*a*d+n*l*c)}transpose(){let e=this.elements,i;return i=e[1],e[1]=e[4],e[4]=i,i=e[2],e[2]=e[8],e[8]=i,i=e[6],e[6]=e[9],e[9]=i,i=e[3],e[3]=e[12],e[12]=i,i=e[7],e[7]=e[13],e[13]=i,i=e[11],e[11]=e[14],e[14]=i,this}setPosition(e,i,n){let r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=i,r[14]=n),this}invert(){let e=this.elements,i=e[0],n=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],$=e[15],v=h*g*u-m*d*u+m*l*p-o*g*p-h*l*$+o*d*$,y=f*d*u-c*g*u-f*l*p+a*g*p+c*l*$-a*d*$,_=c*m*u-f*h*u+f*o*p-a*m*p-c*o*$+a*h*$,x=f*h*l-c*m*l-f*o*d+a*m*d+c*o*g-a*h*g,b=i*v+n*y+r*_+s*x;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let w=1/b;return e[0]=v*w,e[1]=(m*d*s-h*g*s-m*r*p+n*g*p+h*r*$-n*d*$)*w,e[2]=(o*g*s-m*l*s+m*r*u-n*g*u-o*r*$+n*l*$)*w,e[3]=(h*l*s-o*d*s-h*r*u+n*d*u+o*r*p-n*l*p)*w,e[4]=y*w,e[5]=(c*g*s-f*d*s+f*r*p-i*g*p-c*r*$+i*d*$)*w,e[6]=(f*l*s-a*g*s-f*r*u+i*g*u+a*r*$-i*l*$)*w,e[7]=(a*d*s-c*l*s+c*r*u-i*d*u-a*r*p+i*l*p)*w,e[8]=_*w,e[9]=(f*h*s-c*m*s-f*n*p+i*m*p+c*n*$-i*h*$)*w,e[10]=(a*m*s-f*o*s+f*n*u-i*m*u-a*n*$+i*o*$)*w,e[11]=(c*o*s-a*h*s-c*n*u+i*h*u+a*n*p-i*o*p)*w,e[12]=x*w,e[13]=(c*m*r-f*h*r+f*n*d-i*m*d-c*n*g+i*h*g)*w,e[14]=(f*o*r-a*m*r-f*n*l+i*m*l+a*n*g-i*o*g)*w,e[15]=(a*h*r-c*o*r+c*n*l-i*h*l-a*n*d+i*o*d)*w,this}scale(e){let i=this.elements,n=e.x,r=e.y,s=e.z;return i[0]*=n,i[4]*=r,i[8]*=s,i[1]*=n,i[5]*=r,i[9]*=s,i[2]*=n,i[6]*=r,i[10]*=s,i[3]*=n,i[7]*=r,i[11]*=s,this}getMaxScaleOnAxis(){let e=this.elements,i=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(i,n,r))}makeTranslation(e,i,n){return this.set(1,0,0,e,0,1,0,i,0,0,1,n,0,0,0,1),this}makeRotationX(e){let i=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,i,-n,0,0,n,i,0,0,0,0,1),this}makeRotationY(e){let i=Math.cos(e),n=Math.sin(e);return this.set(i,0,n,0,0,1,0,0,-n,0,i,0,0,0,0,1),this}makeRotationZ(e){let i=Math.cos(e),n=Math.sin(e);return this.set(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,i){let n=Math.cos(i),r=Math.sin(i),s=1-n,a=e.x,o=e.y,l=e.z,u=s*a,c=s*o;return this.set(u*a+n,u*o-r*l,u*l+r*o,0,u*o+r*l,c*o+n,c*l-r*a,0,u*l-r*o,c*l+r*a,s*l*l+n,0,0,0,0,1),this}makeScale(e,i,n){return this.set(e,0,0,0,0,i,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,i,n,r,s,a){return this.set(1,n,s,0,e,1,a,0,i,r,1,0,0,0,0,1),this}compose(e,i,n){let r=this.elements,s=i._x,a=i._y,o=i._z,l=i._w,u=s+s,c=a+a,h=o+o,d=s*u,p=s*c,f=s*h,m=a*c,g=a*h,$=o*h,v=l*u,y=l*c,_=l*h,x=n.x,b=n.y,w=n.z;return r[0]=(1-(m+$))*x,r[1]=(p+_)*x,r[2]=(f-y)*x,r[3]=0,r[4]=(p-_)*b,r[5]=(1-(d+$))*b,r[6]=(g+v)*b,r[7]=0,r[8]=(f+y)*w,r[9]=(g-v)*w,r[10]=(1-(d+m))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,i,n){let r=this.elements,s=ew.set(r[0],r[1],r[2]).length(),a=ew.set(r[4],r[5],r[6]).length(),o=ew.set(r[8],r[9],r[10]).length();0>this.determinant()&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],eS.copy(this);let l=1/s,u=1/a,c=1/o;return eS.elements[0]*=l,eS.elements[1]*=l,eS.elements[2]*=l,eS.elements[4]*=u,eS.elements[5]*=u,eS.elements[6]*=u,eS.elements[8]*=c,eS.elements[9]*=c,eS.elements[10]*=c,i.setFromRotationMatrix(eS),n.x=s,n.y=a,n.z=o,this}makePerspective(e,i,n,r,s,a){let o=this.elements;return o[0]=2*s/(i-e),o[4]=0,o[8]=(i+e)/(i-e),o[12]=0,o[1]=0,o[5]=2*s/(n-r),o[9]=(n+r)/(n-r),o[13]=0,o[2]=0,o[6]=0,o[10]=-(a+s)/(a-s),o[14]=-2*a*s/(a-s),o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(e,i,n,r,s,a){let o=this.elements,l=1/(i-e),u=1/(n-r),c=1/(a-s);return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-((i+e)*l),o[1]=0,o[5]=2*u,o[9]=0,o[13]=-((n+r)*u),o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-((a+s)*c),o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(e){let i=this.elements,n=e.elements;for(let r=0;r<16;r++)if(i[r]!==n[r])return!1;return!0}fromArray(e,i=0){for(let n=0;n<16;n++)this.elements[n]=e[n+i];return this}toArray(e=[],i=0){let n=this.elements;return e[i]=n[0],e[i+1]=n[1],e[i+2]=n[2],e[i+3]=n[3],e[i+4]=n[4],e[i+5]=n[5],e[i+6]=n[6],e[i+7]=n[7],e[i+8]=n[8],e[i+9]=n[9],e[i+10]=n[10],e[i+11]=n[11],e[i+12]=n[12],e[i+13]=n[13],e[i+14]=n[14],e[i+15]=n[15],e}}let ew=new j,eS=new eb,eE=new j(0,0,0),eT=new j(1,1,1),eM=new j,eC=new j,eD=new j,eA=new eb,e0=new X;class e1{constructor(e=0,i=0,n=0,r=e1.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=i,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,n,r=this._order){return this._x=e,this._y=i,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i=this._order,n=!0){let r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],u=r[5],c=r[9],h=r[2],p=r[6],f=r[10];switch(i){case"XYZ":this._y=Math.asin(d(o,-1,1)),.9999999>Math.abs(o)?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(p,u),this._z=0);break;case"YXZ":this._x=Math.asin(-d(c,-1,1)),.9999999>Math.abs(c)?(this._y=Math.atan2(o,f),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(d(p,-1,1)),.9999999>Math.abs(p)?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-d(h,-1,1)),.9999999>Math.abs(h)?(this._x=Math.atan2(p,f),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(d(l,-1,1)),.9999999>Math.abs(l)?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-d(a,-1,1)),.9999999>Math.abs(a)?(this._x=Math.atan2(p,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,i,n){return eA.makeRotationFromQuaternion(e),this.setFromRotationMatrix(eA,i,n)}setFromVector3(e,i=this._order){return this.set(e.x,e.y,e.z,i)}reorder(e){return e0.setFromEuler(this),this.setFromQuaternion(e0,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}e1.DEFAULT_ORDER="XYZ";class eP{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let eL=0,eR=new j,eI=new X,ek=new eb,eO=new j,eN=new j,eF=new j,eU=new X,ez=new j(1,0,0),eB=new j(0,1,0),e3=new j(0,0,1),e2={type:"added"},e4={type:"removed"};class eH extends a{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:eL++}),this.uuid=h(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=eH.DEFAULT_UP.clone();let e=new j,i=new e1,n=new X,r=new j(1,1,1);i._onChange(function(){n.setFromEuler(i,!1)}),n._onChange(function(){i.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new eb},normalMatrix:{value:new x}}),this.matrix=new eb,this.matrixWorld=new eb,this.matrixAutoUpdate=eH.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=eH.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new eP,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,i){this.quaternion.setFromAxisAngle(e,i)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,i){return eI.setFromAxisAngle(e,i),this.quaternion.multiply(eI),this}rotateOnWorldAxis(e,i){return eI.setFromAxisAngle(e,i),this.quaternion.premultiply(eI),this}rotateX(e){return this.rotateOnAxis(ez,e)}rotateY(e){return this.rotateOnAxis(eB,e)}rotateZ(e){return this.rotateOnAxis(e3,e)}translateOnAxis(e,i){return eR.copy(e).applyQuaternion(this.quaternion),this.position.add(eR.multiplyScalar(i)),this}translateX(e){return this.translateOnAxis(ez,e)}translateY(e){return this.translateOnAxis(eB,e)}translateZ(e){return this.translateOnAxis(e3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ek.copy(this.matrixWorld).invert())}lookAt(e,i,n){e.isVector3?eO.copy(e):eO.set(e,i,n);let r=this.parent;this.updateWorldMatrix(!0,!1),eN.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ek.lookAt(eN,eO,this.up):ek.lookAt(eO,eN,this.up),this.quaternion.setFromRotationMatrix(ek),r&&(ek.extractRotation(r.matrixWorld),eI.setFromRotationMatrix(ek),this.quaternion.premultiply(eI.invert()))}add(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(e2)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}let n=this.children.indexOf(e);return -1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(e4)),this}removeFromParent(){let e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let i=this.children[e];i.parent=null,i.dispatchEvent(e4)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),ek.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ek.multiply(e.parent.matrixWorld)),e.applyMatrix4(ek),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,i){if(this[e]===i)return this;for(let n=0,r=this.children.length;n<r;n++){let s=this.children[n].getObjectByProperty(e,i);if(void 0!==s)return s}}getObjectsByProperty(e,i){let n=[];this[e]===i&&n.push(this);for(let r=0,s=this.children.length;r<s;r++){let a=this.children[r].getObjectsByProperty(e,i);a.length>0&&(n=n.concat(a))}return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(eN,e,eF),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(eN,eU,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let i=this.matrixWorld.elements;return e.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(e){e(this);let i=this.children;for(let n=0,r=i.length;n<r;n++)i[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);let i=this.children;for(let n=0,r=i.length;n<r;n++)i[n].traverseVisible(e)}traverseAncestors(e){let i=this.parent;null!==i&&(e(i),i.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let i=this.children;for(let n=0,r=i.length;n<r;n++){let s=i[n];!0!==s.matrixWorldAutoUpdate&&!0!==e||s.updateMatrixWorld(e)}}updateWorldMatrix(e,i){let n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){let r=this.children;for(let s=0,a=r.length;s<a;s++){let o=r[s];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){let i=void 0===e||"string"==typeof e,n={};i&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let r={};function s(i,n){return void 0===i[n.uuid]&&(i[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);let a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){let o=a.shapes;if(Array.isArray(o))for(let l=0,u=o.length;l<u;l++){let c=o[l];s(e.shapes,c)}else s(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material){if(Array.isArray(this.material)){let h=[];for(let d=0,p=this.material.length;d<p;d++)h.push(s(e.materials,this.material[d]));r.material=h}else r.material=s(e.materials,this.material)}if(this.children.length>0){r.children=[];for(let f=0;f<this.children.length;f++)r.children.push(this.children[f].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let m=0;m<this.animations.length;m++){let g=this.animations[m];r.animations.push(s(e.animations,g))}}if(i){let $=E(e.geometries),v=E(e.materials),y=E(e.textures),_=E(e.images),x=E(e.shapes),b=E(e.skeletons),w=E(e.animations),S=E(e.nodes);$.length>0&&(n.geometries=$),v.length>0&&(n.materials=v),y.length>0&&(n.textures=y),_.length>0&&(n.images=_),x.length>0&&(n.shapes=x),b.length>0&&(n.skeletons=b),w.length>0&&(n.animations=w),S.length>0&&(n.nodes=S)}return n.object=r,n;function E(e){let i=[];for(let n in e){let r=e[n];delete r.metadata,i.push(r)}return i}}clone(e){return(new this.constructor).copy(this,e)}copy(e,i=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===i)for(let n=0;n<e.children.length;n++){let r=e.children[n];this.add(r.clone())}return this}}eH.DEFAULT_UP=new j(0,1,0),eH.DEFAULT_MATRIX_AUTO_UPDATE=!0,eH.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;let eG=new j,e6=new j,eV=new j,eW=new j,e5=new j,e7=new j,eX=new j,ej=new j,eq=new j,e9=new j,eY=!1;class eZ{constructor(e=new j,i=new j,n=new j){this.a=e,this.b=i,this.c=n}static getNormal(e,i,n,r){r.subVectors(n,i),eG.subVectors(e,i),r.cross(eG);let s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,i,n,r,s){eG.subVectors(r,i),e6.subVectors(n,i),eV.subVectors(e,i);let a=eG.dot(eG),o=eG.dot(e6),l=eG.dot(eV),u=e6.dot(e6),c=e6.dot(eV),h=a*u-o*o;if(0===h)return s.set(-2,-1,-1);let d=1/h,p=(u*l-o*c)*d,f=(a*c-o*l)*d;return s.set(1-p-f,f,p)}static containsPoint(e,i,n,r){return this.getBarycoord(e,i,n,r,eW),eW.x>=0&&eW.y>=0&&eW.x+eW.y<=1}static getUV(e,i,n,r,s,a,o,l){return!1===eY&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),eY=!0),this.getInterpolation(e,i,n,r,s,a,o,l)}static getInterpolation(e,i,n,r,s,a,o,l){return this.getBarycoord(e,i,n,r,eW),l.setScalar(0),l.addScaledVector(s,eW.x),l.addScaledVector(a,eW.y),l.addScaledVector(o,eW.z),l}static isFrontFacing(e,i,n,r){return eG.subVectors(n,i),e6.subVectors(e,i),0>eG.cross(e6).dot(r)}set(e,i,n){return this.a.copy(e),this.b.copy(i),this.c.copy(n),this}setFromPointsAndIndices(e,i,n,r){return this.a.copy(e[i]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,i,n,r){return this.a.fromBufferAttribute(e,i),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return eG.subVectors(this.c,this.b),e6.subVectors(this.a,this.b),.5*eG.cross(e6).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return eZ.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,i){return eZ.getBarycoord(e,this.a,this.b,this.c,i)}getUV(e,i,n,r,s){return!1===eY&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),eY=!0),eZ.getInterpolation(e,this.a,this.b,this.c,i,n,r,s)}getInterpolation(e,i,n,r,s){return eZ.getInterpolation(e,this.a,this.b,this.c,i,n,r,s)}containsPoint(e){return eZ.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return eZ.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,i){let n=this.a,r=this.b,s=this.c,a,o;e5.subVectors(r,n),e7.subVectors(s,n),ej.subVectors(e,n);let l=e5.dot(ej),u=e7.dot(ej);if(l<=0&&u<=0)return i.copy(n);eq.subVectors(e,r);let c=e5.dot(eq),h=e7.dot(eq);if(c>=0&&h<=c)return i.copy(r);let d=l*h-c*u;if(d<=0&&l>=0&&c<=0)return a=l/(l-c),i.copy(n).addScaledVector(e5,a);e9.subVectors(e,s);let p=e5.dot(e9),f=e7.dot(e9);if(f>=0&&p<=f)return i.copy(s);let m=p*u-l*f;if(m<=0&&u>=0&&f<=0)return o=u/(u-f),i.copy(n).addScaledVector(e7,o);let g=c*f-p*h;if(g<=0&&h-c>=0&&p-f>=0)return eX.subVectors(s,r),o=(h-c)/(h-c+(p-f)),i.copy(r).addScaledVector(eX,o);let $=1/(g+m+d);return a=m*$,o=d*$,i.copy(n).addScaledVector(e5,a).addScaledVector(e7,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let eK=0;class eJ extends a{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:eK++}),this.uuid=h(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(let i in e){let n=e[i];if(void 0===n){console.warn(`THREE.Material: parameter '${i}' has value of undefined.`);continue}let r=this[i];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[i]=n:console.warn(`THREE.Material: '${i}' is not a property of THREE.${this.type}.`)}}toJSON(e){let i=void 0===e||"string"==typeof e;i&&(e={textures:{},images:{}});let n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){let i=[];for(let n in e){let r=e[n];delete r.metadata,i.push(r)}return i}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(n.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),i){let s=r(e.textures),a=r(e.images);s.length>0&&(n.textures=s),a.length>0&&(n.images=a)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let i=e.clippingPlanes,n=null;if(null!==i){let r=i.length;n=Array(r);for(let s=0;s!==r;++s)n[s]=i[s].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}let eQ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},te={h:0,s:0,l:0},tt={h:0,s:0,l:0};function ti(e,i,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(i-e)*n:n<.5?i:n<2/3?e+6*(i-e)*(2/3-n):e}class tn{constructor(e,i,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,void 0===i&&void 0===n?this.set(e):this.setRGB(e,i,n)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=i){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,k.toWorkingColorSpace(this,n),this}setRGB(e,i,n,r=k.workingColorSpace){return this.r=e,this.g=i,this.b=n,k.toWorkingColorSpace(this,r),this}setHSL(e,i,n,r=k.workingColorSpace){if(e=p(e,1),i=d(i,0,1),n=d(n,0,1),0===i)this.r=this.g=this.b=n;else{let s=n<=.5?n*(1+i):n+i-n*i,a=2*n-s;this.r=ti(a,s,e+1/3),this.g=ti(a,s,e),this.b=ti(a,s,e-1/3)}return k.toWorkingColorSpace(this,r),this}setStyle(e,n=i){function r(i){void 0!==i&&1>parseFloat(i)&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let a,o=s[1],l=s[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){let u=s[1],c=u.length;if(3===c)return this.setRGB(parseInt(u.charAt(0),16)/15,parseInt(u.charAt(1),16)/15,parseInt(u.charAt(2),16)/15,n);if(6===c)return this.setHex(parseInt(u,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=i){let r=eQ[e.toLowerCase()];return void 0!==r?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=D(e.r),this.g=D(e.g),this.b=D(e.b),this}copyLinearToSRGB(e){return this.r=A(e.r),this.g=A(e.g),this.b=A(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=i){return k.fromWorkingColorSpace(tr.copy(this),e),65536*Math.round(d(255*tr.r,0,255))+256*Math.round(d(255*tr.g,0,255))+Math.round(d(255*tr.b,0,255))}getHexString(e=i){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,i=k.workingColorSpace){k.fromWorkingColorSpace(tr.copy(this),i);let n=tr.r,r=tr.g,s=tr.b,a=Math.max(n,r,s),o=Math.min(n,r,s),l,u,c=(o+a)/2;if(o===a)l=0,u=0;else{let h=a-o;switch(u=c<=.5?h/(a+o):h/(2-a-o),a){case n:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-n)/h+2;break;case s:l=(n-r)/h+4}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,i=k.workingColorSpace){return k.fromWorkingColorSpace(tr.copy(this),i),e.r=tr.r,e.g=tr.g,e.b=tr.b,e}getStyle(e=i){k.fromWorkingColorSpace(tr.copy(this),e);let n=tr.r,r=tr.g,s=tr.b;return e!==i?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(255*n)},${Math.round(255*r)},${Math.round(255*s)})`}offsetHSL(e,i,n){return this.getHSL(te),te.h+=e,te.s+=i,te.l+=n,this.setHSL(te.h,te.s,te.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,i){return this.r=e.r+i.r,this.g=e.g+i.g,this.b=e.b+i.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,i){return this.r+=(e.r-this.r)*i,this.g+=(e.g-this.g)*i,this.b+=(e.b-this.b)*i,this}lerpColors(e,i,n){return this.r=e.r+(i.r-e.r)*n,this.g=e.g+(i.g-e.g)*n,this.b=e.b+(i.b-e.b)*n,this}lerpHSL(e,i){this.getHSL(te),e.getHSL(tt);let n=f(te.h,tt.h,i),r=f(te.s,tt.s,i),s=f(te.l,tt.l,i);return this.setHSL(n,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){let i=this.r,n=this.g,r=this.b,s=e.elements;return this.r=s[0]*i+s[3]*n+s[6]*r,this.g=s[1]*i+s[4]*n+s[7]*r,this.b=s[2]*i+s[5]*n+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,i=0){return this.r=e[i],this.g=e[i+1],this.b=e[i+2],this}toArray(e=[],i=0){return e[i]=this.r,e[i+1]=this.g,e[i+2]=this.b,e}fromBufferAttribute(e,i){return this.r=e.getX(i),this.g=e.getY(i),this.b=e.getZ(i),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}let tr=new tn;tn.NAMES=eQ;class ts extends eJ{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}let ta=function e(){let i=new ArrayBuffer(4),n=new Float32Array(i),r=new Uint32Array(i),s=new Uint32Array(512),a=new Uint32Array(512);for(let o=0;o<256;++o){let l=o-127;l<-27?(s[o]=0,s[256|o]=32768,a[o]=24,a[256|o]=24):l<-14?(s[o]=1024>>-l-14,s[256|o]=1024>>-l-14|32768,a[o]=-l-1,a[256|o]=-l-1):l<=15?(s[o]=l+15<<10,s[256|o]=l+15<<10|32768,a[o]=13,a[256|o]=13):l<128?(s[o]=31744,s[256|o]=64512,a[o]=24,a[256|o]=24):(s[o]=31744,s[256|o]=64512,a[o]=13,a[256|o]=13)}let u=new Uint32Array(2048),c=new Uint32Array(64),h=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,f=0;for(;0==(8388608&p);)p<<=1,f-=8388608;p&=-8388609,f+=947912704,u[d]=p|f}for(let m=1024;m<2048;++m)u[m]=939524096+(m-1024<<13);for(let g=1;g<31;++g)c[g]=g<<23;c[31]=1199570944,c[32]=2147483648;for(let $=33;$<63;++$)c[$]=2147483648+($-32<<23);c[63]=3347054592;for(let v=1;v<64;++v)32!==v&&(h[v]=1024);return{floatView:n,uint32View:r,baseTable:s,shiftTable:a,mantissaTable:u,exponentTable:c,offsetTable:h}}();function to(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=d(e,-65504,65504),ta.floatView[0]=e;let i=ta.uint32View[0],n=i>>23&511;return ta.baseTable[n]+((8388607&i)>>ta.shiftTable[n])}function tl(e){let i=e>>10;return ta.uint32View[0]=ta.mantissaTable[ta.offsetTable[i]+(1023&e)]+ta.exponentTable[i],ta.floatView[0]}let tu=new j,tc=new _;class th{constructor(e,i,n=!1){if(Array.isArray(e))throw TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=i,this.count=void 0!==e?e.length/i:0,this.normalized=n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,i,n){e*=this.itemSize,n*=i.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=i.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let i=0,n=this.count;i<n;i++)tc.fromBufferAttribute(this,i),tc.applyMatrix3(e),this.setXY(i,tc.x,tc.y);else if(3===this.itemSize)for(let r=0,s=this.count;r<s;r++)tu.fromBufferAttribute(this,r),tu.applyMatrix3(e),this.setXYZ(r,tu.x,tu.y,tu.z);return this}applyMatrix4(e){for(let i=0,n=this.count;i<n;i++)tu.fromBufferAttribute(this,i),tu.applyMatrix4(e),this.setXYZ(i,tu.x,tu.y,tu.z);return this}applyNormalMatrix(e){for(let i=0,n=this.count;i<n;i++)tu.fromBufferAttribute(this,i),tu.applyNormalMatrix(e),this.setXYZ(i,tu.x,tu.y,tu.z);return this}transformDirection(e){for(let i=0,n=this.count;i<n;i++)tu.fromBufferAttribute(this,i),tu.transformDirection(e),this.setXYZ(i,tu.x,tu.y,tu.z);return this}set(e,i=0){return this.array.set(e,i),this}getX(e){let i=this.array[e*this.itemSize];return this.normalized&&(i=v(i,this.array)),i}setX(e,i){return this.normalized&&(i=y(i,this.array)),this.array[e*this.itemSize]=i,this}getY(e){let i=this.array[e*this.itemSize+1];return this.normalized&&(i=v(i,this.array)),i}setY(e,i){return this.normalized&&(i=y(i,this.array)),this.array[e*this.itemSize+1]=i,this}getZ(e){let i=this.array[e*this.itemSize+2];return this.normalized&&(i=v(i,this.array)),i}setZ(e,i){return this.normalized&&(i=y(i,this.array)),this.array[e*this.itemSize+2]=i,this}getW(e){let i=this.array[e*this.itemSize+3];return this.normalized&&(i=v(i,this.array)),i}setW(e,i){return this.normalized&&(i=y(i,this.array)),this.array[e*this.itemSize+3]=i,this}setXY(e,i,n){return e*=this.itemSize,this.normalized&&(i=y(i,this.array),n=y(n,this.array)),this.array[e+0]=i,this.array[e+1]=n,this}setXYZ(e,i,n,r){return e*=this.itemSize,this.normalized&&(i=y(i,this.array),n=y(n,this.array),r=y(r,this.array)),this.array[e+0]=i,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,i,n,r,s){return e*=this.itemSize,this.normalized&&(i=y(i,this.array),n=y(n,this.array),r=y(r,this.array),s=y(s,this.array)),this.array[e+0]=i,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class td extends th{constructor(e,i,n){super(new Uint16Array(e),i,n)}}class tp extends th{constructor(e,i,n){super(new Uint32Array(e),i,n)}}class tf extends th{constructor(e,i,n){super(new Float32Array(e),i,n)}}let tm=0,tg=new eb,t$=new eH,tv=new j,ty=new Z,t8=new Z,t_=new j;class tx extends a{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:tm++}),this.uuid=h(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(w(e)?tp:td)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,i){return this.attributes[e]=i,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,i,n=0){this.groups.push({start:e,count:i,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,i){this.drawRange.start=e,this.drawRange.count=i}applyMatrix4(e){let i=this.attributes.position;void 0!==i&&(i.applyMatrix4(e),i.needsUpdate=!0);let n=this.attributes.normal;if(void 0!==n){let r=(new x).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}let s=this.attributes.tangent;return void 0!==s&&(s.transformDirection(e),s.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return tg.makeRotationFromQuaternion(e),this.applyMatrix4(tg),this}rotateX(e){return tg.makeRotationX(e),this.applyMatrix4(tg),this}rotateY(e){return tg.makeRotationY(e),this.applyMatrix4(tg),this}rotateZ(e){return tg.makeRotationZ(e),this.applyMatrix4(tg),this}translate(e,i,n){return tg.makeTranslation(e,i,n),this.applyMatrix4(tg),this}scale(e,i,n){return tg.makeScale(e,i,n),this.applyMatrix4(tg),this}lookAt(e){return t$.lookAt(e),t$.updateMatrix(),this.applyMatrix4(t$.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(tv).negate(),this.translate(tv.x,tv.y,tv.z),this}setFromPoints(e){let i=[];for(let n=0,r=e.length;n<r;n++){let s=e[n];i.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new tf(i,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Z);let e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new j(-1/0,-1/0,-1/0),new j(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),i)for(let n=0,r=i.length;n<r;n++){let s=i[n];ty.setFromBufferAttribute(s),this.morphTargetsRelative?(t_.addVectors(this.boundingBox.min,ty.min),this.boundingBox.expandByPoint(t_),t_.addVectors(this.boundingBox.max,ty.max),this.boundingBox.expandByPoint(t_)):(this.boundingBox.expandByPoint(ty.min),this.boundingBox.expandByPoint(ty.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new ef);let e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new j,1/0);if(e){let n=this.boundingSphere.center;if(ty.setFromBufferAttribute(e),i)for(let r=0,s=i.length;r<s;r++){let a=i[r];t8.setFromBufferAttribute(a),this.morphTargetsRelative?(t_.addVectors(ty.min,t8.min),ty.expandByPoint(t_),t_.addVectors(ty.max,t8.max),ty.expandByPoint(t_)):(ty.expandByPoint(t8.min),ty.expandByPoint(t8.max))}ty.getCenter(n);let o=0;for(let l=0,u=e.count;l<u;l++)t_.fromBufferAttribute(e,l),o=Math.max(o,n.distanceToSquared(t_));if(i)for(let c=0,h=i.length;c<h;c++){let d=i[c],p=this.morphTargetsRelative;for(let f=0,m=d.count;f<m;f++)t_.fromBufferAttribute(d,f),p&&(tv.fromBufferAttribute(e,f),t_.add(tv)),o=Math.max(o,n.distanceToSquared(t_))}this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,i=this.attributes;if(null===e||void 0===i.position||void 0===i.normal||void 0===i.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");let n=e.array,r=i.position.array,s=i.normal.array,a=i.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new th(new Float32Array(4*o),4));let l=this.getAttribute("tangent").array,u=[],c=[];for(let h=0;h<o;h++)u[h]=new j,c[h]=new j;let d=new j,p=new j,f=new j,m=new _,g=new _,$=new _,v=new j,y=new j;function x(e,i,n){d.fromArray(r,3*e),p.fromArray(r,3*i),f.fromArray(r,3*n),m.fromArray(a,2*e),g.fromArray(a,2*i),$.fromArray(a,2*n),p.sub(d),f.sub(d),g.sub(m),$.sub(m);let s=1/(g.x*$.y-$.x*g.y);isFinite(s)&&(v.copy(p).multiplyScalar($.y).addScaledVector(f,-g.y).multiplyScalar(s),y.copy(f).multiplyScalar(g.x).addScaledVector(p,-$.x).multiplyScalar(s),u[e].add(v),u[i].add(v),u[n].add(v),c[e].add(y),c[i].add(y),c[n].add(y))}let b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(let w=0,S=b.length;w<S;++w){let E=b[w],T=E.start;for(let M=T,C=T+E.count;M<C;M+=3)x(n[M+0],n[M+1],n[M+2])}let D=new j,A=new j,P=new j,L=new j;function R(e){P.fromArray(s,3*e),L.copy(P);let i=u[e];D.copy(i),D.sub(P.multiplyScalar(P.dot(i))).normalize(),A.crossVectors(L,i);let n=0>A.dot(c[e])?-1:1;l[4*e]=D.x,l[4*e+1]=D.y,l[4*e+2]=D.z,l[4*e+3]=n}for(let I=0,k=b.length;I<k;++I){let O=b[I],N=O.start;for(let F=N,U=N+O.count;F<U;F+=3)R(n[F+0]),R(n[F+1]),R(n[F+2])}}computeVertexNormals(){let e=this.index,i=this.getAttribute("position");if(void 0!==i){let n=this.getAttribute("normal");if(void 0===n)n=new th(new Float32Array(3*i.count),3),this.setAttribute("normal",n);else for(let r=0,s=n.count;r<s;r++)n.setXYZ(r,0,0,0);let a=new j,o=new j,l=new j,u=new j,c=new j,h=new j,d=new j,p=new j;if(e)for(let f=0,m=e.count;f<m;f+=3){let g=e.getX(f+0),$=e.getX(f+1),v=e.getX(f+2);a.fromBufferAttribute(i,g),o.fromBufferAttribute(i,$),l.fromBufferAttribute(i,v),d.subVectors(l,o),p.subVectors(a,o),d.cross(p),u.fromBufferAttribute(n,g),c.fromBufferAttribute(n,$),h.fromBufferAttribute(n,v),u.add(d),c.add(d),h.add(d),n.setXYZ(g,u.x,u.y,u.z),n.setXYZ($,c.x,c.y,c.z),n.setXYZ(v,h.x,h.y,h.z)}else for(let y=0,_=i.count;y<_;y+=3)a.fromBufferAttribute(i,y+0),o.fromBufferAttribute(i,y+1),l.fromBufferAttribute(i,y+2),d.subVectors(l,o),p.subVectors(a,o),d.cross(p),n.setXYZ(y+0,d.x,d.y,d.z),n.setXYZ(y+1,d.x,d.y,d.z),n.setXYZ(y+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){let e=this.attributes.normal;for(let i=0,n=e.count;i<n;i++)t_.fromBufferAttribute(e,i),t_.normalize(),e.setXYZ(i,t_.x,t_.y,t_.z)}toNonIndexed(){function e(e,i){let n=e.array,r=e.itemSize,s=e.normalized,a=new n.constructor(i.length*r),o=0,l=0;for(let u=0,c=i.length;u<c;u++){o=e.isInterleavedBufferAttribute?i[u]*e.data.stride+e.offset:i[u]*r;for(let h=0;h<r;h++)a[l++]=n[o++]}return new th(a,r,s)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let i=new tx,n=this.index.array,r=this.attributes;for(let s in r){let a=e(r[s],n);i.setAttribute(s,a)}let o=this.morphAttributes;for(let l in o){let u=[],c=o[l];for(let h=0,d=c.length;h<d;h++){let p=e(c[h],n);u.push(p)}i.morphAttributes[l]=u}i.morphTargetsRelative=this.morphTargetsRelative;let f=this.groups;for(let m=0,g=f.length;m<g;m++){let $=f[m];i.addGroup($.start,$.count,$.materialIndex)}return i}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){let i=this.parameters;for(let n in i)void 0!==i[n]&&(e[n]=i[n]);return e}e.data={attributes:{}};let r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});let s=this.attributes;for(let a in s){let o=s[a];e.data.attributes[a]=o.toJSON(e.data)}let l={},u=!1;for(let c in this.morphAttributes){let h=this.morphAttributes[c],d=[];for(let p=0,f=h.length;p<f;p++){let m=h[p];d.push(m.toJSON(e.data))}d.length>0&&(l[c]=d,u=!0)}u&&(e.data.morphAttributes=l,e.data.morphTargetsRelative=this.morphTargetsRelative);let g=this.groups;g.length>0&&(e.data.groups=JSON.parse(JSON.stringify(g)));let $=this.boundingSphere;return null!==$&&(e.data.boundingSphere={center:$.center.toArray(),radius:$.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let i={};this.name=e.name;let n=e.index;null!==n&&this.setIndex(n.clone(i));let r=e.attributes;for(let s in r){let a=r[s];this.setAttribute(s,a.clone(i))}let o=e.morphAttributes;for(let l in o){let u=[],c=o[l];for(let h=0,d=c.length;h<d;h++)u.push(c[h].clone(i));this.morphAttributes[l]=u}this.morphTargetsRelative=e.morphTargetsRelative;let p=e.groups;for(let f=0,m=p.length;f<m;f++){let g=p[f];this.addGroup(g.start,g.count,g.materialIndex)}let $=e.boundingBox;null!==$&&(this.boundingBox=$.clone());let v=e.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}let tb=new eb,tw=new ex,tS=new ef,tE=new j,tT=new j,tM=new j,tC=new j,tD=new j,tA=new j,t0=new _,t1=new _,tP=new _,tL=new j,tR=new j,tI=new j,tk=new j,tO=new j;class tN extends eH{constructor(e=new tx,i=new ts){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=i,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){let e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){let n=e[i[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=n.length;r<s;r++){let a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}getVertexPosition(e,i){let n=this.geometry,r=n.attributes.position,s=n.morphAttributes.position,a=n.morphTargetsRelative;i.fromBufferAttribute(r,e);let o=this.morphTargetInfluences;if(s&&o){tA.set(0,0,0);for(let l=0,u=s.length;l<u;l++){let c=o[l],h=s[l];0!==c&&(tD.fromBufferAttribute(h,e),a?tA.addScaledVector(tD,c):tA.addScaledVector(tD.sub(i),c))}i.add(tA)}return i}raycast(e,i){let n=this.geometry,r=this.material,s=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),tS.copy(n.boundingSphere),tS.applyMatrix4(s),tw.copy(e.ray).recast(e.near),!1===tS.containsPoint(tw.origin)&&(null===tw.intersectSphere(tS,tE)||tw.origin.distanceToSquared(tE)>(e.far-e.near)**2))return;tb.copy(s).invert(),tw.copy(e.ray).applyMatrix4(tb),null!==n.boundingBox&&!1===tw.intersectsBox(n.boundingBox)||this._computeIntersections(e,i)}}_computeIntersections(e,i){let n,r=this.geometry,s=this.material,a=r.index,o=r.attributes.position,l=r.attributes.uv,u=r.attributes.uv1,c=r.attributes.normal,h=r.groups,d=r.drawRange;if(null!==a){if(Array.isArray(s))for(let p=0,f=h.length;p<f;p++){let m=h[p],g=s[m.materialIndex];for(let $=Math.max(m.start,d.start),v=Math.min(a.count,Math.min(m.start+m.count,d.start+d.count));$<v;$+=3){let y=a.getX($),_=a.getX($+1),x=a.getX($+2);(n=tF(this,g,e,tw,l,u,c,y,_,x))&&(n.faceIndex=Math.floor($/3),n.face.materialIndex=m.materialIndex,i.push(n))}}else for(let b=Math.max(0,d.start),w=Math.min(a.count,d.start+d.count);b<w;b+=3){let S=a.getX(b),E=a.getX(b+1),T=a.getX(b+2);(n=tF(this,s,e,tw,l,u,c,S,E,T))&&(n.faceIndex=Math.floor(b/3),i.push(n))}}else if(void 0!==o){if(Array.isArray(s))for(let M=0,C=h.length;M<C;M++){let D=h[M],A=s[D.materialIndex];for(let P=Math.max(D.start,d.start),L=Math.min(o.count,Math.min(D.start+D.count,d.start+d.count));P<L;P+=3)(n=tF(this,A,e,tw,l,u,c,P,P+1,P+2))&&(n.faceIndex=Math.floor(P/3),n.face.materialIndex=D.materialIndex,i.push(n))}else for(let R=Math.max(0,d.start),I=Math.min(o.count,d.start+d.count);R<I;R+=3)(n=tF(this,s,e,tw,l,u,c,R,R+1,R+2))&&(n.faceIndex=Math.floor(R/3),i.push(n))}}}function tF(e,i,n,r,s,a,o,l,u,c){e.getVertexPosition(l,tT),e.getVertexPosition(u,tM),e.getVertexPosition(c,tC);let h=function(e,i,n,r,s,a,o,l){let u;if(null===(u=1===i.side?r.intersectTriangle(o,a,s,!0,l):r.intersectTriangle(s,a,o,0===i.side,l)))return null;tO.copy(l),tO.applyMatrix4(e.matrixWorld);let c=n.ray.origin.distanceTo(tO);return c<n.near||c>n.far?null:{distance:c,point:tO.clone(),object:e}}(e,i,n,r,tT,tM,tC,tk);if(h){s&&(t0.fromBufferAttribute(s,l),t1.fromBufferAttribute(s,u),tP.fromBufferAttribute(s,c),h.uv=eZ.getInterpolation(tk,tT,tM,tC,t0,t1,tP,new _)),a&&(t0.fromBufferAttribute(a,l),t1.fromBufferAttribute(a,u),tP.fromBufferAttribute(a,c),h.uv1=eZ.getInterpolation(tk,tT,tM,tC,t0,t1,tP,new _),h.uv2=h.uv1),o&&(tL.fromBufferAttribute(o,l),tR.fromBufferAttribute(o,u),tI.fromBufferAttribute(o,c),h.normal=eZ.getInterpolation(tk,tT,tM,tC,tL,tR,tI,new j),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));let d={a:l,b:u,c:c,normal:new j,materialIndex:0};eZ.getNormal(tT,tM,tC,d.normal),h.face=d}return h}class tU extends tx{constructor(e=1,i=1,n=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:i,depth:n,widthSegments:r,heightSegments:s,depthSegments:a};let o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);let l=[],u=[],c=[],h=[],d=0,p=0;function f(e,i,n,r,s,a,f,m,g,$,v){let y=a/g,_=f/$,x=a/2,b=f/2,w=m/2,S=g+1,E=$+1,T=0,M=0,C=new j;for(let D=0;D<E;D++){let A=D*_-b;for(let P=0;P<S;P++){let L=P*y-x;C[e]=L*r,C[i]=A*s,C[n]=w,u.push(C.x,C.y,C.z),C[e]=0,C[i]=0,C[n]=m>0?1:-1,c.push(C.x,C.y,C.z),h.push(P/g),h.push(1-D/$),T+=1}}for(let R=0;R<$;R++)for(let I=0;I<g;I++){let k=d+I+S*R,O=d+I+S*(R+1),N=d+(I+1)+S*(R+1),F=d+(I+1)+S*R;l.push(k,O,F),l.push(O,N,F),M+=6}o.addGroup(p,M,v),p+=M,d+=T}f("z","y","x",-1,-1,n,i,e,a,s,0),f("z","y","x",1,-1,n,i,-e,a,s,1),f("x","z","y",1,1,e,n,i,r,a,2),f("x","z","y",1,-1,e,n,-i,r,a,3),f("x","y","z",1,-1,e,i,n,r,s,4),f("x","y","z",-1,-1,e,i,-n,r,s,5),this.setIndex(l),this.setAttribute("position",new tf(u,3)),this.setAttribute("normal",new tf(c,3)),this.setAttribute("uv",new tf(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tU(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function tz(e){let i={};for(let n in e)for(let r in i[n]={},e[n]){let s=e[n][r];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),i[n][r]=null):i[n][r]=s.clone():Array.isArray(s)?i[n][r]=s.slice():i[n][r]=s}return i}function tB(e){let i={};for(let n=0;n<e.length;n++){let r=tz(e[n]);for(let s in r)i[s]=r[s]}return i}function t3(e){return null===e.getRenderTarget()?e.outputColorSpace:n}let t2={clone:tz,merge:tB};class t4 extends eJ{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=tz(e.uniforms),this.uniformsGroups=function(e){let i=[];for(let n=0;n<e.length;n++)i.push(e[n].clone());return i}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let i=super.toJSON(e);for(let n in i.glslVersion=this.glslVersion,i.uniforms={},this.uniforms){let r=this.uniforms[n].value;r&&r.isTexture?i.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?i.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?i.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?i.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?i.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?i.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?i.uniforms[n]={type:"m4",value:r.toArray()}:i.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(i.defines=this.defines),i.vertexShader=this.vertexShader,i.fragmentShader=this.fragmentShader,i.lights=this.lights,i.clipping=this.clipping;let s={};for(let a in this.extensions)!0===this.extensions[a]&&(s[a]=!0);return Object.keys(s).length>0&&(i.extensions=s),i}}class tH extends eH{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new eb,this.projectionMatrix=new eb,this.projectionMatrixInverse=new eb}copy(e,i){return super.copy(e,i),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let i=this.matrixWorld.elements;return e.set(-i[8],-i[9],-i[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,i){super.updateWorldMatrix(e,i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class tG extends tH{constructor(e=50,i=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=i,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,i){return super.copy(e,i),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){let i=.5*this.getFilmHeight()/e;this.fov=2*c*Math.atan(i),this.updateProjectionMatrix()}getFocalLength(){let e=Math.tan(.5*u*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*c*Math.atan(Math.tan(.5*u*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,i,n,r,s,a){this.aspect=e/i,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=i,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=this.near,i=e*Math.tan(.5*u*this.fov)/this.zoom,n=2*i,r=this.aspect*n,s=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){let o=a.fullWidth,l=a.fullHeight;s+=a.offsetX*r/o,i-=a.offsetY*n/l,r*=a.width/o,n*=a.height/l}let c=this.filmOffset;0!==c&&(s+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,i,i-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let i=super.toJSON(e);return i.object.fov=this.fov,i.object.zoom=this.zoom,i.object.near=this.near,i.object.far=this.far,i.object.focus=this.focus,i.object.aspect=this.aspect,null!==this.view&&(i.object.view=Object.assign({},this.view)),i.object.filmGauge=this.filmGauge,i.object.filmOffset=this.filmOffset,i}}class t6 extends eH{constructor(e,i,n){super(),this.type="CubeCamera",this.renderTarget=n;let r=new tG(-90,1,e,i);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);let s=new tG(-90,1,e,i);s.layers=this.layers,s.up.set(0,1,0),s.lookAt(-1,0,0),this.add(s);let a=new tG(-90,1,e,i);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(0,1,0),this.add(a);let o=new tG(-90,1,e,i);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(0,-1,0),this.add(o);let l=new tG(-90,1,e,i);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);let u=new tG(-90,1,e,i);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,i){null===this.parent&&this.updateMatrixWorld();let n=this.renderTarget,[r,s,a,o,l,u]=this.children,c=e.getRenderTarget(),h=e.toneMapping,d=e.xr.enabled;e.toneMapping=0,e.xr.enabled=!1;let p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(i,r),e.setRenderTarget(n,1),e.render(i,s),e.setRenderTarget(n,2),e.render(i,a),e.setRenderTarget(n,3),e.render(i,o),e.setRenderTarget(n,4),e.render(i,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5),e.render(i,u),e.setRenderTarget(c),e.toneMapping=h,e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class tV extends B{constructor(e,i,n,r,s,a,o,l,u,c){super(e=void 0!==e?e:[],i=void 0!==i?i:301,n,r,s,a,o,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class tW extends G{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;let r={width:e,height:e,depth:1};void 0!==n.encoding&&(C("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=3001===n.encoding?i:""),this.texture=new tV([r,r,r,r,r,r],n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006}fromEquirectangularTexture(e,i){this.texture.type=i.type,this.texture.colorSpace=i.colorSpace,this.texture.generateMipmaps=i.generateMipmaps,this.texture.minFilter=i.minFilter,this.texture.magFilter=i.magFilter;let n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n				varying vec3 vWorldDirection;\n\n				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n				}\n\n				void main() {\n\n					vWorldDirection = transformDirection( position, modelMatrix );\n\n					#include <begin_vertex>\n					#include <project_vertex>\n\n				}\n			",fragmentShader:"\n\n				uniform sampler2D tEquirect;\n\n				varying vec3 vWorldDirection;\n\n				#include <common>\n\n				void main() {\n\n					vec3 direction = normalize( vWorldDirection );\n\n					vec2 sampleUV = equirectUv( direction );\n\n					gl_FragColor = texture2D( tEquirect, sampleUV );\n\n				}\n			"},r=new tU(5,5,5),s=new t4({name:"CubemapFromEquirect",uniforms:tz(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=i;let a=new tN(r,s),o=i.minFilter;return 1008===i.minFilter&&(i.minFilter=1006),new t6(1,10,this).update(e,a),i.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,i,n,r){let s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(i,n,r);e.setRenderTarget(s)}}let t5=new j,t7=new j,tX=new x;class tj{constructor(e=new j(1,0,0),i=0){this.isPlane=!0,this.normal=e,this.constant=i}set(e,i){return this.normal.copy(e),this.constant=i,this}setComponents(e,i,n,r){return this.normal.set(e,i,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,i){return this.normal.copy(e),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(e,i,n){let r=t5.subVectors(n,i).cross(t7.subVectors(e,i)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){let e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,i){return i.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,i){let n=e.delta(t5),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?i.copy(e.start):null;let s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:i.copy(e.start).addScaledVector(n,s)}intersectsLine(e){let i=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return i<0&&n>0||n<0&&i>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,i){let n=i||tX.getNormalMatrix(e),r=this.coplanarPoint(t5).applyMatrix4(e),s=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}let tq=new ef,t9=new j;class tY{constructor(e=new tj,i=new tj,n=new tj,r=new tj,s=new tj,a=new tj){this.planes=[e,i,n,r,s,a]}set(e,i,n,r,s,a){let o=this.planes;return o[0].copy(e),o[1].copy(i),o[2].copy(n),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){let i=this.planes;for(let n=0;n<6;n++)i[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){let i=this.planes,n=e.elements,r=n[0],s=n[1],a=n[2],o=n[3],l=n[4],u=n[5],c=n[6],h=n[7],d=n[8],p=n[9],f=n[10],m=n[11],g=n[12],$=n[13],v=n[14],y=n[15];return i[0].setComponents(o-r,h-l,m-d,y-g).normalize(),i[1].setComponents(o+r,h+l,m+d,y+g).normalize(),i[2].setComponents(o+s,h+u,m+p,y+$).normalize(),i[3].setComponents(o-s,h-u,m-p,y-$).normalize(),i[4].setComponents(o-a,h-c,m-f,y-v).normalize(),i[5].setComponents(o+a,h+c,m+f,y+v).normalize(),this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),tq.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{let i=e.geometry;null===i.boundingSphere&&i.computeBoundingSphere(),tq.copy(i.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(tq)}intersectsSprite(e){return tq.center.set(0,0,0),tq.radius=.7071067811865476,tq.applyMatrix4(e.matrixWorld),this.intersectsSphere(tq)}intersectsSphere(e){let i=this.planes,n=e.center,r=-e.radius;for(let s=0;s<6;s++)if(i[s].distanceToPoint(n)<r)return!1;return!0}intersectsBox(e){let i=this.planes;for(let n=0;n<6;n++){let r=i[n];if(t9.x=r.normal.x>0?e.max.x:e.min.x,t9.y=r.normal.y>0?e.max.y:e.min.y,t9.z=r.normal.z>0?e.max.z:e.min.z,0>r.distanceToPoint(t9))return!1}return!0}containsPoint(e){let i=this.planes;for(let n=0;n<6;n++)if(0>i[n].distanceToPoint(e))return!1;return!0}clone(){return(new this.constructor).copy(this)}}function tZ(){let e=null,i=!1,n=null,r=null;function s(i,a){n(i,a),r=e.requestAnimationFrame(s)}return{start:function(){!0!==i&&null!==n&&(r=e.requestAnimationFrame(s),i=!0)},stop:function(){e.cancelAnimationFrame(r),i=!1},setAnimationLoop:function(e){n=e},setContext:function(i){e=i}}}function tK(e,i){let n=i.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(i){i.isInterleavedBufferAttribute&&(i=i.data);let n=r.get(i);n&&(e.deleteBuffer(n.buffer),r.delete(i))},update:function(i,s){if(i.isGLBufferAttribute){let a=r.get(i);return void((!a||a.version<i.version)&&r.set(i,{buffer:i.buffer,type:i.type,bytesPerElement:i.elementSize,version:i.version}))}i.isInterleavedBufferAttribute&&(i=i.data);let o=r.get(i);void 0===o?r.set(i,function(i,r){let s=i.array,a=i.usage,o=e.createBuffer(),l;if(e.bindBuffer(r,o),e.bufferData(r,s,a),i.onUploadCallback(),s instanceof Float32Array)l=e.FLOAT;else if(s instanceof Uint16Array){if(i.isFloat16BufferAttribute){if(!n)throw Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");l=e.HALF_FLOAT}else l=e.UNSIGNED_SHORT}else if(s instanceof Int16Array)l=e.SHORT;else if(s instanceof Uint32Array)l=e.UNSIGNED_INT;else if(s instanceof Int32Array)l=e.INT;else if(s instanceof Int8Array)l=e.BYTE;else if(s instanceof Uint8Array)l=e.UNSIGNED_BYTE;else{if(!(s instanceof Uint8ClampedArray))throw Error("THREE.WebGLAttributes: Unsupported buffer data format: "+s);l=e.UNSIGNED_BYTE}return{buffer:o,type:l,bytesPerElement:s.BYTES_PER_ELEMENT,version:i.version}}(i,s)):o.version<i.version&&(function(i,r,s){let a=r.array,o=r.updateRange;e.bindBuffer(s,i),-1===o.count?e.bufferSubData(s,0,a):(n?e.bufferSubData(s,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(s,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,i,s),o.version=i.version)}}}class tJ extends tx{constructor(e=1,i=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:i,widthSegments:n,heightSegments:r};let s=e/2,a=i/2,o=Math.floor(n),l=Math.floor(r),u=o+1,c=l+1,h=e/o,d=i/l,p=[],f=[],m=[],g=[];for(let $=0;$<c;$++){let v=$*d-a;for(let y=0;y<u;y++){let _=y*h-s;f.push(_,-v,0),m.push(0,0,1),g.push(y/o),g.push(1-$/l)}}for(let x=0;x<l;x++)for(let b=0;b<o;b++){let w=b+u*x,S=b+u*(x+1),E=b+1+u*(x+1),T=b+1+u*x;p.push(w,S,T),p.push(S,E,T)}this.setIndex(p),this.setAttribute("position",new tf(f,3)),this.setAttribute("normal",new tf(m,3)),this.setAttribute("uv",new tf(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tJ(e.width,e.height,e.widthSegments,e.heightSegments)}}let tQ={alphamap_fragment:"#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n	if ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n	uniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_ENVMAP ) && defined( STANDARD )\n		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n	#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n	vec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( specularColor, 1.0, dotVH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n	const mat3 XYZ_TO_REC709 = mat3(\n		 3.2404542, -0.9692660,  0.0556434,\n		-1.5371385,  1.8760108, -0.2040259,\n		-0.4985314,  0.0415560,  1.0572252\n	);\n	vec3 Fresnel0ToIor( vec3 fresnel0 ) {\n		vec3 sqrtF0 = sqrt( fresnel0 );\n		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n	}\n	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n	}\n	float IorToFresnel0( float transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n	}\n	vec3 evalSensitivity( float OPD, vec3 shift ) {\n		float phase = 2.0 * PI * OPD * 1.0e-9;\n		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n		xyz /= 1.0685e-7;\n		vec3 rgb = XYZ_TO_REC709 * xyz;\n		return rgb;\n	}\n	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n		vec3 I;\n		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n		float cosTheta2Sq = 1.0 - sinTheta2Sq;\n		if ( cosTheta2Sq < 0.0 ) {\n			 return vec3( 1.0 );\n		}\n		float cosTheta2 = sqrt( cosTheta2Sq );\n		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n		float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n		float R21 = R12;\n		float T121 = 1.0 - R12;\n		float phi12 = 0.0;\n		if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n		float phi21 = PI - phi12;\n		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n		vec3 phi23 = vec3( 0.0 );\n		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n		vec3 phi = vec3( phi21 ) + phi23;\n		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n		vec3 r123 = sqrt( R123 );\n		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n		vec3 C0 = R12 + Rs;\n		I = C0;\n		vec3 Cm = Rs - T121;\n		for ( int m = 1; m <= 2; ++ m ) {\n			Cm *= r123;\n			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n			I += Cm * Sm;\n		}\n		return max( I, vec3( 0.0 ) );\n	}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vBumpMapUv );\n		vec2 dSTdy = dFdy( vBumpMapUv );\n		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n		vec3 vSigmaX = dFdx( surf_pos.xyz );\n		vec3 vSigmaY = dFdy( surf_pos.xyz );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 ) * faceDirection;\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n		plane = clippingPlanes[ i ];\n		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n	}\n	#pragma unroll_loop_end\n	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n		bool clipped = true;\n		#pragma unroll_loop_start\n		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n		}\n		#pragma unroll_loop_end\n		if ( clipped ) discard;\n	#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n	vClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n	diffuseColor *= vColor;\n#elif defined( USE_COLOR )\n	diffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR )\n	varying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	varying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n	vColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	vColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n	vColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n	vColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n	float precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n	float precisionSafeLength( vec3 v ) {\n		float maxComponent = max3( abs( v ) );\n		return length( v / maxComponent ) * maxComponent;\n	}\n#endif\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\nstruct GeometricContext {\n	vec3 position;\n	vec3 normal;\n	vec3 viewDir;\n#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n	mat3 tmp;\n	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n	return tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n	return dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n	return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	return vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n	#define cubeUV_minMipLevel 4.0\n	#define cubeUV_minTileSize 16.0\n	float getFace( vec3 direction ) {\n		vec3 absDirection = abs( direction );\n		float face = - 1.0;\n		if ( absDirection.x > absDirection.z ) {\n			if ( absDirection.x > absDirection.y )\n				face = direction.x > 0.0 ? 0.0 : 3.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		} else {\n			if ( absDirection.z > absDirection.y )\n				face = direction.z > 0.0 ? 2.0 : 5.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		}\n		return face;\n	}\n	vec2 getUV( vec3 direction, float face ) {\n		vec2 uv;\n		if ( face == 0.0 ) {\n			uv = vec2( direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 1.0 ) {\n			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n		} else if ( face == 2.0 ) {\n			uv = vec2( - direction.x, direction.y ) / abs( direction.z );\n		} else if ( face == 3.0 ) {\n			uv = vec2( - direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 4.0 ) {\n			uv = vec2( - direction.x, direction.z ) / abs( direction.y );\n		} else {\n			uv = vec2( direction.x, direction.y ) / abs( direction.z );\n		}\n		return 0.5 * ( uv + 1.0 );\n	}\n	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n		float face = getFace( direction );\n		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n		mipInt = max( mipInt, cubeUV_minMipLevel );\n		float faceSize = exp2( mipInt );\n		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n		if ( face > 2.0 ) {\n			uv.y += faceSize;\n			face -= 3.0;\n		}\n		uv.x += face * faceSize;\n		uv.x += filterInt * 3.0 * cubeUV_minTileSize;\n		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n		uv.x *= CUBEUV_TEXEL_WIDTH;\n		uv.y *= CUBEUV_TEXEL_HEIGHT;\n		#ifdef texture2DGradEXT\n			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n		#else\n			return texture2D( envMap, uv ).rgb;\n		#endif\n	}\n	#define cubeUV_r0 1.0\n	#define cubeUV_v0 0.339\n	#define cubeUV_m0 - 2.0\n	#define cubeUV_r1 0.8\n	#define cubeUV_v1 0.276\n	#define cubeUV_m1 - 1.0\n	#define cubeUV_r4 0.4\n	#define cubeUV_v4 0.046\n	#define cubeUV_m4 2.0\n	#define cubeUV_r5 0.305\n	#define cubeUV_v5 0.016\n	#define cubeUV_m5 3.0\n	#define cubeUV_r6 0.21\n	#define cubeUV_v6 0.0038\n	#define cubeUV_m6 4.0\n	float roughnessToMip( float roughness ) {\n		float mip = 0.0;\n		if ( roughness >= cubeUV_r1 ) {\n			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n		} else if ( roughness >= cubeUV_r4 ) {\n			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n		} else if ( roughness >= cubeUV_r5 ) {\n			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n		} else if ( roughness >= cubeUV_r6 ) {\n			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n		} else {\n			mip = - 2.0 * log2( 1.16 * roughness );		}\n		return mip;\n	}\n	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n		float mipF = fract( mip );\n		float mipInt = floor( mip );\n		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n		if ( mipF == 0.0 ) {\n			return vec4( color0, 1.0 );\n		} else {\n			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n			return vec4( mix( color0, color1, mipF ), 1.0 );\n		}\n	}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n	mat3 m = mat3( instanceMatrix );\n	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n	transformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#ifdef FLIP_SIDED\n		transformedTangent = - transformedTangent;\n	#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n	return value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vec3 cameraToFrag;\n		if ( isOrthographic ) {\n			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToFrag = normalize( vWorldPosition - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToFrag, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float envMapIntensity;\n	uniform float flipEnvMap;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n	uniform float reflectivity;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		varying vec3 vWorldPosition;\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n	vec3 getIBLIrradiance( const in vec3 normal ) {\n		#if defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n			return PI * envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n		#if defined( ENVMAP_TYPE_CUBE_UV )\n			vec3 reflectVec = reflect( - viewDir, normal );\n			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n			return envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex;\n		if ( isOrthographic ) {\n			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n	vFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n	varying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float vFogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n	uniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n	float dotNL = dot( normal, lightDirection );\n	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n	#ifdef USE_GRADIENTMAP\n		return vec3( texture2D( gradientMap, coord ).r );\n	#else\n		vec2 fw = fwidth( coord ) * 0.5;\n		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n	#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n	reflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n	vec3 diffuseColor;\n	float specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Lambert\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n	float x = normal.x, y = normal.y, z = normal.z;\n	vec3 result = shCoefficients[ 0 ] * 0.886227;\n	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n	return result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n	return irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	return irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	#if defined ( LEGACY_LIGHTS )\n		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n		}\n		return 1.0;\n	#else\n		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n		if ( cutoffDistance > 0.0 ) {\n			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n		}\n		return distanceFalloff;\n	#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n	return smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n		light.color = directionalLight.color;\n		light.direction = directionalLight.direction;\n		light.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n		vec3 lVector = pointLight.position - geometry.position;\n		light.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		light.color = pointLight.color;\n		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n		light.visible = ( light.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n		vec3 lVector = spotLight.position - geometry.position;\n		light.direction = normalize( lVector );\n		float angleCos = dot( light.direction, spotLight.direction );\n		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n		if ( spotAttenuation > 0.0 ) {\n			float lightDistance = length( lVector );\n			light.color = spotLight.color * spotAttenuation;\n			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n			light.visible = ( light.color != vec3( 0.0 ) );\n		} else {\n			light.color = vec3( 0.0 );\n			light.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n		float dotNL = dot( normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		return irradiance;\n	}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n	vec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Toon\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n	vec3 diffuseColor;\n	vec3 specularColor;\n	float specularShininess;\n	float specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n	material.ior = ior;\n	#ifdef USE_SPECULAR\n		float specularIntensityFactor = specularIntensity;\n		vec3 specularColorFactor = specularColor;\n		#ifdef USE_SPECULAR_COLORMAP\n			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n		#endif\n		#ifdef USE_SPECULAR_INTENSITYMAP\n			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n		#endif\n		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n	#else\n		float specularIntensityFactor = 1.0;\n		vec3 specularColorFactor = vec3( 1.0 );\n		material.specularF90 = 1.0;\n	#endif\n	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n	material.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n	material.clearcoat = clearcoat;\n	material.clearcoatRoughness = clearcoatRoughness;\n	material.clearcoatF0 = vec3( 0.04 );\n	material.clearcoatF90 = 1.0;\n	#ifdef USE_CLEARCOATMAP\n		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n	#endif\n	#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n	#endif\n	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n	material.clearcoatRoughness += geometryRoughness;\n	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n	material.iridescence = iridescence;\n	material.iridescenceIOR = iridescenceIOR;\n	#ifdef USE_IRIDESCENCEMAP\n		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n	#endif\n	#ifdef USE_IRIDESCENCE_THICKNESSMAP\n		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n	#else\n		material.iridescenceThickness = iridescenceThicknessMaximum;\n	#endif\n#endif\n#ifdef USE_SHEEN\n	material.sheenColor = sheenColor;\n	#ifdef USE_SHEEN_COLORMAP\n		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n	#endif\n	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n	#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n	vec3 diffuseColor;\n	float roughness;\n	vec3 specularColor;\n	float specularF90;\n	#ifdef USE_CLEARCOAT\n		float clearcoat;\n		float clearcoatRoughness;\n		vec3 clearcoatF0;\n		float clearcoatF90;\n	#endif\n	#ifdef USE_IRIDESCENCE\n		float iridescence;\n		float iridescenceIOR;\n		float iridescenceThickness;\n		vec3 iridescenceFresnel;\n		vec3 iridescenceF0;\n	#endif\n	#ifdef USE_SHEEN\n		vec3 sheenColor;\n		float sheenRoughness;\n	#endif\n	#ifdef IOR\n		float ior;\n	#endif\n	#ifdef USE_TRANSMISSION\n		float transmission;\n		float transmissionAlpha;\n		float thickness;\n		float attenuationDistance;\n		vec3 attenuationColor;\n	#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_CLEARCOAT\n	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n		vec3 f0 = material.clearcoatF0;\n		float f90 = material.clearcoatF90;\n		float roughness = material.clearcoatRoughness;\n		float alpha = pow2( roughness );\n		vec3 halfDir = normalize( lightDir + viewDir );\n		float dotNL = saturate( dot( normal, lightDir ) );\n		float dotNV = saturate( dot( normal, viewDir ) );\n		float dotNH = saturate( dot( normal, halfDir ) );\n		float dotVH = saturate( dot( viewDir, halfDir ) );\n		vec3 F = F_Schlick( f0, f90, dotVH );\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n		return F * ( V * D );\n	}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n	vec3 f0 = material.specularColor;\n	float f90 = material.specularF90;\n	float roughness = material.roughness;\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( f0, f90, dotVH );\n	#ifdef USE_IRIDESCENCE\n		F = mix( F, material.iridescenceFresnel, material.iridescence );\n	#endif\n	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n	float D = D_GGX( alpha, dotNH );\n	return F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n	float alpha = pow2( roughness );\n	float invAlpha = 1.0 / alpha;\n	float cos2h = dotNH * dotNH;\n	float sin2h = max( 1.0 - cos2h, 0.0078125 );\n	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float D = D_Charlie( sheenRoughness, dotNH );\n	float V = V_Neubelt( dotNV, dotNL );\n	return sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float r2 = roughness * roughness;\n	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n	return saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n	return fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	return specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	#ifdef USE_IRIDESCENCE\n		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n	#else\n		vec3 Fr = specularColor;\n	#endif\n	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n	float Ess = fab.x + fab.y;\n	float Ems = 1.0 - Ess;\n	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n	singleScatter += FssEss;\n	multiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometry.normal;\n		vec3 viewDir = geometry.viewDir;\n		vec3 position = geometry.position;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.roughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifdef USE_CLEARCOAT\n		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n		vec3 ccIrradiance = dotNLcc * directLight.color;\n		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n	#endif\n	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n	#ifdef USE_CLEARCOAT\n		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n	#endif\n	vec3 singleScattering = vec3( 0.0 );\n	vec3 multiScattering = vec3( 0.0 );\n	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n	#ifdef USE_IRIDESCENCE\n		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n	#else\n		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n	#endif\n	vec3 totalScattering = singleScattering + multiScattering;\n	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n	reflectedLight.indirectSpecular += radiance * singleScattering;\n	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n	geometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n	float dotNVi = saturate( dot( normal, geometry.viewDir ) );\n	if ( material.iridescenceThickness == 0.0 ) {\n		material.iridescence = 0.0;\n	} else {\n		material.iridescence = saturate( material.iridescence );\n	}\n	if ( material.iridescence > 0.0 ) {\n		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n	}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointLightInfo( pointLight, geometry, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n		pointLightShadow = pointLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	vec4 spotColor;\n	vec3 spotLightCoord;\n	bool inSpotLightMap;\n	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotLightInfo( spotLight, geometry, directLight );\n		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n		#else\n		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#endif\n		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n		#endif\n		#undef SPOT_LIGHT_MAP_INDEX\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		spotLightShadow = spotLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalLightInfo( directionalLight, geometry, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n		directionalLightShadow = directionalLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 iblIrradiance = vec3( 0.0 );\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n		iblIrradiance += getIBLIrradiance( geometry.normal );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n	#ifdef USE_CLEARCOAT\n		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n	#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n		varying float vIsPerspective;\n	#else\n		uniform float logDepthBufFC;\n	#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n	#else\n		if ( isPerspectiveMatrix( projectionMatrix ) ) {\n			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n			gl_Position.z *= gl_Position.w;\n		}\n	#endif\n#endif",map_fragment:"#ifdef USE_MAP\n	diffuseColor *= texture2D( map, vMapUv );\n#endif",map_pars_fragment:"#ifdef USE_MAP\n	uniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	#if defined( USE_POINTS_UV )\n		vec2 uv = vUv;\n	#else\n		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n	#endif\n#endif\n#ifdef USE_MAP\n	diffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n	varying vec2 vUv;\n#else\n	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n		uniform mat3 uvTransform;\n	#endif\n#endif\n#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n	metalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n	vColor *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		#if defined( USE_COLOR_ALPHA )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n		#elif defined( USE_COLOR )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n		#endif\n	}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n	objectNormal *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n	#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n	uniform float morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n		uniform sampler2DArray morphTargetsTexture;\n		uniform ivec2 morphTargetsTextureSize;\n		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n			int y = texelIndex / morphTargetsTextureSize.x;\n			int x = texelIndex - y * morphTargetsTextureSize.x;\n			ivec3 morphUV = ivec3( x, y, morphTargetIndex );\n			return texelFetch( morphTargetsTexture, morphUV, 0 );\n		}\n	#else\n		#ifndef USE_MORPHNORMALS\n			uniform float morphTargetInfluences[ 8 ];\n		#else\n			uniform float morphTargetInfluences[ 4 ];\n		#endif\n	#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n	transformed *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		transformed += morphTarget0 * morphTargetInfluences[ 0 ];\n		transformed += morphTarget1 * morphTargetInfluences[ 1 ];\n		transformed += morphTarget2 * morphTargetInfluences[ 2 ];\n		transformed += morphTarget3 * morphTargetInfluences[ 3 ];\n		#ifndef USE_MORPHNORMALS\n			transformed += morphTarget4 * morphTargetInfluences[ 4 ];\n			transformed += morphTarget5 * morphTargetInfluences[ 5 ];\n			transformed += morphTarget6 * morphTargetInfluences[ 6 ];\n			transformed += morphTarget7 * morphTargetInfluences[ 7 ];\n		#endif\n	#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal *= faceDirection;\n	#endif\n#endif\n#ifdef USE_NORMALMAP_TANGENTSPACE\n	#ifdef USE_TANGENT\n		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn[0] *= faceDirection;\n		tbn[1] *= faceDirection;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	#ifdef USE_TANGENT\n		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn2[0] *= faceDirection;\n		tbn2[1] *= faceDirection;\n	#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	#ifdef FLIP_SIDED\n		normal = - normal;\n	#endif\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	normal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	mapN.xy *= normalScale;\n	normal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n	#ifdef USE_TANGENT\n		vTangent = normalize( transformedTangent );\n		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n	#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n	uniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( uv.st );\n		vec2 st1 = dFdy( uv.st );\n		vec3 N = surf_norm;\n		vec3 q1perp = cross( q1, N );\n		vec3 q0perp = cross( N, q0 );\n		vec3 T = q1perp * st0.x + q0perp * st1.x;\n		vec3 B = q1perp * st0.y + q0perp * st1.y;\n		float det = max( dot( T, T ), dot( B, B ) );\n		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n		return mat3( T * scale, B * scale, N );\n	}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n	clearcoatMapN.xy *= clearcoatNormalScale;\n	clearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n	uniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform sampler2D clearcoatNormalMap;\n	uniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n	uniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform sampler2D iridescenceThicknessMap;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n	vec4 r = vec4( fract( v * PackFactors ), v );\n	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n	return packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n	mvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n	gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n	roughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n	}\n	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n		return unpackRGBATo2Half( texture2D( shadow, uv ) );\n	}\n	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n		float occlusion = 1.0;\n		vec2 distribution = texture2DDistribution( shadow, uv );\n		float hard_shadow = step( compare , distribution.x );\n		if (hard_shadow != 1.0 ) {\n			float distance = compare - distribution.x ;\n			float variance = max( 0.00000, distribution.y * distribution.y );\n			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n		}\n		return occlusion;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			float dx2 = dx0 / 2.0;\n			float dy2 = dy0 / 2.0;\n			float dx3 = dx1 / 2.0;\n			float dy3 = dy1 / 2.0;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 17.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx = texelSize.x;\n			float dy = texelSize.y;\n			vec2 uv = shadowCoord.xy;\n			vec2 f = fract( uv * shadowMapSize + 0.5 );\n			uv -= f * texelSize;\n			shadow = (\n				texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n						  f.x ),\n					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n						  f.x ),\n					 f.y )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_VSM )\n			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return shadow;\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n		vec3 lightToPosition = shadowCoord.xyz;\n		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;\n		vec3 bd3D = normalize( lightToPosition );\n		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n			return (\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n			) * ( 1.0 / 9.0 );\n		#else\n			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n		#endif\n	}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n	vec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n		shadowWorldPosition = worldPosition;\n		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n		#endif\n		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n	}\n	#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n		directionalLight = directionalLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n		spotLight = spotLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n		pointLight = pointLightShadows[ i ];\n		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#endif\n	return shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	uniform highp sampler2D boneTexture;\n	uniform int boneTextureSize;\n	mat4 getBoneMatrix( const in float i ) {\n		float j = i * 4.0;\n		float x = mod( j, float( boneTextureSize ) );\n		float y = floor( j / float( boneTextureSize ) );\n		float dx = 1.0 / float( boneTextureSize );\n		float dy = 1.0 / float( boneTextureSize );\n		y = dy * ( y + 0.5 );\n		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n		mat4 bone = mat4( v1, v2, v3, v4 );\n		return bone;\n	}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n	#ifdef USE_TANGENT\n		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n	return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n	return a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n	const mat3 ACESInputMat = mat3(\n		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),\n		vec3( 0.04823, 0.01566, 0.83777 )\n	);\n	const mat3 ACESOutputMat = mat3(\n		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),\n		vec3( -0.07367, -0.00605,  1.07602 )\n	);\n	color *= toneMappingExposure / 0.6;\n	color = ACESInputMat * color;\n	color = RRTAndODTFit( color );\n	color = ACESOutputMat * color;\n	return saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n	material.transmission = transmission;\n	material.transmissionAlpha = 1.0;\n	material.thickness = thickness;\n	material.attenuationDistance = attenuationDistance;\n	material.attenuationColor = attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n	#endif\n	vec3 pos = vWorldPosition;\n	vec3 v = normalize( cameraPosition - pos );\n	vec3 n = inverseTransformDirection( normal, viewMatrix );\n	vec4 transmission = getIBLVolumeRefraction(\n		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n		material.attenuationColor, material.attenuationDistance );\n	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );\n	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n	uniform float transmission;\n	uniform float thickness;\n	uniform float attenuationDistance;\n	uniform vec3 attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		uniform sampler2D transmissionMap;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		uniform sampler2D thicknessMap;\n	#endif\n	uniform vec2 transmissionSamplerSize;\n	uniform sampler2D transmissionSamplerMap;\n	uniform mat4 modelMatrix;\n	uniform mat4 projectionMatrix;\n	varying vec3 vWorldPosition;\n	float w0( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n	}\n	float w1( float a ) {\n		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n	}\n	float w2( float a ){\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n	}\n	float w3( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * a * a );\n	}\n	float g0( float a ) {\n		return w0( a ) + w1( a );\n	}\n	float g1( float a ) {\n		return w2( a ) + w3( a );\n	}\n	float h0( float a ) {\n		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n	}\n	float h1( float a ) {\n		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n	}\n	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n		uv = uv * texelSize.zw + 0.5;\n		vec2 iuv = floor( uv );\n		vec2 fuv = fract( uv );\n		float g0x = g0( fuv.x );\n		float g1x = g1( fuv.x );\n		float h0x = h0( fuv.x );\n		float h1x = h1( fuv.x );\n		float h0y = h0( fuv.y );\n		float h1y = h1( fuv.y );\n		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n	}\n	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n		vec2 fLodSizeInv = 1.0 / fLodSize;\n		vec2 cLodSizeInv = 1.0 / cLodSize;\n		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n		return mix( fSample, cSample, fract( lod ) );\n	}\n	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n		vec3 modelScale;\n		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n		return normalize( refractionVector ) * thickness * modelScale;\n	}\n	float applyIorToRoughness( const in float roughness, const in float ior ) {\n		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n	}\n	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n	}\n	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n		if ( isinf( attenuationDistance ) ) {\n			return radiance;\n		} else {\n			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;\n		}\n	}\n	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n		const in vec3 attenuationColor, const in float attenuationDistance ) {\n		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n		vec3 refractedRayExit = position + transmissionRay;\n		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n		vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n		refractionCoords += 1.0;\n		refractionCoords /= 2.0;\n		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n	}\n#endif",uv_pars_fragment:"#ifdef USE_UV\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	uniform mat3 mapTransform;\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform mat3 alphaMapTransform;\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	uniform mat3 lightMapTransform;\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	uniform mat3 aoMapTransform;\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	uniform mat3 bumpMapTransform;\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	uniform mat3 normalMapTransform;\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	uniform mat3 displacementMapTransform;\n	varying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	uniform mat3 emissiveMapTransform;\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	uniform mat3 metalnessMapTransform;\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	uniform mat3 roughnessMapTransform;\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	uniform mat3 clearcoatMapTransform;\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform mat3 clearcoatNormalMapTransform;\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform mat3 clearcoatRoughnessMapTransform;\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	uniform mat3 sheenColorMapTransform;\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	uniform mat3 sheenRoughnessMapTransform;\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	uniform mat3 iridescenceMapTransform;\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform mat3 iridescenceThicknessMapTransform;\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	uniform mat3 specularMapTransform;\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	uniform mat3 specularColorMapTransform;\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	uniform mat3 specularIntensityMapTransform;\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#ifdef USE_UV\n	vUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n	vec4 worldPosition = vec4( transformed, 1.0 );\n	#ifdef USE_INSTANCING\n		worldPosition = instanceMatrix * worldPosition;\n	#endif\n	worldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	gl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texColor = texture2D( t2D, vUv );\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n	uniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n	uniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n	#elif defined( ENVMAP_TYPE_CUBE_UV )\n		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n	#else\n		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n	gl_FragColor = texColor;\n	gl_FragColor.a *= opacity;\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <logdepthbuf_fragment>\n	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( fragCoordZ );\n	#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <skinbase_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldDirection );\n	vec2 sampleUV = equirectUv( direction );\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vLineDistance = scale * lineDistance;\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinbase_vertex>\n		#include <skinnormal_vertex>\n		#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_lambert_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n	vViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	vec3 viewDir = normalize( vViewPosition );\n	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n	vec3 y = cross( viewDir, x );\n	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n	#ifdef USE_MATCAP\n		vec4 matcapColor = texture2D( matcap, uv );\n	#else\n		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n	#endif\n	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n	#ifdef OPAQUE\n		gl_FragColor.a = 1.0;\n	#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n	varying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n	vWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n	#define IOR\n	#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n	uniform float ior;\n#endif\n#ifdef USE_SPECULAR\n	uniform float specularIntensity;\n	uniform vec3 specularColor;\n	#ifdef USE_SPECULAR_COLORMAP\n		uniform sampler2D specularColorMap;\n	#endif\n	#ifdef USE_SPECULAR_INTENSITYMAP\n		uniform sampler2D specularIntensityMap;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT\n	uniform float clearcoat;\n	uniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n	uniform float iridescence;\n	uniform float iridescenceIOR;\n	uniform float iridescenceThicknessMinimum;\n	uniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n	uniform vec3 sheenColor;\n	uniform float sheenRoughness;\n	#ifdef USE_SHEEN_COLORMAP\n		uniform sampler2D sheenColorMap;\n	#endif\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		uniform sampler2D sheenRoughnessMap;\n	#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <clearcoat_normal_fragment_begin>\n	#include <clearcoat_normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n	#include <transmission_fragment>\n	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n	#ifdef USE_SHEEN\n		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n	#endif\n	#ifdef USE_CLEARCOAT\n		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n	#endif\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_toon_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n	varying vec2 vUv;\n	uniform mat3 uvTransform;\n#endif\nvoid main() {\n	#ifdef USE_POINTS_UV\n		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	#endif\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	#include <logdepthbuf_fragment>\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n	vec2 scale;\n	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n}"},ie={common:{diffuse:{value:new tn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new x},alphaMap:{value:null},alphaMapTransform:{value:new x},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new x}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new x}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new x}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new x},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new x},normalScale:{value:new _(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new x},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new x}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new x}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new x}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new tn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new tn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new x}},sprite:{diffuse:{value:new tn(16777215)},opacity:{value:1},center:{value:new _(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new x},alphaMap:{value:null},alphaTest:{value:0}}},it={basic:{uniforms:tB([ie.common,ie.specularmap,ie.envmap,ie.aomap,ie.lightmap,ie.fog]),vertexShader:tQ.meshbasic_vert,fragmentShader:tQ.meshbasic_frag},lambert:{uniforms:tB([ie.common,ie.specularmap,ie.envmap,ie.aomap,ie.lightmap,ie.emissivemap,ie.bumpmap,ie.normalmap,ie.displacementmap,ie.fog,ie.lights,{emissive:{value:new tn(0)}}]),vertexShader:tQ.meshlambert_vert,fragmentShader:tQ.meshlambert_frag},phong:{uniforms:tB([ie.common,ie.specularmap,ie.envmap,ie.aomap,ie.lightmap,ie.emissivemap,ie.bumpmap,ie.normalmap,ie.displacementmap,ie.fog,ie.lights,{emissive:{value:new tn(0)},specular:{value:new tn(1118481)},shininess:{value:30}}]),vertexShader:tQ.meshphong_vert,fragmentShader:tQ.meshphong_frag},standard:{uniforms:tB([ie.common,ie.envmap,ie.aomap,ie.lightmap,ie.emissivemap,ie.bumpmap,ie.normalmap,ie.displacementmap,ie.roughnessmap,ie.metalnessmap,ie.fog,ie.lights,{emissive:{value:new tn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:tQ.meshphysical_vert,fragmentShader:tQ.meshphysical_frag},toon:{uniforms:tB([ie.common,ie.aomap,ie.lightmap,ie.emissivemap,ie.bumpmap,ie.normalmap,ie.displacementmap,ie.gradientmap,ie.fog,ie.lights,{emissive:{value:new tn(0)}}]),vertexShader:tQ.meshtoon_vert,fragmentShader:tQ.meshtoon_frag},matcap:{uniforms:tB([ie.common,ie.bumpmap,ie.normalmap,ie.displacementmap,ie.fog,{matcap:{value:null}}]),vertexShader:tQ.meshmatcap_vert,fragmentShader:tQ.meshmatcap_frag},points:{uniforms:tB([ie.points,ie.fog]),vertexShader:tQ.points_vert,fragmentShader:tQ.points_frag},dashed:{uniforms:tB([ie.common,ie.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:tQ.linedashed_vert,fragmentShader:tQ.linedashed_frag},depth:{uniforms:tB([ie.common,ie.displacementmap]),vertexShader:tQ.depth_vert,fragmentShader:tQ.depth_frag},normal:{uniforms:tB([ie.common,ie.bumpmap,ie.normalmap,ie.displacementmap,{opacity:{value:1}}]),vertexShader:tQ.meshnormal_vert,fragmentShader:tQ.meshnormal_frag},sprite:{uniforms:tB([ie.sprite,ie.fog]),vertexShader:tQ.sprite_vert,fragmentShader:tQ.sprite_frag},background:{uniforms:{uvTransform:{value:new x},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:tQ.background_vert,fragmentShader:tQ.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:tQ.backgroundCube_vert,fragmentShader:tQ.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:tQ.cube_vert,fragmentShader:tQ.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:tQ.equirect_vert,fragmentShader:tQ.equirect_frag},distanceRGBA:{uniforms:tB([ie.common,ie.displacementmap,{referencePosition:{value:new j},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:tQ.distanceRGBA_vert,fragmentShader:tQ.distanceRGBA_frag},shadow:{uniforms:tB([ie.lights,ie.fog,{color:{value:new tn(0)},opacity:{value:1}}]),vertexShader:tQ.shadow_vert,fragmentShader:tQ.shadow_frag}};it.physical={uniforms:tB([it.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new x},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new x},clearcoatNormalScale:{value:new _(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new x},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new x},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new x},sheen:{value:0},sheenColor:{value:new tn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new x},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new x},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new x},transmissionSamplerSize:{value:new _},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new x},attenuationDistance:{value:0},attenuationColor:{value:new tn(0)},specularColor:{value:new tn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new x},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new x}}]),vertexShader:tQ.meshphysical_vert,fragmentShader:tQ.meshphysical_frag};let ii={r:0,b:0,g:0};function ir(e,n,r,s,a,o,l){let u=new tn(0),c,h,d=!0===o?0:1,p=null,f=0,m=null;function g(i,n){i.getRGB(ii,t3(e)),s.buffers.color.setClear(ii.r,ii.g,ii.b,n,l)}return{getClearColor:function(){return u},setClearColor:function(e,i=1){u.set(e),g(u,d=i)},getClearAlpha:function(){return d},setClearAlpha:function(e){g(u,d=e)},render:function(o,$){let v=!1,y=!0===$.isScene?$.background:null;switch(y&&y.isTexture&&(y=($.backgroundBlurriness>0?r:n).get(y)),null===y?g(u,d):y&&y.isColor&&(g(y,1),v=!0),e.xr.getEnvironmentBlendMode()){case"opaque":v=!0;break;case"additive":s.buffers.color.setClear(0,0,0,1,l),v=!0;break;case"alpha-blend":s.buffers.color.setClear(0,0,0,0,l),v=!0}(e.autoClear||v)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),y&&(y.isCubeTexture||306===y.mapping)?(void 0===h&&((h=new tN(new tU(1,1,1),new t4({name:"BackgroundCubeMaterial",uniforms:tz(it.backgroundCube.uniforms),vertexShader:it.backgroundCube.vertexShader,fragmentShader:it.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(e,i,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(h)),h.material.uniforms.envMap.value=y,h.material.uniforms.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1,h.material.uniforms.backgroundBlurriness.value=$.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=$.backgroundIntensity,h.material.toneMapped=y.colorSpace!==i,p===y&&f===y.version&&m===e.toneMapping||(h.material.needsUpdate=!0,p=y,f=y.version,m=e.toneMapping),h.layers.enableAll(),o.unshift(h,h.geometry,h.material,0,0,null)):y&&y.isTexture&&(void 0===c&&((c=new tN(new tJ(2,2),new t4({name:"BackgroundMaterial",uniforms:tz(it.background.uniforms),vertexShader:it.background.vertexShader,fragmentShader:it.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(c)),c.material.uniforms.t2D.value=y,c.material.uniforms.backgroundIntensity.value=$.backgroundIntensity,c.material.toneMapped=y.colorSpace!==i,!0===y.matrixAutoUpdate&&y.updateMatrix(),c.material.uniforms.uvTransform.value.copy(y.matrix),p===y&&f===y.version&&m===e.toneMapping||(c.material.needsUpdate=!0,p=y,f=y.version,m=e.toneMapping),c.layers.enableAll(),o.unshift(c,c.geometry,c.material,0,0,null))}}}function is(e,i,n,r){let s=e.getParameter(e.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:i.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,l={},u=f(null),c=u,h=!1;function d(i){return r.isWebGL2?e.bindVertexArray(i):a.bindVertexArrayOES(i)}function p(i){return r.isWebGL2?e.deleteVertexArray(i):a.deleteVertexArrayOES(i)}function f(e){let i=[],n=[],r=[];for(let a=0;a<s;a++)i[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:i,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function m(){let e=c.newAttributes;for(let i=0,n=e.length;i<n;i++)e[i]=0}function g(e){$(e,0)}function $(n,s){let a=c.newAttributes,o=c.enabledAttributes,l=c.attributeDivisors;a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),l[n]!==s&&((r.isWebGL2?e:i.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,s),l[n]=s)}function v(){let i=c.newAttributes,n=c.enabledAttributes;for(let r=0,s=n.length;r<s;r++)n[r]!==i[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(i,n,s,a,o,l){!0!==r.isWebGL2||s!==e.INT&&s!==e.UNSIGNED_INT?e.vertexAttribPointer(i,n,s,a,o,l):e.vertexAttribIPointer(i,n,s,o,l)}function _(){x(),h=!0,c!==u&&d((c=u).object)}function x(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(s,u,p,_,x){let b=!1;if(o){let w=function(i,n,s){let o=!0===s.wireframe,u=l[i.id];void 0===u&&(u={},l[i.id]=u);let c=u[n.id];void 0===c&&(c={},u[n.id]=c);let h=c[o];return void 0===h&&(h=f(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),c[o]=h),h}(_,p,u);c!==w&&d((c=w).object),(b=function(e,i,n,r){let s=c.attributes,a=i.attributes,o=0,l=n.getAttributes();for(let u in l)if(l[u].location>=0){let h=s[u],d=a[u];if(void 0===d&&("instanceMatrix"===u&&e.instanceMatrix&&(d=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(d=e.instanceColor)),void 0===h||h.attribute!==d||d&&h.data!==d.data)return!0;o++}return c.attributesNum!==o||c.index!==r}(s,_,p,x))&&function(e,i,n,r){let s={},a=i.attributes,o=0,l=n.getAttributes();for(let u in l)if(l[u].location>=0){let h=a[u];void 0===h&&("instanceMatrix"===u&&e.instanceMatrix&&(h=e.instanceMatrix),"instanceColor"===u&&e.instanceColor&&(h=e.instanceColor));let d={};d.attribute=h,h&&h.data&&(d.data=h.data),s[u]=d,o++}c.attributes=s,c.attributesNum=o,c.index=r}(s,_,p,x)}else{let S=!0===u.wireframe;c.geometry===_.id&&c.program===p.id&&c.wireframe===S||(c.geometry=_.id,c.program=p.id,c.wireframe=S,b=!0)}null!==x&&n.update(x,e.ELEMENT_ARRAY_BUFFER),(b||h)&&(h=!1,function(s,a,o,l){if(!1===r.isWebGL2&&(s.isInstancedMesh||l.isInstancedBufferGeometry)&&null===i.get("ANGLE_instanced_arrays"))return;m();let u=l.attributes,c=o.getAttributes(),h=a.defaultAttributeValues;for(let d in c){let p=c[d];if(p.location>=0){let f=u[d];if(void 0===f&&("instanceMatrix"===d&&s.instanceMatrix&&(f=s.instanceMatrix),"instanceColor"===d&&s.instanceColor&&(f=s.instanceColor)),void 0!==f){let _=f.normalized,x=f.itemSize,b=n.get(f);if(void 0===b)continue;let w=b.buffer,S=b.type,E=b.bytesPerElement;if(f.isInterleavedBufferAttribute){let T=f.data,M=T.stride,C=f.offset;if(T.isInstancedInterleavedBuffer){for(let D=0;D<p.locationSize;D++)$(p.location+D,T.meshPerAttribute);!0!==s.isInstancedMesh&&void 0===l._maxInstanceCount&&(l._maxInstanceCount=T.meshPerAttribute*T.count)}else for(let A=0;A<p.locationSize;A++)g(p.location+A);e.bindBuffer(e.ARRAY_BUFFER,w);for(let P=0;P<p.locationSize;P++)y(p.location+P,x/p.locationSize,S,_,M*E,(C+x/p.locationSize*P)*E)}else{if(f.isInstancedBufferAttribute){for(let L=0;L<p.locationSize;L++)$(p.location+L,f.meshPerAttribute);!0!==s.isInstancedMesh&&void 0===l._maxInstanceCount&&(l._maxInstanceCount=f.meshPerAttribute*f.count)}else for(let R=0;R<p.locationSize;R++)g(p.location+R);e.bindBuffer(e.ARRAY_BUFFER,w);for(let I=0;I<p.locationSize;I++)y(p.location+I,x/p.locationSize,S,_,x*E,x/p.locationSize*I*E)}}else if(void 0!==h){let k=h[d];if(void 0!==k)switch(k.length){case 2:e.vertexAttrib2fv(p.location,k);break;case 3:e.vertexAttrib3fv(p.location,k);break;case 4:e.vertexAttrib4fv(p.location,k);break;default:e.vertexAttrib1fv(p.location,k)}}}}v()}(s,u,p,_),null!==x&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(x).buffer))},reset:_,resetDefaultState:x,dispose:function(){for(let e in _(),l){let i=l[e];for(let n in i){let r=i[n];for(let s in r)p(r[s].object),delete r[s];delete i[n]}delete l[e]}},releaseStatesOfGeometry:function(e){if(void 0===l[e.id])return;let i=l[e.id];for(let n in i){let r=i[n];for(let s in r)p(r[s].object),delete r[s];delete i[n]}delete l[e.id]},releaseStatesOfProgram:function(e){for(let i in l){let n=l[i];if(void 0===n[e.id])continue;let r=n[e.id];for(let s in r)p(r[s].object),delete r[s];delete n[e.id]}},initAttributes:m,enableAttribute:g,disableUnusedAttributes:v}}function ia(e,i,n,r){let s=r.isWebGL2,a;this.setMode=function(e){a=e},this.render=function(i,r){e.drawArrays(a,i,r),n.update(r,a,1)},this.renderInstances=function(r,o,l){if(0===l)return;let u,c;if(s)u=e,c="drawArraysInstanced";else if(u=i.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===u)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[c](a,r,o,l),n.update(o,a,l)}}function io(e,i,n){let r;function s(i){if("highp"===i){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";i="mediump"}return"mediump"===i&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let a="undefined"!=typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,o=void 0!==n.precision?n.precision:"highp",l=s(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);let u=a||i.has("WEBGL_draw_buffers"),c=!0===n.logarithmicDepthBuffer,h=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),d=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=e.getParameter(e.MAX_TEXTURE_SIZE),f=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),m=e.getParameter(e.MAX_VERTEX_ATTRIBS),g=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),$=e.getParameter(e.MAX_VARYING_VECTORS),v=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),y=d>0,_=a||i.has("OES_texture_float");return{isWebGL2:a,drawBuffers:u,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===i.has("EXT_texture_filter_anisotropic")){let n=i.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:s,precision:o,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:f,maxAttributes:m,maxVertexUniforms:g,maxVaryings:$,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:_,floatVertexTextures:y&&_,maxSamples:a?e.getParameter(e.MAX_SAMPLES):0}}function il(e){let i=this,n=null,r=0,s=!1,a=!1,o=new tj,l=new x,u={value:null,needsUpdate:!1};function c(e,n,r,s){let a=null!==e?e.length:0,c=null;if(0!==a){if(c=u.value,!0!==s||null===c){let h=r+4*a,d=n.matrixWorldInverse;l.getNormalMatrix(d),(null===c||c.length<h)&&(c=new Float32Array(h));for(let p=0,f=r;p!==a;++p,f+=4)o.copy(e[p]).applyMatrix4(d,l),o.normal.toArray(c,f),c[f+3]=o.constant}u.value=c,u.needsUpdate=!0}return i.numPlanes=a,i.numIntersection=0,c}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i){let n=0!==e.length||i||0!==r||s;return s=i,r=e.length,n},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,i){n=c(e,i,0)},this.setState=function(o,l,h){let d=o.clippingPlanes,p=o.clipIntersection,f=o.clipShadows,m=e.get(o);if(s&&null!==d&&0!==d.length&&(!a||f)){let g=a?0:r,$=4*g,v=m.clippingState||null;u.value=v,v=c(d,l,$,h);for(let y=0;y!==$;++y)v[y]=n[y];m.clippingState=v,this.numIntersection=p?this.numPlanes:0,this.numPlanes+=g}else a?c(null):(u.value!==n&&(u.value=n,u.needsUpdate=r>0),i.numPlanes=r,i.numIntersection=0)}}function iu(e){let i=new WeakMap;function n(e,i){return 303===i?e.mapping=301:304===i&&(e.mapping=302),e}function r(e){let n=e.target;n.removeEventListener("dispose",r);let s=i.get(n);void 0!==s&&(i.delete(n),s.dispose())}return{get:function(s){if(s&&s.isTexture&&!1===s.isRenderTargetTexture){let a=s.mapping;if(303===a||304===a){if(i.has(s))return n(i.get(s).texture,s.mapping);{let o=s.image;if(o&&o.height>0){let l=new tW(o.height/2);return l.fromEquirectangularTexture(e,s),i.set(s,l),s.addEventListener("dispose",r),n(l.texture,s.mapping)}return null}}}return s},dispose:function(){i=new WeakMap}}}class ic extends tH{constructor(e=-1,i=1,n=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=i,this.top=n,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,i){return super.copy(e,i),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,i,n,r,s,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=i,this.view.offsetX=n,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),i=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,s=n-e,a=n+e,o=r+i,l=r-i;if(null!==this.view&&this.view.enabled){let u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=c*this.view.offsetY,l=o-c*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let i=super.toJSON(e);return i.object.zoom=this.zoom,i.object.left=this.left,i.object.right=this.right,i.object.top=this.top,i.object.bottom=this.bottom,i.object.near=this.near,i.object.far=this.far,null!==this.view&&(i.object.view=Object.assign({},this.view)),i}}let ih=[.125,.215,.35,.446,.526,.582],id=new ic,ip=new tn,im=null,ig=(1+Math.sqrt(5))/2,i$=1/ig,iv=[new j(1,1,1),new j(-1,1,1),new j(1,1,-1),new j(-1,1,-1),new j(0,ig,i$),new j(0,ig,-i$),new j(i$,0,ig),new j(-i$,0,ig),new j(ig,i$,0),new j(-ig,i$,0)];class iy{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,i=0,n=.1,r=100){im=this._renderer.getRenderTarget(),this._setSize(256);let s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,n,r,s),i>0&&this._blur(s,0,0,i),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,i=null){return this._fromTexture(e,i)}fromCubemap(e,i=null){return this._fromTexture(e,i)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=ib(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=ix(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(im),e.scissorTest=!1,i_(e,0,0,e.width,e.height)}_fromTexture(e,i){301===e.mapping||302===e.mapping?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),im=this._renderer.getRenderTarget();let n=i||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,r={magFilter:1006,minFilter:1006,generateMipmaps:!1,type:1016,format:1023,colorSpace:n,depthBuffer:!1},s=i8(e,i,r);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==i){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=i8(e,i,r);let{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){let i=[],n=[],r=[],s=e,a=e-4+1+ih.length;for(let o=0;o<a;o++){let l=Math.pow(2,s);n.push(l);let u=1/l;o>e-4?u=ih[o-e+4-1]:0===o&&(u=0),r.push(u);let c=1/(l-2),h=-c,d=1+c,p=[h,h,d,h,d,d,h,h,d,d,h,d],f=new Float32Array(108),m=new Float32Array(72),g=new Float32Array(36);for(let $=0;$<6;$++){let v=$%3*2/3-1,y=$>2?0:-1,_=[v,y,0,v+2/3,y,0,v+2/3,y+1,0,v,y,0,v+2/3,y+1,0,v,y+1,0];f.set(_,18*$),m.set(p,12*$);let x=[$,$,$,$,$,$];g.set(x,6*$)}let b=new tx;b.setAttribute("position",new th(f,3)),b.setAttribute("uv",new th(m,2)),b.setAttribute("faceIndex",new th(g,1)),i.push(b),s>4&&s--}return{lodPlanes:i,sizeLods:n,sigmas:r}}(a)),this._blurMaterial=function(e,i,n){let r=new Float32Array(20),s=new j(0,1,0),a=new t4({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/i,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:iw(),fragmentShader:"\n\n			precision mediump float;\n			precision mediump int;\n\n			varying vec3 vOutputDirection;\n\n			uniform sampler2D envMap;\n			uniform int samples;\n			uniform float weights[ n ];\n			uniform bool latitudinal;\n			uniform float dTheta;\n			uniform float mipInt;\n			uniform vec3 poleAxis;\n\n			#define ENVMAP_TYPE_CUBE_UV\n			#include <cube_uv_reflection_fragment>\n\n			vec3 getSample( float theta, vec3 axis ) {\n\n				float cosTheta = cos( theta );\n				// Rodrigues' axis-angle rotation\n				vec3 sampleDirection = vOutputDirection * cosTheta\n					+ cross( axis, vOutputDirection ) * sin( theta )\n					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n				return bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n			}\n\n			void main() {\n\n				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n				}\n\n				axis = normalize( axis );\n\n				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n				for ( int i = 1; i < n; i++ ) {\n\n					if ( i >= samples ) {\n\n						break;\n\n					}\n\n					float theta = dTheta * float( i );\n					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n				}\n\n			}\n		",blending:0,depthTest:!1,depthWrite:!1});return a}(a,e,i)}return s}_compileMaterial(e){let i=new tN(this._lodPlanes[0],e);this._renderer.compile(i,id)}_sceneToCubeUV(e,i,n,r){let s=new tG(90,1,i,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],l=this._renderer,u=l.autoClear,c=l.toneMapping;l.getClearColor(ip),l.toneMapping=0,l.autoClear=!1;let h=new ts({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),d=new tN(new tU,h),p=!1,f=e.background;f?f.isColor&&(h.color.copy(f),e.background=null,p=!0):(h.color.copy(ip),p=!0);for(let m=0;m<6;m++){let g=m%3;0===g?(s.up.set(0,a[m],0),s.lookAt(o[m],0,0)):1===g?(s.up.set(0,0,a[m]),s.lookAt(0,o[m],0)):(s.up.set(0,a[m],0),s.lookAt(0,0,o[m]));let $=this._cubeSize;i_(r,g*$,m>2?$:0,$,$),l.setRenderTarget(r),p&&l.render(d,s),l.render(e,s)}d.geometry.dispose(),d.material.dispose(),l.toneMapping=c,l.autoClear=u,e.background=f}_textureToCubeUV(e,i){let n=this._renderer,r=301===e.mapping||302===e.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=ib()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=ix());let s=r?this._cubemapMaterial:this._equirectMaterial,a=new tN(this._lodPlanes[0],s);s.uniforms.envMap.value=e;let o=this._cubeSize;i_(i,0,0,3*o,2*o),n.setRenderTarget(i),n.render(a,id)}_applyPMREM(e){let i=this._renderer,n=i.autoClear;i.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){let s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=iv[(r-1)%iv.length];this._blur(e,r-1,r,s,a)}i.autoClear=n}_blur(e,i,n,r,s){let a=this._pingPongRenderTarget;this._halfBlur(e,a,i,n,r,"latitudinal",s),this._halfBlur(a,e,n,n,r,"longitudinal",s)}_halfBlur(e,i,n,r,s,a,o){let l=this._renderer,u=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");let c=new tN(this._lodPlanes[r],u),h=u.uniforms,d=this._sizeLods[n]-1,p=isFinite(s)?Math.PI/(2*d):2*Math.PI/39,f=s/p,m=isFinite(s)?1+Math.floor(3*f):20;m>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);let g=[],$=0;for(let v=0;v<20;++v){let y=v/f,_=Math.exp(-y*y/2);g.push(_),0===v?$+=_:v<m&&($+=2*_)}for(let x=0;x<g.length;x++)g[x]=g[x]/$;h.envMap.value=e.texture,h.samples.value=m,h.weights.value=g,h.latitudinal.value="latitudinal"===a,o&&(h.poleAxis.value=o);let{_lodMax:b}=this;h.dTheta.value=p,h.mipInt.value=b-n;let w=this._sizeLods[r];i_(i,3*w*(r>b-4?r-b+4:0),4*(this._cubeSize-w),3*w,2*w),l.setRenderTarget(i),l.render(c,id)}}function i8(e,i,n){let r=new G(e,i,n);return r.texture.mapping=306,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function i_(e,i,n,r,s){e.viewport.set(i,n,r,s),e.scissor.set(i,n,r,s)}function ix(){return new t4({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:iw(),fragmentShader:"\n\n			precision mediump float;\n			precision mediump int;\n\n			varying vec3 vOutputDirection;\n\n			uniform sampler2D envMap;\n\n			#include <common>\n\n			void main() {\n\n				vec3 outputDirection = normalize( vOutputDirection );\n				vec2 uv = equirectUv( outputDirection );\n\n				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n			}\n		",blending:0,depthTest:!1,depthWrite:!1})}function ib(){return new t4({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:iw(),fragmentShader:"\n\n			precision mediump float;\n			precision mediump int;\n\n			uniform float flipEnvMap;\n\n			varying vec3 vOutputDirection;\n\n			uniform samplerCube envMap;\n\n			void main() {\n\n				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n			}\n		",blending:0,depthTest:!1,depthWrite:!1})}function iw(){return"\n\n		precision mediump float;\n		precision mediump int;\n\n		attribute float faceIndex;\n\n		varying vec3 vOutputDirection;\n\n		// RH coordinate system; PMREM face-indexing convention\n		vec3 getDirection( vec2 uv, float face ) {\n\n			uv = 2.0 * uv - 1.0;\n\n			vec3 direction = vec3( uv, 1.0 );\n\n			if ( face == 0.0 ) {\n\n				direction = direction.zyx; // ( 1, v, u ) pos x\n\n			} else if ( face == 1.0 ) {\n\n				direction = direction.xzy;\n				direction.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n			} else if ( face == 2.0 ) {\n\n				direction.x *= -1.0; // ( -u, v, 1 ) pos z\n\n			} else if ( face == 3.0 ) {\n\n				direction = direction.zyx;\n				direction.xz *= -1.0; // ( -1, v, -u ) neg x\n\n			} else if ( face == 4.0 ) {\n\n				direction = direction.xzy;\n				direction.xy *= -1.0; // ( -u, -1, v ) neg y\n\n			} else if ( face == 5.0 ) {\n\n				direction.z *= -1.0; // ( u, v, -1 ) neg z\n\n			}\n\n			return direction;\n\n		}\n\n		void main() {\n\n			vOutputDirection = getDirection( uv, faceIndex );\n			gl_Position = vec4( position, 1.0 );\n\n		}\n	"}function iS(e){let i=new WeakMap,n=null;function r(e){let n=e.target;n.removeEventListener("dispose",r);let s=i.get(n);void 0!==s&&(i.delete(n),s.dispose())}return{get:function(s){if(s&&s.isTexture){let a=s.mapping,o=303===a||304===a,l=301===a||302===a;if(o||l){if(s.isRenderTargetTexture&&!0===s.needsPMREMUpdate){s.needsPMREMUpdate=!1;let u=i.get(s);return null===n&&(n=new iy(e)),u=o?n.fromEquirectangular(s,u):n.fromCubemap(s,u),i.set(s,u),u.texture}if(i.has(s))return i.get(s).texture;{let c=s.image;if(o&&c&&c.height>0||l&&c&&function(e){let i=0;for(let n=0;n<6;n++)void 0!==e[n]&&i++;return 6===i}(c)){null===n&&(n=new iy(e));let h=o?n.fromEquirectangular(s):n.fromCubemap(s);return i.set(s,h),s.addEventListener("dispose",r),h.texture}return null}}}return s},dispose:function(){i=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function iE(e){let i={};function n(n){if(void 0!==i[n])return i[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return i[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){let i=n(e);return null===i&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),i}}}function iT(e,i,n,r){let s={},a=new WeakMap;function o(e){let l=e.target;for(let u in null!==l.index&&i.remove(l.index),l.attributes)i.remove(l.attributes[u]);l.removeEventListener("dispose",o),delete s[l.id];let c=a.get(l);c&&(i.remove(c),a.delete(l)),r.releaseStatesOfGeometry(l),!0===l.isInstancedBufferGeometry&&delete l._maxInstanceCount,n.memory.geometries--}function l(e){let n=[],r=e.index,s=e.attributes.position,o=0;if(null!==r){let l=r.array;o=r.version;for(let u=0,c=l.length;u<c;u+=3){let h=l[u+0],d=l[u+1],p=l[u+2];n.push(h,d,d,p,p,h)}}else{let f=s.array;o=s.version;for(let m=0,g=f.length/3-1;m<g;m+=3){let $=m+0,v=m+1,y=m+2;n.push($,v,v,y,y,$)}}let _=new(w(n)?tp:td)(n,1);_.version=o;let x=a.get(e);x&&i.remove(x),a.set(e,_)}return{get:function(e,i){return!0===s[i.id]||(i.addEventListener("dispose",o),s[i.id]=!0,n.memory.geometries++),i},update:function(n){let r=n.attributes;for(let s in r)i.update(r[s],e.ARRAY_BUFFER);let a=n.morphAttributes;for(let o in a){let l=a[o];for(let u=0,c=l.length;u<c;u++)i.update(l[u],e.ARRAY_BUFFER)}},getWireframeAttribute:function(e){let i=a.get(e);if(i){let n=e.index;null!==n&&i.version<n.version&&l(e)}else l(e);return a.get(e)}}}function iM(e,i,n,r){let s=r.isWebGL2,a,o,l;this.setMode=function(e){a=e},this.setIndex=function(e){o=e.type,l=e.bytesPerElement},this.render=function(i,r){e.drawElements(a,r,o,i*l),n.update(r,a,1)},this.renderInstances=function(r,u,c){if(0===c)return;let h,d;if(s)h=e,d="drawElementsInstanced";else if(h=i.get("ANGLE_instanced_arrays"),d="drawElementsInstancedANGLE",null===h)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[d](a,u,o,r*l,c),n.update(u,a,c)}}function iC(e){let i={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:i,programs:null,autoReset:!0,reset:function(){i.frame++,i.calls=0,i.triangles=0,i.points=0,i.lines=0},update:function(n,r,s){switch(i.calls++,r){case e.TRIANGLES:i.triangles+=s*(n/3);break;case e.LINES:i.lines+=s*(n/2);break;case e.LINE_STRIP:i.lines+=s*(n-1);break;case e.LINE_LOOP:i.lines+=s*n;break;case e.POINTS:i.points+=s*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function iD(e,i){return e[0]-i[0]}function iA(e,i){return Math.abs(i[1])-Math.abs(e[1])}function i0(e,i,n){let r={},s=new Float32Array(8),a=new WeakMap,o=new H,l=[];for(let u=0;u<8;u++)l[u]=[u,0];return{update:function(u,c,h){let d=u.morphTargetInfluences;if(!0===i.isWebGL2){let p=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,f=void 0!==p?p.length:0,m=a.get(c);if(void 0===m||m.count!==f){void 0!==m&&m.texture.dispose();let g=void 0!==c.morphAttributes.position,$=void 0!==c.morphAttributes.normal,v=void 0!==c.morphAttributes.color,y=c.morphAttributes.position||[],x=c.morphAttributes.normal||[],b=c.morphAttributes.color||[],w=0;!0===g&&(w=1),!0===$&&(w=2),!0===v&&(w=3);let S=c.attributes.position.count*w,E=1;S>i.maxTextureSize&&(E=Math.ceil(S/i.maxTextureSize),S=i.maxTextureSize);let T=new Float32Array(S*E*4*f),M=new V(T,S,E,f);M.type=1015,M.needsUpdate=!0;let C=4*w;for(let D=0;D<f;D++){let A=y[D],P=x[D],L=b[D],R=S*E*4*D;for(let I=0;I<A.count;I++){let k=I*C;!0===g&&(o.fromBufferAttribute(A,I),T[R+k+0]=o.x,T[R+k+1]=o.y,T[R+k+2]=o.z,T[R+k+3]=0),!0===$&&(o.fromBufferAttribute(P,I),T[R+k+4]=o.x,T[R+k+5]=o.y,T[R+k+6]=o.z,T[R+k+7]=0),!0===v&&(o.fromBufferAttribute(L,I),T[R+k+8]=o.x,T[R+k+9]=o.y,T[R+k+10]=o.z,T[R+k+11]=4===L.itemSize?o.w:1)}}function O(){M.dispose(),a.delete(c),c.removeEventListener("dispose",O)}m={count:f,texture:M,size:new _(S,E)},a.set(c,m),c.addEventListener("dispose",O)}let N=0;for(let F=0;F<d.length;F++)N+=d[F];let U=c.morphTargetsRelative?1:1-N;h.getUniforms().setValue(e,"morphTargetBaseInfluence",U),h.getUniforms().setValue(e,"morphTargetInfluences",d),h.getUniforms().setValue(e,"morphTargetsTexture",m.texture,n),h.getUniforms().setValue(e,"morphTargetsTextureSize",m.size)}else{let z=void 0===d?0:d.length,B=r[c.id];if(void 0===B||B.length!==z){B=[];for(let H=0;H<z;H++)B[H]=[H,0];r[c.id]=B}for(let G=0;G<z;G++){let W=B[G];W[0]=G,W[1]=d[G]}B.sort(iA);for(let X=0;X<8;X++)X<z&&B[X][1]?(l[X][0]=B[X][0],l[X][1]=B[X][1]):(l[X][0]=Number.MAX_SAFE_INTEGER,l[X][1]=0);l.sort(iD);let j=c.morphAttributes.position,q=c.morphAttributes.normal,Y=0;for(let Z=0;Z<8;Z++){let K=l[Z],J=K[0],Q=K[1];J!==Number.MAX_SAFE_INTEGER&&Q?(j&&c.getAttribute("morphTarget"+Z)!==j[J]&&c.setAttribute("morphTarget"+Z,j[J]),q&&c.getAttribute("morphNormal"+Z)!==q[J]&&c.setAttribute("morphNormal"+Z,q[J]),s[Z]=Q,Y+=Q):(j&&!0===c.hasAttribute("morphTarget"+Z)&&c.deleteAttribute("morphTarget"+Z),q&&!0===c.hasAttribute("morphNormal"+Z)&&c.deleteAttribute("morphNormal"+Z),s[Z]=0)}let ee=c.morphTargetsRelative?1:1-Y;h.getUniforms().setValue(e,"morphTargetBaseInfluence",ee),h.getUniforms().setValue(e,"morphTargetInfluences",s)}}}}function i1(e,i,n,r){let s=new WeakMap;function a(e){let i=e.target;i.removeEventListener("dispose",a),n.remove(i.instanceMatrix),null!==i.instanceColor&&n.remove(i.instanceColor)}return{update:function(o){let l=r.render.frame,u=o.geometry,c=i.get(o,u);return s.get(c)!==l&&(i.update(c),s.set(c,l)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER)),c},dispose:function(){s=new WeakMap}}}let iP=new B,iL=new V,iR=new W,iI=new tV,ik=[],iO=[],iN=new Float32Array(16),iF=new Float32Array(9),iU=new Float32Array(4);function iz(e,i,n){let r=e[0];if(r<=0||r>0)return e;let s=i*n,a=ik[s];if(void 0===a&&(a=new Float32Array(s),ik[s]=a),0!==i){r.toArray(a,0);for(let o=1,l=0;o!==i;++o)l+=n,e[o].toArray(a,l)}return a}function iB(e,i){if(e.length!==i.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==i[n])return!1;return!0}function i3(e,i){for(let n=0,r=i.length;n<r;n++)e[n]=i[n]}function i2(e,i){let n=iO[i];void 0===n&&(n=new Int32Array(i),iO[i]=n);for(let r=0;r!==i;++r)n[r]=e.allocateTextureUnit();return n}function i4(e,i){let n=this.cache;n[0]!==i&&(e.uniform1f(this.addr,i),n[0]=i)}function iH(e,i){let n=this.cache;if(void 0!==i.x)n[0]===i.x&&n[1]===i.y||(e.uniform2f(this.addr,i.x,i.y),n[0]=i.x,n[1]=i.y);else{if(iB(n,i))return;e.uniform2fv(this.addr,i),i3(n,i)}}function iG(e,i){let n=this.cache;if(void 0!==i.x)n[0]===i.x&&n[1]===i.y&&n[2]===i.z||(e.uniform3f(this.addr,i.x,i.y,i.z),n[0]=i.x,n[1]=i.y,n[2]=i.z);else if(void 0!==i.r)n[0]===i.r&&n[1]===i.g&&n[2]===i.b||(e.uniform3f(this.addr,i.r,i.g,i.b),n[0]=i.r,n[1]=i.g,n[2]=i.b);else{if(iB(n,i))return;e.uniform3fv(this.addr,i),i3(n,i)}}function i6(e,i){let n=this.cache;if(void 0!==i.x)n[0]===i.x&&n[1]===i.y&&n[2]===i.z&&n[3]===i.w||(e.uniform4f(this.addr,i.x,i.y,i.z,i.w),n[0]=i.x,n[1]=i.y,n[2]=i.z,n[3]=i.w);else{if(iB(n,i))return;e.uniform4fv(this.addr,i),i3(n,i)}}function iV(e,i){let n=this.cache,r=i.elements;if(void 0===r){if(iB(n,i))return;e.uniformMatrix2fv(this.addr,!1,i),i3(n,i)}else{if(iB(n,r))return;iU.set(r),e.uniformMatrix2fv(this.addr,!1,iU),i3(n,r)}}function iW(e,i){let n=this.cache,r=i.elements;if(void 0===r){if(iB(n,i))return;e.uniformMatrix3fv(this.addr,!1,i),i3(n,i)}else{if(iB(n,r))return;iF.set(r),e.uniformMatrix3fv(this.addr,!1,iF),i3(n,r)}}function i5(e,i){let n=this.cache,r=i.elements;if(void 0===r){if(iB(n,i))return;e.uniformMatrix4fv(this.addr,!1,i),i3(n,i)}else{if(iB(n,r))return;iN.set(r),e.uniformMatrix4fv(this.addr,!1,iN),i3(n,r)}}function i7(e,i){let n=this.cache;n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i)}function iX(e,i){let n=this.cache;if(void 0!==i.x)n[0]===i.x&&n[1]===i.y||(e.uniform2i(this.addr,i.x,i.y),n[0]=i.x,n[1]=i.y);else{if(iB(n,i))return;e.uniform2iv(this.addr,i),i3(n,i)}}function ij(e,i){let n=this.cache;if(void 0!==i.x)n[0]===i.x&&n[1]===i.y&&n[2]===i.z||(e.uniform3i(this.addr,i.x,i.y,i.z),n[0]=i.x,n[1]=i.y,n[2]=i.z);else{if(iB(n,i))return;e.uniform3iv(this.addr,i),i3(n,i)}}function iq(e,i){let n=this.cache;if(void 0!==i.x)n[0]===i.x&&n[1]===i.y&&n[2]===i.z&&n[3]===i.w||(e.uniform4i(this.addr,i.x,i.y,i.z,i.w),n[0]=i.x,n[1]=i.y,n[2]=i.z,n[3]=i.w);else{if(iB(n,i))return;e.uniform4iv(this.addr,i),i3(n,i)}}function i9(e,i){let n=this.cache;n[0]!==i&&(e.uniform1ui(this.addr,i),n[0]=i)}function iY(e,i){let n=this.cache;if(void 0!==i.x)n[0]===i.x&&n[1]===i.y||(e.uniform2ui(this.addr,i.x,i.y),n[0]=i.x,n[1]=i.y);else{if(iB(n,i))return;e.uniform2uiv(this.addr,i),i3(n,i)}}function iZ(e,i){let n=this.cache;if(void 0!==i.x)n[0]===i.x&&n[1]===i.y&&n[2]===i.z||(e.uniform3ui(this.addr,i.x,i.y,i.z),n[0]=i.x,n[1]=i.y,n[2]=i.z);else{if(iB(n,i))return;e.uniform3uiv(this.addr,i),i3(n,i)}}function iK(e,i){let n=this.cache;if(void 0!==i.x)n[0]===i.x&&n[1]===i.y&&n[2]===i.z&&n[3]===i.w||(e.uniform4ui(this.addr,i.x,i.y,i.z,i.w),n[0]=i.x,n[1]=i.y,n[2]=i.z,n[3]=i.w);else{if(iB(n,i))return;e.uniform4uiv(this.addr,i),i3(n,i)}}function iJ(e,i,n){let r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(e.uniform1i(this.addr,s),r[0]=s),n.setTexture2D(i||iP,s)}function iQ(e,i,n){let r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(e.uniform1i(this.addr,s),r[0]=s),n.setTexture3D(i||iR,s)}function ne(e,i,n){let r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(e.uniform1i(this.addr,s),r[0]=s),n.setTextureCube(i||iI,s)}function nt(e,i,n){let r=this.cache,s=n.allocateTextureUnit();r[0]!==s&&(e.uniform1i(this.addr,s),r[0]=s),n.setTexture2DArray(i||iL,s)}function ni(e,i){e.uniform1fv(this.addr,i)}function nn(e,i){let n=iz(i,this.size,2);e.uniform2fv(this.addr,n)}function nr(e,i){let n=iz(i,this.size,3);e.uniform3fv(this.addr,n)}function ns(e,i){let n=iz(i,this.size,4);e.uniform4fv(this.addr,n)}function na(e,i){let n=iz(i,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function no(e,i){let n=iz(i,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function nl(e,i){let n=iz(i,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function nu(e,i){e.uniform1iv(this.addr,i)}function nc(e,i){e.uniform2iv(this.addr,i)}function nh(e,i){e.uniform3iv(this.addr,i)}function nd(e,i){e.uniform4iv(this.addr,i)}function np(e,i){e.uniform1uiv(this.addr,i)}function nf(e,i){e.uniform2uiv(this.addr,i)}function nm(e,i){e.uniform3uiv(this.addr,i)}function ng(e,i){e.uniform4uiv(this.addr,i)}function n$(e,i,n){let r=this.cache,s=i.length,a=i2(n,s);iB(r,a)||(e.uniform1iv(this.addr,a),i3(r,a));for(let o=0;o!==s;++o)n.setTexture2D(i[o]||iP,a[o])}function nv(e,i,n){let r=this.cache,s=i.length,a=i2(n,s);iB(r,a)||(e.uniform1iv(this.addr,a),i3(r,a));for(let o=0;o!==s;++o)n.setTexture3D(i[o]||iR,a[o])}function ny(e,i,n){let r=this.cache,s=i.length,a=i2(n,s);iB(r,a)||(e.uniform1iv(this.addr,a),i3(r,a));for(let o=0;o!==s;++o)n.setTextureCube(i[o]||iI,a[o])}function n8(e,i,n){let r=this.cache,s=i.length,a=i2(n,s);iB(r,a)||(e.uniform1iv(this.addr,a),i3(r,a));for(let o=0;o!==s;++o)n.setTexture2DArray(i[o]||iL,a[o])}class n_{constructor(e,i,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return i4;case 35664:return iH;case 35665:return iG;case 35666:return i6;case 35674:return iV;case 35675:return iW;case 35676:return i5;case 5124:case 35670:return i7;case 35667:case 35671:return iX;case 35668:case 35672:return ij;case 35669:case 35673:return iq;case 5125:return i9;case 36294:return iY;case 36295:return iZ;case 36296:return iK;case 35678:case 36198:case 36298:case 36306:case 35682:return iJ;case 35679:case 36299:case 36307:return iQ;case 35680:case 36300:case 36308:case 36293:return ne;case 36289:case 36303:case 36311:case 36292:return nt}}(i.type)}}class nx{constructor(e,i,n){this.id=e,this.addr=n,this.cache=[],this.size=i.size,this.setValue=function(e){switch(e){case 5126:return ni;case 35664:return nn;case 35665:return nr;case 35666:return ns;case 35674:return na;case 35675:return no;case 35676:return nl;case 5124:case 35670:return nu;case 35667:case 35671:return nc;case 35668:case 35672:return nh;case 35669:case 35673:return nd;case 5125:return np;case 36294:return nf;case 36295:return nm;case 36296:return ng;case 35678:case 36198:case 36298:case 36306:case 35682:return n$;case 35679:case 36299:case 36307:return nv;case 35680:case 36300:case 36308:case 36293:return ny;case 36289:case 36303:case 36311:case 36292:return n8}}(i.type)}}class nb{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,i,n){let r=this.seq;for(let s=0,a=r.length;s!==a;++s){let o=r[s];o.setValue(e,i[o.id],n)}}}let nw=/(\w+)(\])?(\[|\.)?/g;function nS(e,i){e.seq.push(i),e.map[i.id]=i}function nE(e,i,n){let r=e.name,s=r.length;for(nw.lastIndex=0;;){let a=nw.exec(r),o=nw.lastIndex,l=a[1],u="]"===a[2],c=a[3];if(u&&(l|=0),void 0===c||"["===c&&o+2===s){nS(n,void 0===c?new n_(l,e,i):new nx(l,e,i));break}{let h=n.map[l];void 0===h&&nS(n,h=new nb(l)),n=h}}}class nT{constructor(e,i){this.seq=[],this.map={};let n=e.getProgramParameter(i,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){let s=e.getActiveUniform(i,r);nE(s,e.getUniformLocation(i,s.name),this)}}setValue(e,i,n,r){let s=this.map[i];void 0!==s&&s.setValue(e,n,r)}setOptional(e,i,n){let r=i[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,i,n,r){for(let s=0,a=i.length;s!==a;++s){let o=i[s],l=n[o.id];!1!==l.needsUpdate&&o.setValue(e,l.value,r)}}static seqWithValue(e,i){let n=[];for(let r=0,s=e.length;r!==s;++r){let a=e[r];a.id in i&&n.push(a)}return n}}function nM(e,i,n){let r=e.createShader(i);return e.shaderSource(r,n),e.compileShader(r),r}let nC=0;function nD(e,i,n){let r=e.getShaderParameter(i,e.COMPILE_STATUS),s=e.getShaderInfoLog(i).trim();if(r&&""===s)return"";let a=/ERROR: 0:(\d+)/.exec(s);if(a){let o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+s+"\n\n"+function(e,i){let n=e.split("\n"),r=[],s=Math.max(i-6,0),a=Math.min(i+6,n.length);for(let o=s;o<a;o++){let l=o+1;r.push(`${l===i?">":" "} ${l}: ${n[o]}`)}return r.join("\n")}(e.getShaderSource(i),o)}return s}function nA(e){return""!==e}function n0(e,i){let n=i.numSpotLightShadows+i.numSpotLightMaps-i.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,i.numDirLights).replace(/NUM_SPOT_LIGHTS/g,i.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,i.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,i.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,i.numPointLights).replace(/NUM_HEMI_LIGHTS/g,i.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,i.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,i.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,i.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,i.numPointLightShadows)}function n1(e,i){return e.replace(/NUM_CLIPPING_PLANES/g,i.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,i.numClippingPlanes-i.numClipIntersection)}let nP=/^[ \t]*#include +<([\w\d./]+)>/gm;function nL(e){return e.replace(nP,nR)}function nR(e,i){let n=tQ[i];if(void 0===n)throw Error("Can not resolve #include <"+i+">");return nL(n)}let nI=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function nk(e){return e.replace(nI,nO)}function nO(e,i,n,r){let s="";for(let a=parseInt(i);a<parseInt(n);a++)s+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return s}function nN(e){let i="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?i+="\n#define HIGH_PRECISION":"mediump"===e.precision?i+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(i+="\n#define LOW_PRECISION"),i}function nF(e,r,a,o){var l,u,c;let h=e.getContext(),d=a.defines,p=a.vertexShader,f=a.fragmentShader,m,g,$=(l=a,m="SHADOWMAP_TYPE_BASIC",1===l.shadowMapType?m="SHADOWMAP_TYPE_PCF":2===l.shadowMapType?m="SHADOWMAP_TYPE_PCF_SOFT":3===l.shadowMapType&&(m="SHADOWMAP_TYPE_VSM"),m),v=function(e){let i="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:i="ENVMAP_TYPE_CUBE";break;case 306:i="ENVMAP_TYPE_CUBE_UV"}return i}(a),y=(u=a,g="ENVMAP_MODE_REFLECTION",u.envMap&&302===u.envMapMode&&(g="ENVMAP_MODE_REFRACTION"),g),_=function(e){let i="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:i="ENVMAP_BLENDING_MULTIPLY";break;case 1:i="ENVMAP_BLENDING_MIX";break;case 2:i="ENVMAP_BLENDING_ADD"}return i}(a),x=function(e){let i=e.envMapCubeUVHeight;if(null===i)return null;let n=Math.log2(i)-2;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:1/i,maxMip:n}}(a),b=a.isWebGL2?"":[(c=a).extensionDerivatives||c.envMapCubeUVHeight||c.bumpMap||c.normalMapTangentSpace||c.clearcoatNormalMap||c.flatShading||"physical"===c.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(c.extensionFragDepth||c.logarithmicDepthBuffer)&&c.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",c.extensionDrawBuffers&&c.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(c.extensionShaderTextureLOD||c.envMap||c.transmission)&&c.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(nA).join("\n"),w=function(e){let i=[];for(let n in e){let r=e[n];!1!==r&&i.push("#define "+n+" "+r)}return i.join("\n")}(d),S=h.createProgram(),E,T,M=a.glslVersion?"#version "+a.glslVersion+"\n":"";a.isRawShaderMaterial?((E=[w].filter(nA).join("\n")).length>0&&(E+="\n"),(T=[b,w].filter(nA).join("\n")).length>0&&(T+="\n")):(E=[nN(a),"#define SHADER_NAME "+a.shaderName,w,a.instancing?"#define USE_INSTANCING":"",a.instancingColor?"#define USE_INSTANCING_COLOR":"",a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+y:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",a.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",a.displacementMap?"#define USE_DISPLACEMENTMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",a.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",a.mapUv?"#define MAP_UV "+a.mapUv:"",a.alphaMapUv?"#define ALPHAMAP_UV "+a.alphaMapUv:"",a.lightMapUv?"#define LIGHTMAP_UV "+a.lightMapUv:"",a.aoMapUv?"#define AOMAP_UV "+a.aoMapUv:"",a.emissiveMapUv?"#define EMISSIVEMAP_UV "+a.emissiveMapUv:"",a.bumpMapUv?"#define BUMPMAP_UV "+a.bumpMapUv:"",a.normalMapUv?"#define NORMALMAP_UV "+a.normalMapUv:"",a.displacementMapUv?"#define DISPLACEMENTMAP_UV "+a.displacementMapUv:"",a.metalnessMapUv?"#define METALNESSMAP_UV "+a.metalnessMapUv:"",a.roughnessMapUv?"#define ROUGHNESSMAP_UV "+a.roughnessMapUv:"",a.clearcoatMapUv?"#define CLEARCOATMAP_UV "+a.clearcoatMapUv:"",a.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+a.clearcoatNormalMapUv:"",a.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+a.clearcoatRoughnessMapUv:"",a.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+a.iridescenceMapUv:"",a.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+a.iridescenceThicknessMapUv:"",a.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+a.sheenColorMapUv:"",a.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+a.sheenRoughnessMapUv:"",a.specularMapUv?"#define SPECULARMAP_UV "+a.specularMapUv:"",a.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+a.specularColorMapUv:"",a.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+a.specularIntensityMapUv:"",a.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+a.transmissionMapUv:"",a.thicknessMapUv?"#define THICKNESSMAP_UV "+a.thicknessMapUv:"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUv1s?"#define USE_UV1":"",a.vertexUv2s?"#define USE_UV2":"",a.vertexUv3s?"#define USE_UV3":"",a.pointsUvs?"#define USE_POINTS_UV":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.morphColors&&a.isWebGL2?"#define USE_MORPHCOLORS":"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+a.morphTextureStride:"",a.morphTargetsCount>0&&a.isWebGL2?"#define MORPHTARGETS_COUNT "+a.morphTargetsCount:"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+$:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif","\n"].filter(nA).join("\n"),T=[b,nN(a),"#define SHADER_NAME "+a.shaderName,w,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+v:"",a.envMap?"#define "+y:"",a.envMap?"#define "+_:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",a.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.clearcoat?"#define USE_CLEARCOAT":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.iridescence?"#define USE_IRIDESCENCE":"",a.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",a.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",a.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.alphaTest?"#define USE_ALPHATEST":"",a.sheen?"#define USE_SHEEN":"",a.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",a.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",a.transmission?"#define USE_TRANSMISSION":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.thicknessMap?"#define USE_THICKNESSMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors||a.instancingColor?"#define USE_COLOR":"",a.vertexAlphas?"#define USE_COLOR_ALPHA":"",a.vertexUv1s?"#define USE_UV1":"",a.vertexUv2s?"#define USE_UV2":"",a.vertexUv3s?"#define USE_UV3":"",a.pointsUvs?"#define USE_POINTS_UV":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+$:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.useLegacyLights?"#define LEGACY_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==a.toneMapping?"#define TONE_MAPPING":"",0!==a.toneMapping?tQ.tonemapping_pars_fragment:"",0!==a.toneMapping?function e(i,n){let r;switch(n){case 1:r="Linear";break;case 2:r="Reinhard";break;case 3:r="OptimizedCineon";break;case 4:r="ACESFilmic";break;case 5:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",n),r="Linear"}return"vec3 "+i+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",a.opaque?"#define OPAQUE":"",tQ.encodings_pars_fragment,function e(r,s){let a=function(e){switch(e){case n:return["Linear","( value )"];case i:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),["Linear","( value )"]}}(s);return"vec4 "+r+"( vec4 value ) { return LinearTo"+a[0]+a[1]+"; }"}("linearToOutputTexel",a.outputColorSpace),a.useDepthPacking?"#define DEPTH_PACKING "+a.depthPacking:"","\n"].filter(nA).join("\n")),p=n1(p=n0(p=nL(p),a),a),f=n1(f=n0(f=nL(f),a),a),p=nk(p),f=nk(f),a.isWebGL2&&!0!==a.isRawShaderMaterial&&(M="#version 300 es\n",E="precision mediump sampler2DArray;\n#define attribute in\n#define varying out\n#define texture2D texture\n"+E,T=["#define varying in",a.glslVersion===s?"":"layout(location = 0) out highp vec4 pc_fragColor;",a.glslVersion===s?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+T);let C=M+E+p,D=M+T+f,A=nM(h,h.VERTEX_SHADER,C),P=nM(h,h.FRAGMENT_SHADER,D);if(h.attachShader(S,A),h.attachShader(S,P),void 0!==a.index0AttributeName?h.bindAttribLocation(S,0,a.index0AttributeName):!0===a.morphTargets&&h.bindAttribLocation(S,0,"position"),h.linkProgram(S),e.debug.checkShaderErrors){let L=h.getProgramInfoLog(S).trim(),R=h.getShaderInfoLog(A).trim(),I=h.getShaderInfoLog(P).trim(),k=!0,O=!0;if(!1===h.getProgramParameter(S,h.LINK_STATUS)){if(k=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(h,S,A,P);else{let N=nD(h,A,"vertex"),F=nD(h,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+h.getError()+" - VALIDATE_STATUS "+h.getProgramParameter(S,h.VALIDATE_STATUS)+"\n\nProgram Info Log: "+L+"\n"+N+"\n"+F)}}else""!==L?console.warn("THREE.WebGLProgram: Program Info Log:",L):""!==R&&""!==I||(O=!1);O&&(this.diagnostics={runnable:k,programLog:L,vertexShader:{log:R,prefix:E},fragmentShader:{log:I,prefix:T}})}let U,z;return h.deleteShader(A),h.deleteShader(P),this.getUniforms=function(){return void 0===U&&(U=new nT(h,S)),U},this.getAttributes=function(){return void 0===z&&(z=function(e,i){let n={},r=e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES);for(let s=0;s<r;s++){let a=e.getActiveAttrib(i,s),o=a.name,l=1;a.type===e.FLOAT_MAT2&&(l=2),a.type===e.FLOAT_MAT3&&(l=3),a.type===e.FLOAT_MAT4&&(l=4),n[o]={type:a.type,location:e.getAttribLocation(i,o),locationSize:l}}return n}(h,S)),z},this.destroy=function(){o.releaseStatesOfProgram(this),h.deleteProgram(S),this.program=void 0},this.name=a.shaderName,this.id=nC++,this.cacheKey=r,this.usedTimes=1,this.program=S,this.vertexShader=A,this.fragmentShader=P,this}let nU=0;class nz{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let i=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(i),s=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(s)&&(a.add(s),s.usedTimes++),this}remove(e){let i=this.materialCache.get(e);for(let n of i)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let i=this.materialCache,n=i.get(e);return void 0===n&&(n=new Set,i.set(e,n)),n}_getShaderStage(e){let i=this.shaderCache,n=i.get(e);return void 0===n&&(n=new nB(e),i.set(e,n)),n}}class nB{constructor(e){this.id=nU++,this.code=e,this.usedTimes=0}}function n3(e,i,r,s,a,o,l){let u=new eP,c=new nz,h=[],d=a.isWebGL2,p=a.logarithmicDepthBuffer,f=a.vertexTextures,m=a.precision,g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function $(e){return 1===e?"uv1":2===e?"uv2":3===e?"uv3":"uv"}return{getParameters:function(o,u,h,v,y){let _=v.fog,x=y.geometry,b=o.isMeshStandardMaterial?v.environment:null,w=(o.isMeshStandardMaterial?r:i).get(o.envMap||b),S=w&&306===w.mapping?w.image.height:null,E=g[o.type];null!==o.precision&&(m=a.getMaxPrecision(o.precision))!==o.precision&&console.warn("THREE.WebGLProgram.getParameters:",o.precision,"not supported, using",m,"instead.");let T=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,M=void 0!==T?T.length:0,C,D,A,P,L=0;if(void 0!==x.morphAttributes.position&&(L=1),void 0!==x.morphAttributes.normal&&(L=2),void 0!==x.morphAttributes.color&&(L=3),E){let R=it[E];C=R.vertexShader,D=R.fragmentShader}else C=o.vertexShader,D=o.fragmentShader,c.update(o),A=c.getVertexShaderID(o),P=c.getFragmentShaderID(o);let I=e.getRenderTarget(),k=!0===y.isInstancedMesh,O=!!o.map,N=!!o.matcap,F=!!w,U=!!o.aoMap,z=!!o.lightMap,B=!!o.bumpMap,H=!!o.normalMap,G=!!o.displacementMap,V=!!o.emissiveMap,W=!!o.metalnessMap,X=!!o.roughnessMap,j=o.clearcoat>0,q=o.iridescence>0,Y=o.sheen>0,Z=o.transmission>0,K=j&&!!o.clearcoatMap,J=j&&!!o.clearcoatNormalMap,Q=j&&!!o.clearcoatRoughnessMap,ee=q&&!!o.iridescenceMap,et=q&&!!o.iridescenceThicknessMap,ei=Y&&!!o.sheenColorMap,en=Y&&!!o.sheenRoughnessMap,er=!!o.specularMap,es=!!o.specularColorMap,ea=!!o.specularIntensityMap,eo=Z&&!!o.transmissionMap,el=Z&&!!o.thicknessMap,eu=!!o.gradientMap,ec=!!o.alphaMap,eh=o.alphaTest>0,ed=!!o.extensions,ep=!!x.attributes.uv1,ef=!!x.attributes.uv2,em=!!x.attributes.uv3;return{isWebGL2:d,shaderID:E,shaderName:o.type,vertexShader:C,fragmentShader:D,defines:o.defines,customVertexShaderID:A,customFragmentShaderID:P,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:m,instancing:k,instancingColor:k&&null!==y.instanceColor,supportsVertexTextures:f,outputColorSpace:null===I?e.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:n,map:O,matcap:N,envMap:F,envMapMode:F&&w.mapping,envMapCubeUVHeight:S,aoMap:U,lightMap:z,bumpMap:B,normalMap:H,displacementMap:f&&G,emissiveMap:V,normalMapObjectSpace:H&&1===o.normalMapType,normalMapTangentSpace:H&&0===o.normalMapType,metalnessMap:W,roughnessMap:X,clearcoat:j,clearcoatMap:K,clearcoatNormalMap:J,clearcoatRoughnessMap:Q,iridescence:q,iridescenceMap:ee,iridescenceThicknessMap:et,sheen:Y,sheenColorMap:ei,sheenRoughnessMap:en,specularMap:er,specularColorMap:es,specularIntensityMap:ea,transmission:Z,transmissionMap:eo,thicknessMap:el,gradientMap:eu,opaque:!1===o.transparent&&1===o.blending,alphaMap:ec,alphaTest:eh,combine:o.combine,mapUv:O&&$(o.map.channel),aoMapUv:U&&$(o.aoMap.channel),lightMapUv:z&&$(o.lightMap.channel),bumpMapUv:B&&$(o.bumpMap.channel),normalMapUv:H&&$(o.normalMap.channel),displacementMapUv:G&&$(o.displacementMap.channel),emissiveMapUv:V&&$(o.emissiveMap.channel),metalnessMapUv:W&&$(o.metalnessMap.channel),roughnessMapUv:X&&$(o.roughnessMap.channel),clearcoatMapUv:K&&$(o.clearcoatMap.channel),clearcoatNormalMapUv:J&&$(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Q&&$(o.clearcoatRoughnessMap.channel),iridescenceMapUv:ee&&$(o.iridescenceMap.channel),iridescenceThicknessMapUv:et&&$(o.iridescenceThicknessMap.channel),sheenColorMapUv:ei&&$(o.sheenColorMap.channel),sheenRoughnessMapUv:en&&$(o.sheenRoughnessMap.channel),specularMapUv:er&&$(o.specularMap.channel),specularColorMapUv:es&&$(o.specularColorMap.channel),specularIntensityMapUv:ea&&$(o.specularIntensityMap.channel),transmissionMapUv:eo&&$(o.transmissionMap.channel),thicknessMapUv:el&&$(o.thicknessMap.channel),alphaMapUv:ec&&$(o.alphaMap.channel),vertexTangents:H&&!!x.attributes.tangent,vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!x.attributes.color&&4===x.attributes.color.itemSize,vertexUv1s:ep,vertexUv2s:ef,vertexUv3s:em,pointsUvs:!0===y.isPoints&&!!x.attributes.uv&&(O||ec),fog:!!_,useFog:!0===o.fog,fogExp2:_&&_.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:p,skinning:!0===y.isSkinnedMesh,morphTargets:void 0!==x.morphAttributes.position,morphNormals:void 0!==x.morphAttributes.normal,morphColors:void 0!==x.morphAttributes.color,morphTargetsCount:M,morphTextureStride:L,numDirLights:u.directional.length,numPointLights:u.point.length,numSpotLights:u.spot.length,numSpotLightMaps:u.spotLightMap.length,numRectAreaLights:u.rectArea.length,numHemiLights:u.hemi.length,numDirLightShadows:u.directionalShadowMap.length,numPointLightShadows:u.pointShadowMap.length,numSpotLightShadows:u.spotShadowMap.length,numSpotLightShadowsWithMaps:u.numSpotLightShadowsWithMaps,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&h.length>0,shadowMapType:e.shadowMap.type,toneMapping:o.toneMapped?e.toneMapping:0,useLegacyLights:e.useLegacyLights,premultipliedAlpha:o.premultipliedAlpha,doubleSided:2===o.side,flipSided:1===o.side,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionDerivatives:ed&&!0===o.extensions.derivatives,extensionFragDepth:ed&&!0===o.extensions.fragDepth,extensionDrawBuffers:ed&&!0===o.extensions.drawBuffers,extensionShaderTextureLOD:ed&&!0===o.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||s.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||s.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||s.has("EXT_shader_texture_lod"),customProgramCacheKey:o.customProgramCacheKey()}},getProgramCacheKey:function(i){var n,r,s,a;let o=[];if(i.shaderID?o.push(i.shaderID):(o.push(i.customVertexShaderID),o.push(i.customFragmentShaderID)),void 0!==i.defines)for(let l in i.defines)o.push(l),o.push(i.defines[l]);return!1===i.isRawShaderMaterial&&(n=o,r=i,n.push(r.precision),n.push(r.outputColorSpace),n.push(r.envMapMode),n.push(r.envMapCubeUVHeight),n.push(r.mapUv),n.push(r.alphaMapUv),n.push(r.lightMapUv),n.push(r.aoMapUv),n.push(r.bumpMapUv),n.push(r.normalMapUv),n.push(r.displacementMapUv),n.push(r.emissiveMapUv),n.push(r.metalnessMapUv),n.push(r.roughnessMapUv),n.push(r.clearcoatMapUv),n.push(r.clearcoatNormalMapUv),n.push(r.clearcoatRoughnessMapUv),n.push(r.iridescenceMapUv),n.push(r.iridescenceThicknessMapUv),n.push(r.sheenColorMapUv),n.push(r.sheenRoughnessMapUv),n.push(r.specularMapUv),n.push(r.specularColorMapUv),n.push(r.specularIntensityMapUv),n.push(r.transmissionMapUv),n.push(r.thicknessMapUv),n.push(r.combine),n.push(r.fogExp2),n.push(r.sizeAttenuation),n.push(r.morphTargetsCount),n.push(r.morphAttributeCount),n.push(r.numDirLights),n.push(r.numPointLights),n.push(r.numSpotLights),n.push(r.numSpotLightMaps),n.push(r.numHemiLights),n.push(r.numRectAreaLights),n.push(r.numDirLightShadows),n.push(r.numPointLightShadows),n.push(r.numSpotLightShadows),n.push(r.numSpotLightShadowsWithMaps),n.push(r.shadowMapType),n.push(r.toneMapping),n.push(r.numClippingPlanes),n.push(r.numClipIntersection),n.push(r.depthPacking),s=o,a=i,u.disableAll(),a.isWebGL2&&u.enable(0),a.supportsVertexTextures&&u.enable(1),a.instancing&&u.enable(2),a.instancingColor&&u.enable(3),a.matcap&&u.enable(4),a.envMap&&u.enable(5),a.normalMapObjectSpace&&u.enable(6),a.normalMapTangentSpace&&u.enable(7),a.clearcoat&&u.enable(8),a.iridescence&&u.enable(9),a.alphaTest&&u.enable(10),a.vertexColors&&u.enable(11),a.vertexAlphas&&u.enable(12),a.vertexUv1s&&u.enable(13),a.vertexUv2s&&u.enable(14),a.vertexUv3s&&u.enable(15),a.vertexTangents&&u.enable(16),s.push(u.mask),u.disableAll(),a.fog&&u.enable(0),a.useFog&&u.enable(1),a.flatShading&&u.enable(2),a.logarithmicDepthBuffer&&u.enable(3),a.skinning&&u.enable(4),a.morphTargets&&u.enable(5),a.morphNormals&&u.enable(6),a.morphColors&&u.enable(7),a.premultipliedAlpha&&u.enable(8),a.shadowMapEnabled&&u.enable(9),a.useLegacyLights&&u.enable(10),a.doubleSided&&u.enable(11),a.flipSided&&u.enable(12),a.useDepthPacking&&u.enable(13),a.dithering&&u.enable(14),a.transmission&&u.enable(15),a.sheen&&u.enable(16),a.opaque&&u.enable(17),a.pointsUvs&&u.enable(18),s.push(u.mask),o.push(e.outputColorSpace)),o.push(i.customProgramCacheKey),o.join()},getUniforms:function(e){let i=g[e.type],n;if(i){let r=it[i];n=t2.clone(r.uniforms)}else n=e.uniforms;return n},acquireProgram:function(i,n){let r;for(let s=0,a=h.length;s<a;s++){let l=h[s];if(l.cacheKey===n){r=l,++r.usedTimes;break}}return void 0===r&&(r=new nF(e,n,i,o),h.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){let i=h.indexOf(e);h[i]=h[h.length-1],h.pop(),e.destroy()}},releaseShaderCache:function(e){c.remove(e)},programs:h,dispose:function(){c.dispose()}}}function n2(){let e=new WeakMap;return{get:function(i){let n=e.get(i);return void 0===n&&(n={},e.set(i,n)),n},remove:function(i){e.delete(i)},update:function(i,n,r){e.get(i)[n]=r},dispose:function(){e=new WeakMap}}}function n4(e,i){return e.groupOrder!==i.groupOrder?e.groupOrder-i.groupOrder:e.renderOrder!==i.renderOrder?e.renderOrder-i.renderOrder:e.material.id!==i.material.id?e.material.id-i.material.id:e.z!==i.z?e.z-i.z:e.id-i.id}function nH(e,i){return e.groupOrder!==i.groupOrder?e.groupOrder-i.groupOrder:e.renderOrder!==i.renderOrder?e.renderOrder-i.renderOrder:e.z!==i.z?i.z-e.z:e.id-i.id}function nG(){let e=[],i=0,n=[],r=[],s=[];function a(n,r,s,a,o,l){let u=e[i];return void 0===u?(u={id:n.id,object:n,geometry:r,material:s,groupOrder:a,renderOrder:n.renderOrder,z:o,group:l},e[i]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=s,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=o,u.group=l),i++,u}return{opaque:n,transmissive:r,transparent:s,init:function(){i=0,n.length=0,r.length=0,s.length=0},push:function(e,i,o,l,u,c){let h=a(e,i,o,l,u,c);o.transmission>0?r.push(h):!0===o.transparent?s.push(h):n.push(h)},unshift:function(e,i,o,l,u,c){let h=a(e,i,o,l,u,c);o.transmission>0?r.unshift(h):!0===o.transparent?s.unshift(h):n.unshift(h)},finish:function(){for(let n=i,r=e.length;n<r;n++){let s=e[n];if(null===s.id)break;s.id=null,s.object=null,s.geometry=null,s.material=null,s.group=null}},sort:function(e,i){n.length>1&&n.sort(e||n4),r.length>1&&r.sort(i||nH),s.length>1&&s.sort(i||nH)}}}function n6(){let e=new WeakMap;return{get:function(i,n){let r=e.get(i),s;return void 0===r?(s=new nG,e.set(i,[s])):n>=r.length?(s=new nG,r.push(s)):s=r[n],s},dispose:function(){e=new WeakMap}}}function nV(){let e={};return{get:function(i){if(void 0!==e[i.id])return e[i.id];let n;switch(i.type){case"DirectionalLight":n={direction:new j,color:new tn};break;case"SpotLight":n={position:new j,direction:new j,color:new tn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new j,color:new tn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new j,skyColor:new tn,groundColor:new tn};break;case"RectAreaLight":n={color:new tn,position:new j,halfWidth:new j,halfHeight:new j}}return e[i.id]=n,n}}}let nW=0;function n5(e,i){return(i.castShadow?2:0)-(e.castShadow?2:0)+(i.map?1:0)-(e.map?1:0)}function n7(e,i){let n=new nV,r=function(){let e={};return{get:function(i){if(void 0!==e[i.id])return e[i.id];let n;switch(i.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _,shadowCameraNear:1,shadowCameraFar:1e3}}return e[i.id]=n,n}}}(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let a=0;a<9;a++)s.probe.push(new j);let o=new j,l=new eb,u=new eb;return{setup:function(a,o){let l=0,u=0,c=0;for(let h=0;h<9;h++)s.probe[h].set(0,0,0);let d=0,p=0,f=0,m=0,g=0,$=0,v=0,y=0,_=0,x=0;a.sort(n5);let b=!0===o?Math.PI:1;for(let w=0,S=a.length;w<S;w++){let E=a[w],T=E.color,M=E.intensity,C=E.distance,D=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)l+=T.r*M*b,u+=T.g*M*b,c+=T.b*M*b;else if(E.isLightProbe)for(let A=0;A<9;A++)s.probe[A].addScaledVector(E.sh.coefficients[A],M);else if(E.isDirectionalLight){let P=n.get(E);if(P.color.copy(E.color).multiplyScalar(E.intensity*b),E.castShadow){let L=E.shadow,R=r.get(E);R.shadowBias=L.bias,R.shadowNormalBias=L.normalBias,R.shadowRadius=L.radius,R.shadowMapSize=L.mapSize,s.directionalShadow[d]=R,s.directionalShadowMap[d]=D,s.directionalShadowMatrix[d]=E.shadow.matrix,$++}s.directional[d]=P,d++}else if(E.isSpotLight){let I=n.get(E);I.position.setFromMatrixPosition(E.matrixWorld),I.color.copy(T).multiplyScalar(M*b),I.distance=C,I.coneCos=Math.cos(E.angle),I.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),I.decay=E.decay,s.spot[f]=I;let k=E.shadow;if(E.map&&(s.spotLightMap[_]=E.map,_++,k.updateMatrices(E),E.castShadow&&x++),s.spotLightMatrix[f]=k.matrix,E.castShadow){let O=r.get(E);O.shadowBias=k.bias,O.shadowNormalBias=k.normalBias,O.shadowRadius=k.radius,O.shadowMapSize=k.mapSize,s.spotShadow[f]=O,s.spotShadowMap[f]=D,y++}f++}else if(E.isRectAreaLight){let N=n.get(E);N.color.copy(T).multiplyScalar(M),N.halfWidth.set(.5*E.width,0,0),N.halfHeight.set(0,.5*E.height,0),s.rectArea[m]=N,m++}else if(E.isPointLight){let F=n.get(E);if(F.color.copy(E.color).multiplyScalar(E.intensity*b),F.distance=E.distance,F.decay=E.decay,E.castShadow){let U=E.shadow,z=r.get(E);z.shadowBias=U.bias,z.shadowNormalBias=U.normalBias,z.shadowRadius=U.radius,z.shadowMapSize=U.mapSize,z.shadowCameraNear=U.camera.near,z.shadowCameraFar=U.camera.far,s.pointShadow[p]=z,s.pointShadowMap[p]=D,s.pointShadowMatrix[p]=E.shadow.matrix,v++}s.point[p]=F,p++}else if(E.isHemisphereLight){let B=n.get(E);B.skyColor.copy(E.color).multiplyScalar(M*b),B.groundColor.copy(E.groundColor).multiplyScalar(M*b),s.hemi[g]=B,g++}}m>0&&(i.isWebGL2||!0===e.has("OES_texture_float_linear")?(s.rectAreaLTC1=ie.LTC_FLOAT_1,s.rectAreaLTC2=ie.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(s.rectAreaLTC1=ie.LTC_HALF_1,s.rectAreaLTC2=ie.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),s.ambient[0]=l,s.ambient[1]=u,s.ambient[2]=c;let H=s.hash;H.directionalLength===d&&H.pointLength===p&&H.spotLength===f&&H.rectAreaLength===m&&H.hemiLength===g&&H.numDirectionalShadows===$&&H.numPointShadows===v&&H.numSpotShadows===y&&H.numSpotMaps===_||(s.directional.length=d,s.spot.length=f,s.rectArea.length=m,s.point.length=p,s.hemi.length=g,s.directionalShadow.length=$,s.directionalShadowMap.length=$,s.pointShadow.length=v,s.pointShadowMap.length=v,s.spotShadow.length=y,s.spotShadowMap.length=y,s.directionalShadowMatrix.length=$,s.pointShadowMatrix.length=v,s.spotLightMatrix.length=y+_-x,s.spotLightMap.length=_,s.numSpotLightShadowsWithMaps=x,H.directionalLength=d,H.pointLength=p,H.spotLength=f,H.rectAreaLength=m,H.hemiLength=g,H.numDirectionalShadows=$,H.numPointShadows=v,H.numSpotShadows=y,H.numSpotMaps=_,s.version=nW++)},setupView:function(e,i){let n=0,r=0,a=0,c=0,h=0,d=i.matrixWorldInverse;for(let p=0,f=e.length;p<f;p++){let m=e[p];if(m.isDirectionalLight){let g=s.directional[n];g.direction.setFromMatrixPosition(m.matrixWorld),o.setFromMatrixPosition(m.target.matrixWorld),g.direction.sub(o),g.direction.transformDirection(d),n++}else if(m.isSpotLight){let $=s.spot[a];$.position.setFromMatrixPosition(m.matrixWorld),$.position.applyMatrix4(d),$.direction.setFromMatrixPosition(m.matrixWorld),o.setFromMatrixPosition(m.target.matrixWorld),$.direction.sub(o),$.direction.transformDirection(d),a++}else if(m.isRectAreaLight){let v=s.rectArea[c];v.position.setFromMatrixPosition(m.matrixWorld),v.position.applyMatrix4(d),u.identity(),l.copy(m.matrixWorld),l.premultiply(d),u.extractRotation(l),v.halfWidth.set(.5*m.width,0,0),v.halfHeight.set(0,.5*m.height,0),v.halfWidth.applyMatrix4(u),v.halfHeight.applyMatrix4(u),c++}else if(m.isPointLight){let y=s.point[r];y.position.setFromMatrixPosition(m.matrixWorld),y.position.applyMatrix4(d),r++}else if(m.isHemisphereLight){let _=s.hemi[h];_.direction.setFromMatrixPosition(m.matrixWorld),_.direction.transformDirection(d),h++}}},state:s}}function nX(e,i){let n=new n7(e,i),r=[],s=[];return{init:function(){r.length=0,s.length=0},state:{lightsArray:r,shadowsArray:s,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){s.push(e)}}}function nj(e,i){let n=new WeakMap;return{get:function(r,s=0){let a=n.get(r),o;return void 0===a?(o=new nX(e,i),n.set(r,[o])):s>=a.length?(o=new nX(e,i),a.push(o)):o=a[s],o},dispose:function(){n=new WeakMap}}}class nq extends eJ{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class n9 extends eJ{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function nY(e,i,n){let r=new tY,s=new _,a=new _,o=new H,l=new nq({depthPacking:3201}),u=new n9,c={},h=n.maxTextureSize,d={0:1,1:0,2:2},p=new t4({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _},radius:{value:4}},vertexShader:"void main() {\n	gl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n	const float samples = float( VSM_SAMPLES );\n	float mean = 0.0;\n	float squared_mean = 0.0;\n	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n	for ( float i = 0.0; i < samples; i ++ ) {\n		float uvOffset = uvStart + i * uvStride;\n		#ifdef HORIZONTAL_PASS\n			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n			mean += distribution.x;\n			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n		#else\n			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n			mean += depth;\n			squared_mean += depth * depth;\n		#endif\n	}\n	mean = mean / samples;\n	squared_mean = squared_mean / samples;\n	float std_dev = sqrt( squared_mean - mean * mean );\n	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=p.clone();f.defines.HORIZONTAL_PASS=1;let m=new tx;m.setAttribute("position",new th(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let g=new tN(m,p),$=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let v=this.type;function y(n,r){let a=i.update(g);p.defines.VSM_SAMPLES!==n.blurSamples&&(p.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,p.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new G(s.x,s.y)),p.uniforms.shadow_pass.value=n.map.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,p,g,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,f,g,null)}function x(i,n,r,s){let a=null,o=!0===r.isPointLight?i.customDistanceMaterial:i.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?u:l,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){let h=a.uuid,p=n.uuid,f=c[h];void 0===f&&(f={},c[h]=f);let m=f[p];void 0===m&&(m=a.clone(),f[p]=m),a=m}return a.visible=n.visible,a.wireframe=n.wireframe,a.side=3===s?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial&&(e.properties.get(a).light=r),a}function b(n,s,a,o,l){if(!1===n.visible)return;if(n.layers.test(s.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===l)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);let u=i.update(n),c=n.material;if(Array.isArray(c)){let h=u.groups;for(let d=0,p=h.length;d<p;d++){let f=h[d],m=c[f.materialIndex];if(m&&m.visible){let g=x(n,m,o,l);e.renderBufferDirect(a,null,u,g,n,f)}}}else if(c.visible){let $=x(n,c,o,l);e.renderBufferDirect(a,null,u,$,n,null)}}let v=n.children;for(let y=0,_=v.length;y<_;y++)b(v[y],s,a,o,l)}this.render=function(i,n,l){if(!1===$.enabled||!1===$.autoUpdate&&!1===$.needsUpdate||0===i.length)return;let u=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),p=e.state;p.setBlending(0),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);let f=3!==v&&3===this.type,m=3===v&&3!==this.type;for(let g=0,_=i.length;g<_;g++){let x=i[g],w=x.shadow;if(void 0===w){console.warn("THREE.WebGLShadowMap:",x,"has no shadow.");continue}if(!1===w.autoUpdate&&!1===w.needsUpdate)continue;s.copy(w.mapSize);let S=w.getFrameExtents();if(s.multiply(S),a.copy(w.mapSize),(s.x>h||s.y>h)&&(s.x>h&&(a.x=Math.floor(h/S.x),s.x=a.x*S.x,w.mapSize.x=a.x),s.y>h&&(a.y=Math.floor(h/S.y),s.y=a.y*S.y,w.mapSize.y=a.y)),null===w.map||!0===f||!0===m){let E=3!==this.type?{minFilter:1003,magFilter:1003}:{};null!==w.map&&w.map.dispose(),w.map=new G(s.x,s.y,E),w.map.texture.name=x.name+".shadowMap",w.camera.updateProjectionMatrix()}e.setRenderTarget(w.map),e.clear();let T=w.getViewportCount();for(let M=0;M<T;M++){let C=w.getViewport(M);o.set(a.x*C.x,a.y*C.y,a.x*C.z,a.y*C.w),p.viewport(o),w.updateMatrices(x,M),r=w.getFrustum(),b(n,l,w.camera,x,this.type)}!0!==w.isPointLightShadow&&3===this.type&&y(w,l),w.needsUpdate=!1}v=this.type,$.needsUpdate=!1,e.setRenderTarget(u,c,d)}}function nZ(e,i,n){let r=n.isWebGL2,s=new function(){let i=!1,n=new H,r=null,s=new H(0,0,0,0);return{setMask:function(n){r===n||i||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){i=e},setClear:function(i,r,a,o,l){!0===l&&(i*=o,r*=o,a*=o),n.set(i,r,a,o),!1===s.equals(n)&&(e.clearColor(i,r,a,o),s.copy(n))},reset:function(){i=!1,r=null,s.set(-1,0,0,0)}}},a=new function(){let i=!1,n=null,r=null,s=null;return{setTest:function(i){i?B(e.DEPTH_TEST):G(e.DEPTH_TEST)},setMask:function(r){n===r||i||(e.depthMask(r),n=r)},setFunc:function(i){if(r!==i){switch(i){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}r=i}},setLocked:function(e){i=e},setClear:function(i){s!==i&&(e.clearDepth(i),s=i)},reset:function(){i=!1,n=null,r=null,s=null}}},o=new function(){let i=!1,n=null,r=null,s=null,a=null,o=null,l=null,u=null,c=null;return{setTest:function(n){i||(n?B(e.STENCIL_TEST):G(e.STENCIL_TEST))},setMask:function(r){n===r||i||(e.stencilMask(r),n=r)},setFunc:function(i,n,o){r===i&&s===n&&a===o||(e.stencilFunc(i,n,o),r=i,s=n,a=o)},setOp:function(i,n,r){o===i&&l===n&&u===r||(e.stencilOp(i,n,r),o=i,l=n,u=r)},setLocked:function(e){i=e},setClear:function(i){c!==i&&(e.clearStencil(i),c=i)},reset:function(){i=!1,n=null,r=null,s=null,a=null,o=null,l=null,u=null,c=null}}},l=new WeakMap,u=new WeakMap,c={},h={},d=new WeakMap,p=[],f=null,m=!1,g=null,$=null,v=null,y=null,_=null,x=null,b=null,w=!1,S=null,E=null,T=null,M=null,C=null,D=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),A=!1,P=0,L=e.getParameter(e.VERSION);-1!==L.indexOf("WebGL")?A=(P=parseFloat(/^WebGL (\d)/.exec(L)[1]))>=1:-1!==L.indexOf("OpenGL ES")&&(A=(P=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]))>=2);let R=null,I={},k=e.getParameter(e.SCISSOR_BOX),O=e.getParameter(e.VIEWPORT),N=(new H).fromArray(k),F=(new H).fromArray(O);function U(i,n,s,a){let o=new Uint8Array(4),l=e.createTexture();e.bindTexture(i,l),e.texParameteri(i,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(i,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let u=0;u<s;u++)r&&(i===e.TEXTURE_3D||i===e.TEXTURE_2D_ARRAY)?e.texImage3D(n,0,e.RGBA,1,1,a,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage2D(n+u,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o);return l}let z={};function B(i){!0!==c[i]&&(e.enable(i),c[i]=!0)}function G(i){!1!==c[i]&&(e.disable(i),c[i]=!1)}z[e.TEXTURE_2D]=U(e.TEXTURE_2D,e.TEXTURE_2D,1),z[e.TEXTURE_CUBE_MAP]=U(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(z[e.TEXTURE_2D_ARRAY]=U(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),z[e.TEXTURE_3D]=U(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),B(e.DEPTH_TEST),a.setFunc(3),q(!1),Y(1),B(e.CULL_FACE),j(0);let V={100:e.FUNC_ADD,101:e.FUNC_SUBTRACT,102:e.FUNC_REVERSE_SUBTRACT};if(r)V[103]=e.MIN,V[104]=e.MAX;else{let W=i.get("EXT_blend_minmax");null!==W&&(V[103]=W.MIN_EXT,V[104]=W.MAX_EXT)}let X={200:e.ZERO,201:e.ONE,202:e.SRC_COLOR,204:e.SRC_ALPHA,210:e.SRC_ALPHA_SATURATE,208:e.DST_COLOR,206:e.DST_ALPHA,203:e.ONE_MINUS_SRC_COLOR,205:e.ONE_MINUS_SRC_ALPHA,209:e.ONE_MINUS_DST_COLOR,207:e.ONE_MINUS_DST_ALPHA};function j(i,n,r,s,a,o,l,u){if(0!==i){if(!1===m&&(B(e.BLEND),m=!0),5===i)a=a||n,o=o||r,l=l||s,n===$&&a===_||(e.blendEquationSeparate(V[n],V[a]),$=n,_=a),r===v&&s===y&&o===x&&l===b||(e.blendFuncSeparate(X[r],X[s],X[o],X[l]),v=r,y=s,x=o,b=l),g=i,w=!1;else if(i!==g||u!==w){if(100===$&&100===_||(e.blendEquation(e.FUNC_ADD),$=100,_=100),u)switch(i){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",i)}else switch(i){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",i)}v=null,y=null,x=null,b=null,g=i,w=u}}else!0===m&&(G(e.BLEND),m=!1)}function q(i){S!==i&&(i?e.frontFace(e.CW):e.frontFace(e.CCW),S=i)}function Y(i){0!==i?(B(e.CULL_FACE),i!==E&&(1===i?e.cullFace(e.BACK):2===i?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):G(e.CULL_FACE),E=i}function Z(i,n,r){i?(B(e.POLYGON_OFFSET_FILL),M===n&&C===r||(e.polygonOffset(n,r),M=n,C=r)):G(e.POLYGON_OFFSET_FILL)}return{buffers:{color:s,depth:a,stencil:o},enable:B,disable:G,bindFramebuffer:function(i,n){return h[i]!==n&&(e.bindFramebuffer(i,n),h[i]=n,r&&(i===e.DRAW_FRAMEBUFFER&&(h[e.FRAMEBUFFER]=n),i===e.FRAMEBUFFER&&(h[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,s){let a=p,o=!1;if(r){if(void 0===(a=d.get(s))&&(a=[],d.set(s,a)),r.isWebGLMultipleRenderTargets){let l=r.texture;if(a.length!==l.length||a[0]!==e.COLOR_ATTACHMENT0){for(let u=0,c=l.length;u<c;u++)a[u]=e.COLOR_ATTACHMENT0+u;a.length=l.length,o=!0}}else a[0]!==e.COLOR_ATTACHMENT0&&(a[0]=e.COLOR_ATTACHMENT0,o=!0)}else a[0]!==e.BACK&&(a[0]=e.BACK,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):i.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(i){return f!==i&&(e.useProgram(i),f=i,!0)},setBlending:j,setMaterial:function(i,n){2===i.side?G(e.CULL_FACE):B(e.CULL_FACE);let r=1===i.side;n&&(r=!r),q(r),1===i.blending&&!1===i.transparent?j(0):j(i.blending,i.blendEquation,i.blendSrc,i.blendDst,i.blendEquationAlpha,i.blendSrcAlpha,i.blendDstAlpha,i.premultipliedAlpha),a.setFunc(i.depthFunc),a.setTest(i.depthTest),a.setMask(i.depthWrite),s.setMask(i.colorWrite);let l=i.stencilWrite;o.setTest(l),l&&(o.setMask(i.stencilWriteMask),o.setFunc(i.stencilFunc,i.stencilRef,i.stencilFuncMask),o.setOp(i.stencilFail,i.stencilZFail,i.stencilZPass)),Z(i.polygonOffset,i.polygonOffsetFactor,i.polygonOffsetUnits),!0===i.alphaToCoverage?B(e.SAMPLE_ALPHA_TO_COVERAGE):G(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:q,setCullFace:Y,setLineWidth:function(i){i!==T&&(A&&e.lineWidth(i),T=i)},setPolygonOffset:Z,setScissorTest:function(i){i?B(e.SCISSOR_TEST):G(e.SCISSOR_TEST)},activeTexture:function(i){void 0===i&&(i=e.TEXTURE0+D-1),R!==i&&(e.activeTexture(i),R=i)},bindTexture:function(i,n,r){void 0===r&&(r=null===R?e.TEXTURE0+D-1:R);let s=I[r];void 0===s&&(s={type:void 0,texture:void 0},I[r]=s),s.type===i&&s.texture===n||(R!==r&&(e.activeTexture(r),R=r),e.bindTexture(i,n||z[i]),s.type=i,s.texture=n)},unbindTexture:function(){let i=I[R];void 0!==i&&void 0!==i.type&&(e.bindTexture(i.type,null),i.type=void 0,i.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(i){console.error("THREE.WebGLState:",i)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(i){console.error("THREE.WebGLState:",i)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(i){console.error("THREE.WebGLState:",i)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(i){console.error("THREE.WebGLState:",i)}},updateUBOMapping:function(i,n){let r=u.get(n);void 0===r&&(r=new WeakMap,u.set(n,r));let s=r.get(i);void 0===s&&(s=e.getUniformBlockIndex(n,i.name),r.set(i,s))},uniformBlockBinding:function(i,n){let r=u.get(n).get(i);l.get(n)!==r&&(e.uniformBlockBinding(n,r,i.__bindingPointIndex),l.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(i){console.error("THREE.WebGLState:",i)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(i){console.error("THREE.WebGLState:",i)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(i){console.error("THREE.WebGLState:",i)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(i){console.error("THREE.WebGLState:",i)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(i){console.error("THREE.WebGLState:",i)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(i){console.error("THREE.WebGLState:",i)}},scissor:function(i){!1===N.equals(i)&&(e.scissor(i.x,i.y,i.z,i.w),N.copy(i))},viewport:function(i){!1===F.equals(i)&&(e.viewport(i.x,i.y,i.z,i.w),F.copy(i))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===r&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),c={},R=null,I={},h={},d=new WeakMap,p=[],f=null,m=!1,g=null,$=null,v=null,y=null,_=null,x=null,b=null,w=!1,S=null,E=null,T=null,M=null,C=null,N.set(0,0,e.canvas.width,e.canvas.height),F.set(0,0,e.canvas.width,e.canvas.height),s.reset(),a.reset(),o.reset()}}}function nK(e,r,s,a,o,l,u){let c=o.isWebGL2,h=o.maxTextures,d=o.maxCubemapSize,p=o.maxTextureSize,f=o.maxSamples,g=r.has("WEBGL_multisampled_render_to_texture")?r.get("WEBGL_multisampled_render_to_texture"):null,v="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap,_,x=new WeakMap,b=!1;try{b="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(w){}function S(e,i){return b?new OffscreenCanvas(e,i):T("canvas")}function E(e,i,n,r){let s=1;if((e.width>r||e.height>r)&&(s=r/Math.max(e.width,e.height)),s<1||!0===i){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){let a=i?$:Math.floor,o=a(s*e.width),l=a(s*e.height);void 0===_&&(_=S(o,l));let u=n?S(o,l):_;return u.width=o,u.height=l,u.getContext("2d").drawImage(e,0,0,o,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+l+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function M(e){return m(e.width)&&m(e.height)}function C(e,i){return e.generateMipmaps&&i&&1003!==e.minFilter&&1006!==e.minFilter}function D(i){e.generateMipmap(i)}function A(n,s,a,o,l=!1){if(!1===c)return s;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let u=s;return s===e.RED&&(a===e.FLOAT&&(u=e.R32F),a===e.HALF_FLOAT&&(u=e.R16F),a===e.UNSIGNED_BYTE&&(u=e.R8)),s===e.RG&&(a===e.FLOAT&&(u=e.RG32F),a===e.HALF_FLOAT&&(u=e.RG16F),a===e.UNSIGNED_BYTE&&(u=e.RG8)),s===e.RGBA&&(a===e.FLOAT&&(u=e.RGBA32F),a===e.HALF_FLOAT&&(u=e.RGBA16F),a===e.UNSIGNED_BYTE&&(u=o===i&&!1===l?e.SRGB8_ALPHA8:e.RGBA8),a===e.UNSIGNED_SHORT_4_4_4_4&&(u=e.RGBA4),a===e.UNSIGNED_SHORT_5_5_5_1&&(u=e.RGB5_A1)),u!==e.R16F&&u!==e.R32F&&u!==e.RG16F&&u!==e.RG32F&&u!==e.RGBA16F&&u!==e.RGBA32F||r.get("EXT_color_buffer_float"),u}function P(e,i,n){return!0===C(e,n)||e.isFramebufferTexture&&1003!==e.minFilter&&1006!==e.minFilter?Math.log2(Math.max(i.width,i.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?i.mipmaps.length:1}function L(i){return 1003===i||1004===i||1005===i?e.NEAREST:e.LINEAR}function R(e){let i=e.target;i.removeEventListener("dispose",R),function(e){let i=a.get(e);if(void 0===i.__webglInit)return;let n=e.source,r=x.get(n);if(r){let s=r[i.__cacheKey];s.usedTimes--,0===s.usedTimes&&k(e),0===Object.keys(r).length&&x.delete(n)}a.remove(e)}(i),i.isVideoTexture&&y.delete(i)}function I(i){let n=i.target;n.removeEventListener("dispose",I),function(i){let n=i.texture,r=a.get(i),s=a.get(n);if(void 0!==s.__webglTexture&&(e.deleteTexture(s.__webglTexture),u.memory.textures--),i.depthTexture&&i.depthTexture.dispose(),i.isWebGLCubeRenderTarget)for(let o=0;o<6;o++)e.deleteFramebuffer(r.__webglFramebuffer[o]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[o]);else{if(e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer)for(let l=0;l<r.__webglColorRenderbuffer.length;l++)r.__webglColorRenderbuffer[l]&&e.deleteRenderbuffer(r.__webglColorRenderbuffer[l]);r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer)}if(i.isWebGLMultipleRenderTargets)for(let c=0,h=n.length;c<h;c++){let d=a.get(n[c]);d.__webglTexture&&(e.deleteTexture(d.__webglTexture),u.memory.textures--),a.remove(n[c])}a.remove(n),a.remove(i)}(n)}function k(i){let n=a.get(i);e.deleteTexture(n.__webglTexture);let r=i.source;delete x.get(r)[n.__cacheKey],u.memory.textures--}let O=0;function F(i,n){let r=a.get(i);if(i.isVideoTexture&&function(e){let i=u.render.frame;y.get(e)!==i&&(y.set(e,i),e.update())}(i),!1===i.isRenderTargetTexture&&i.version>0&&r.__version!==i.version){let o=i.image;if(null===o)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==o.complete)return void G(r,i,n);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}s.bindTexture(e.TEXTURE_2D,r.__webglTexture,e.TEXTURE0+n)}let U={1e3:e.REPEAT,1001:e.CLAMP_TO_EDGE,1002:e.MIRRORED_REPEAT},z={1003:e.NEAREST,1004:e.NEAREST_MIPMAP_NEAREST,1005:e.NEAREST_MIPMAP_LINEAR,1006:e.LINEAR,1007:e.LINEAR_MIPMAP_NEAREST,1008:e.LINEAR_MIPMAP_LINEAR};function B(i,n,s){if(s?(e.texParameteri(i,e.TEXTURE_WRAP_S,U[n.wrapS]),e.texParameteri(i,e.TEXTURE_WRAP_T,U[n.wrapT]),i!==e.TEXTURE_3D&&i!==e.TEXTURE_2D_ARRAY||e.texParameteri(i,e.TEXTURE_WRAP_R,U[n.wrapR]),e.texParameteri(i,e.TEXTURE_MAG_FILTER,z[n.magFilter]),e.texParameteri(i,e.TEXTURE_MIN_FILTER,z[n.minFilter])):(e.texParameteri(i,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(i,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),i!==e.TEXTURE_3D&&i!==e.TEXTURE_2D_ARRAY||e.texParameteri(i,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),1001===n.wrapS&&1001===n.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(i,e.TEXTURE_MAG_FILTER,L(n.magFilter)),e.texParameteri(i,e.TEXTURE_MIN_FILTER,L(n.minFilter)),1003!==n.minFilter&&1006!==n.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===r.has("EXT_texture_filter_anisotropic")){let l=r.get("EXT_texture_filter_anisotropic");1003!==n.magFilter&&(1005===n.minFilter||1008===n.minFilter)&&(1015!==n.type||!1!==r.has("OES_texture_float_linear"))&&(!1!==c||1016!==n.type||!1!==r.has("OES_texture_half_float_linear"))&&(n.anisotropy>1||a.get(n).__currentAnisotropy)&&(e.texParameterf(i,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(n.anisotropy,o.getMaxAnisotropy())),a.get(n).__currentAnisotropy=n.anisotropy)}}function H(i,n){let r=!1;void 0===i.__webglInit&&(i.__webglInit=!0,n.addEventListener("dispose",R));let s=n.source,a=x.get(s);void 0===a&&(a={},x.set(s,a));let o=function(e){let i=[];return i.push(e.wrapS),i.push(e.wrapT),i.push(e.wrapR||0),i.push(e.magFilter),i.push(e.minFilter),i.push(e.anisotropy),i.push(e.internalFormat),i.push(e.format),i.push(e.type),i.push(e.generateMipmaps),i.push(e.premultiplyAlpha),i.push(e.flipY),i.push(e.unpackAlignment),i.push(e.colorSpace),i.join()}(n);if(o!==i.__cacheKey){void 0===a[o]&&(a[o]={texture:e.createTexture(),usedTimes:0},u.memory.textures++,r=!0),a[o].usedTimes++;let l=a[i.__cacheKey];void 0!==l&&(a[i.__cacheKey].usedTimes--,0===l.usedTimes&&k(n)),i.__cacheKey=o,i.__webglTexture=a[o].texture}return r}function G(i,n,r){let o=e.TEXTURE_2D;(n.isDataArrayTexture||n.isCompressedArrayTexture)&&(o=e.TEXTURE_2D_ARRAY),n.isData3DTexture&&(o=e.TEXTURE_3D);let u=H(i,n),h=n.source;s.bindTexture(o,i.__webglTexture,e.TEXTURE0+r);let d=a.get(h);if(h.version!==d.__version||!0===u){var f;s.activeTexture(e.TEXTURE0+r),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,n.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,n.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);let m=(f=n,!c&&(1001!==f.wrapS||1001!==f.wrapT||1003!==f.minFilter&&1006!==f.minFilter)&&!1===M(n.image)),g=E(n.image,m,!1,p);g=Y(n,g);let $=M(g)||c,v=l.convert(n.format,n.colorSpace),y,_=l.convert(n.type),x=A(n.internalFormat,v,_,n.colorSpace);B(o,n,$);let b=n.mipmaps,w=c&&!0!==n.isVideoTexture,S=void 0===d.__version||!0===u,T=P(n,g,$);if(n.isDepthTexture)x=e.DEPTH_COMPONENT,c?x=1015===n.type?e.DEPTH_COMPONENT32F:1014===n.type?e.DEPTH_COMPONENT24:1020===n.type?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:1015===n.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===n.format&&x===e.DEPTH_COMPONENT&&1012!==n.type&&1014!==n.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=1014,_=l.convert(n.type)),1027===n.format&&x===e.DEPTH_COMPONENT&&(x=e.DEPTH_STENCIL,1020!==n.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=1020,_=l.convert(n.type))),S&&(w?s.texStorage2D(e.TEXTURE_2D,1,x,g.width,g.height):s.texImage2D(e.TEXTURE_2D,0,x,g.width,g.height,0,v,_,null));else if(n.isDataTexture){if(b.length>0&&$){w&&S&&s.texStorage2D(e.TEXTURE_2D,T,x,b[0].width,b[0].height);for(let L=0,R=b.length;L<R;L++)y=b[L],w?s.texSubImage2D(e.TEXTURE_2D,L,0,0,y.width,y.height,v,_,y.data):s.texImage2D(e.TEXTURE_2D,L,x,y.width,y.height,0,v,_,y.data);n.generateMipmaps=!1}else w?(S&&s.texStorage2D(e.TEXTURE_2D,T,x,g.width,g.height),s.texSubImage2D(e.TEXTURE_2D,0,0,0,g.width,g.height,v,_,g.data)):s.texImage2D(e.TEXTURE_2D,0,x,g.width,g.height,0,v,_,g.data)}else if(n.isCompressedTexture){if(n.isCompressedArrayTexture){w&&S&&s.texStorage3D(e.TEXTURE_2D_ARRAY,T,x,b[0].width,b[0].height,g.depth);for(let I=0,k=b.length;I<k;I++)y=b[I],1023!==n.format?null!==v?w?s.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,0,y.width,y.height,g.depth,v,y.data,0,0):s.compressedTexImage3D(e.TEXTURE_2D_ARRAY,I,x,y.width,y.height,g.depth,0,y.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):w?s.texSubImage3D(e.TEXTURE_2D_ARRAY,I,0,0,0,y.width,y.height,g.depth,v,_,y.data):s.texImage3D(e.TEXTURE_2D_ARRAY,I,x,y.width,y.height,g.depth,0,v,_,y.data)}else{w&&S&&s.texStorage2D(e.TEXTURE_2D,T,x,b[0].width,b[0].height);for(let O=0,N=b.length;O<N;O++)y=b[O],1023!==n.format?null!==v?w?s.compressedTexSubImage2D(e.TEXTURE_2D,O,0,0,y.width,y.height,v,y.data):s.compressedTexImage2D(e.TEXTURE_2D,O,x,y.width,y.height,0,y.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):w?s.texSubImage2D(e.TEXTURE_2D,O,0,0,y.width,y.height,v,_,y.data):s.texImage2D(e.TEXTURE_2D,O,x,y.width,y.height,0,v,_,y.data)}}else if(n.isDataArrayTexture)w?(S&&s.texStorage3D(e.TEXTURE_2D_ARRAY,T,x,g.width,g.height,g.depth),s.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,g.width,g.height,g.depth,v,_,g.data)):s.texImage3D(e.TEXTURE_2D_ARRAY,0,x,g.width,g.height,g.depth,0,v,_,g.data);else if(n.isData3DTexture)w?(S&&s.texStorage3D(e.TEXTURE_3D,T,x,g.width,g.height,g.depth),s.texSubImage3D(e.TEXTURE_3D,0,0,0,0,g.width,g.height,g.depth,v,_,g.data)):s.texImage3D(e.TEXTURE_3D,0,x,g.width,g.height,g.depth,0,v,_,g.data);else if(n.isFramebufferTexture){if(S){if(w)s.texStorage2D(e.TEXTURE_2D,T,x,g.width,g.height);else{let F=g.width,U=g.height;for(let z=0;z<T;z++)s.texImage2D(e.TEXTURE_2D,z,x,F,U,0,v,_,null),F>>=1,U>>=1}}}else if(b.length>0&&$){w&&S&&s.texStorage2D(e.TEXTURE_2D,T,x,b[0].width,b[0].height);for(let G=0,V=b.length;G<V;G++)y=b[G],w?s.texSubImage2D(e.TEXTURE_2D,G,0,0,v,_,y):s.texImage2D(e.TEXTURE_2D,G,x,v,_,y);n.generateMipmaps=!1}else w?(S&&s.texStorage2D(e.TEXTURE_2D,T,x,g.width,g.height),s.texSubImage2D(e.TEXTURE_2D,0,0,0,v,_,g)):s.texImage2D(e.TEXTURE_2D,0,x,v,_,g);C(n,$)&&D(o),d.__version=h.version,n.onUpdate&&n.onUpdate(n)}i.__version=n.version}function V(i,n,r,o,u){let c=l.convert(r.format,r.colorSpace),h=l.convert(r.type),d=A(r.internalFormat,c,h,r.colorSpace);a.get(n).__hasExternalTextures||(u===e.TEXTURE_3D||u===e.TEXTURE_2D_ARRAY?s.texImage3D(u,0,d,n.width,n.height,n.depth,0,c,h,null):s.texImage2D(u,0,d,n.width,n.height,0,c,h,null)),s.bindFramebuffer(e.FRAMEBUFFER,i),q(n)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,o,u,a.get(r).__webglTexture,0,j(n)):(u===e.TEXTURE_2D||u>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&u<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,o,u,a.get(r).__webglTexture,0),s.bindFramebuffer(e.FRAMEBUFFER,null)}function W(i,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,i),n.depthBuffer&&!n.stencilBuffer){let s=e.DEPTH_COMPONENT16;if(r||q(n)){let a=n.depthTexture;a&&a.isDepthTexture&&(1015===a.type?s=e.DEPTH_COMPONENT32F:1014===a.type&&(s=e.DEPTH_COMPONENT24));let o=j(n);q(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,o,s,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,o,s,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,s,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,i)}else if(n.depthBuffer&&n.stencilBuffer){let u=j(n);r&&!1===q(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,u,e.DEPTH24_STENCIL8,n.width,n.height):q(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,u,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i)}else{let c=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture];for(let h=0;h<c.length;h++){let d=c[h],p=l.convert(d.format,d.colorSpace),f=l.convert(d.type),m=A(d.internalFormat,p,f,d.colorSpace),$=j(n);r&&!1===q(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,$,m,n.width,n.height):q(n)?g.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,$,m,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,m,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function X(i){let n=a.get(i),r=!0===i.isWebGLCubeRenderTarget;if(i.depthTexture&&!n.__autoAllocateDepthBuffer){if(r)throw Error("target.depthTexture not supported in Cube render targets");!function(i,n){if(n&&n.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");if(s.bindFramebuffer(e.FRAMEBUFFER,i),!n.depthTexture||!n.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");a.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),F(n.depthTexture,0);let r=a.get(n.depthTexture).__webglTexture,o=j(n);if(1026===n.depthTexture.format)q(n)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,r,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,r,0);else{if(1027!==n.depthTexture.format)throw Error("Unknown depthTexture format");q(n)?g.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,r,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,r,0)}}(n.__webglFramebuffer,i)}else if(r){n.__webglDepthbuffer=[];for(let o=0;o<6;o++)s.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),W(n.__webglDepthbuffer[o],i,!1)}else s.bindFramebuffer(e.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),W(n.__webglDepthbuffer,i,!1);s.bindFramebuffer(e.FRAMEBUFFER,null)}function j(e){return Math.min(f,e.samples)}function q(e){let i=a.get(e);return c&&e.samples>0&&!0===r.has("WEBGL_multisampled_render_to_texture")&&!1!==i.__useRenderToTexture}function Y(e,s){let a=e.colorSpace,o=e.format,l=e.type;return!0===e.isCompressedTexture||1035===e.format||a!==n&&""!==a&&(a===i?!1===c?!0===r.has("EXT_sRGB")&&1023===o?(e.format=1035,e.minFilter=1006,e.generateMipmaps=!1):s=N.sRGBToLinear(s):1023===o&&1009===l||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",a)),s}this.allocateTextureUnit=function(){let e=O;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),O+=1,e},this.resetTextureUnits=function(){O=0},this.setTexture2D=F,this.setTexture2DArray=function(i,n){let r=a.get(i);i.version>0&&r.__version!==i.version?G(r,i,n):s.bindTexture(e.TEXTURE_2D_ARRAY,r.__webglTexture,e.TEXTURE0+n)},this.setTexture3D=function(i,n){let r=a.get(i);i.version>0&&r.__version!==i.version?G(r,i,n):s.bindTexture(e.TEXTURE_3D,r.__webglTexture,e.TEXTURE0+n)},this.setTextureCube=function(i,n){let r=a.get(i);i.version>0&&r.__version!==i.version?function(i,n,r){if(6!==n.image.length)return;let o=H(i,n),u=n.source;s.bindTexture(e.TEXTURE_CUBE_MAP,i.__webglTexture,e.TEXTURE0+r);let h=a.get(u);if(u.version!==h.__version||!0===o){s.activeTexture(e.TEXTURE0+r),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,n.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,n.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE);let p=n.isCompressedTexture||n.image[0].isCompressedTexture,f=n.image[0]&&n.image[0].isDataTexture,m=[];for(let g=0;g<6;g++)m[g]=p||f?f?n.image[g].image:n.image[g]:E(n.image[g],!1,!0,d),m[g]=Y(n,m[g]);let $=m[0],v=M($)||c,y=l.convert(n.format,n.colorSpace),_=l.convert(n.type),x=A(n.internalFormat,y,_,n.colorSpace),b=c&&!0!==n.isVideoTexture,w=void 0===h.__version||!0===o,S,T=P(n,$,v);if(B(e.TEXTURE_CUBE_MAP,n,v),p){b&&w&&s.texStorage2D(e.TEXTURE_CUBE_MAP,T,x,$.width,$.height);for(let L=0;L<6;L++){S=m[L].mipmaps;for(let R=0;R<S.length;R++){let I=S[R];1023!==n.format?null!==y?b?s.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+L,R,0,0,I.width,I.height,y,I.data):s.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+L,R,x,I.width,I.height,0,I.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):b?s.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+L,R,0,0,I.width,I.height,y,_,I.data):s.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+L,R,x,I.width,I.height,0,y,_,I.data)}}}else{S=n.mipmaps,b&&w&&(S.length>0&&T++,s.texStorage2D(e.TEXTURE_CUBE_MAP,T,x,m[0].width,m[0].height));for(let k=0;k<6;k++)if(f){b?s.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+k,0,0,0,m[k].width,m[k].height,y,_,m[k].data):s.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+k,0,x,m[k].width,m[k].height,0,y,_,m[k].data);for(let O=0;O<S.length;O++){let N=S[O].image[k].image;b?s.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+k,O+1,0,0,N.width,N.height,y,_,N.data):s.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+k,O+1,x,N.width,N.height,0,y,_,N.data)}}else{b?s.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+k,0,0,0,y,_,m[k]):s.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+k,0,x,y,_,m[k]);for(let F=0;F<S.length;F++){let U=S[F];b?s.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+k,F+1,0,0,y,_,U.image[k]):s.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+k,F+1,x,y,_,U.image[k])}}}C(n,v)&&D(e.TEXTURE_CUBE_MAP),h.__version=u.version,n.onUpdate&&n.onUpdate(n)}i.__version=n.version}(r,i,n):s.bindTexture(e.TEXTURE_CUBE_MAP,r.__webglTexture,e.TEXTURE0+n)},this.rebindTextures=function(i,n,r){let s=a.get(i);void 0!==n&&V(s.__webglFramebuffer,i,i.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),void 0!==r&&X(i)},this.setupRenderTarget=function(i){let n=i.texture,r=a.get(i),h=a.get(n);i.addEventListener("dispose",I),!0!==i.isWebGLMultipleRenderTargets&&(void 0===h.__webglTexture&&(h.__webglTexture=e.createTexture()),h.__version=n.version,u.memory.textures++);let d=!0===i.isWebGLCubeRenderTarget,p=!0===i.isWebGLMultipleRenderTargets,f=M(i)||c;if(d){r.__webglFramebuffer=[];for(let m=0;m<6;m++)r.__webglFramebuffer[m]=e.createFramebuffer()}else{if(r.__webglFramebuffer=e.createFramebuffer(),p){if(o.drawBuffers){let g=i.texture;for(let $=0,v=g.length;$<v;$++){let y=a.get(g[$]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),u.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.")}if(c&&i.samples>0&&!1===q(i)){let _=p?n:[n];r.__webglMultisampledFramebuffer=e.createFramebuffer(),r.__webglColorRenderbuffer=[],s.bindFramebuffer(e.FRAMEBUFFER,r.__webglMultisampledFramebuffer);for(let x=0;x<_.length;x++){let b=_[x];r.__webglColorRenderbuffer[x]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,r.__webglColorRenderbuffer[x]);let w=l.convert(b.format,b.colorSpace),S=l.convert(b.type),E=A(b.internalFormat,w,S,b.colorSpace,!0===i.isXRRenderTarget),T=j(i);e.renderbufferStorageMultisample(e.RENDERBUFFER,T,E,i.width,i.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+x,e.RENDERBUFFER,r.__webglColorRenderbuffer[x])}e.bindRenderbuffer(e.RENDERBUFFER,null),i.depthBuffer&&(r.__webglDepthRenderbuffer=e.createRenderbuffer(),W(r.__webglDepthRenderbuffer,i,!0)),s.bindFramebuffer(e.FRAMEBUFFER,null)}}if(d){s.bindTexture(e.TEXTURE_CUBE_MAP,h.__webglTexture),B(e.TEXTURE_CUBE_MAP,n,f);for(let P=0;P<6;P++)V(r.__webglFramebuffer[P],i,n,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+P);C(n,f)&&D(e.TEXTURE_CUBE_MAP),s.unbindTexture()}else if(p){let L=i.texture;for(let R=0,k=L.length;R<k;R++){let O=L[R],N=a.get(O);s.bindTexture(e.TEXTURE_2D,N.__webglTexture),B(e.TEXTURE_2D,O,f),V(r.__webglFramebuffer,i,O,e.COLOR_ATTACHMENT0+R,e.TEXTURE_2D),C(O,f)&&D(e.TEXTURE_2D)}s.unbindTexture()}else{let F=e.TEXTURE_2D;(i.isWebGL3DRenderTarget||i.isWebGLArrayRenderTarget)&&(c?F=i.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),s.bindTexture(F,h.__webglTexture),B(F,n,f),V(r.__webglFramebuffer,i,n,e.COLOR_ATTACHMENT0,F),C(n,f)&&D(F),s.unbindTexture()}i.depthBuffer&&X(i)},this.updateRenderTargetMipmap=function(i){let n=M(i)||c,r=!0===i.isWebGLMultipleRenderTargets?i.texture:[i.texture];for(let o=0,l=r.length;o<l;o++){let u=r[o];if(C(u,n)){let h=i.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,d=a.get(u).__webglTexture;s.bindTexture(h,d),D(h),s.unbindTexture()}}},this.updateMultisampleRenderTarget=function(i){if(c&&i.samples>0&&!1===q(i)){let n=i.isWebGLMultipleRenderTargets?i.texture:[i.texture],r=i.width,o=i.height,l=e.COLOR_BUFFER_BIT,u=[],h=i.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,d=a.get(i),p=!0===i.isWebGLMultipleRenderTargets;if(p)for(let f=0;f<n.length;f++)s.bindFramebuffer(e.FRAMEBUFFER,d.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+f,e.RENDERBUFFER,null),s.bindFramebuffer(e.FRAMEBUFFER,d.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+f,e.TEXTURE_2D,null,0);s.bindFramebuffer(e.READ_FRAMEBUFFER,d.__webglMultisampledFramebuffer),s.bindFramebuffer(e.DRAW_FRAMEBUFFER,d.__webglFramebuffer);for(let m=0;m<n.length;m++){u.push(e.COLOR_ATTACHMENT0+m),i.depthBuffer&&u.push(h);let g=void 0!==d.__ignoreDepthValues&&d.__ignoreDepthValues;if(!1===g&&(i.depthBuffer&&(l|=e.DEPTH_BUFFER_BIT),i.stencilBuffer&&(l|=e.STENCIL_BUFFER_BIT)),p&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,d.__webglColorRenderbuffer[m]),!0===g&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[h]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[h])),p){let $=a.get(n[m]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,$,0)}e.blitFramebuffer(0,0,r,o,0,0,r,o,l,e.NEAREST),v&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,u)}if(s.bindFramebuffer(e.READ_FRAMEBUFFER,null),s.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),p)for(let y=0;y<n.length;y++){s.bindFramebuffer(e.FRAMEBUFFER,d.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+y,e.RENDERBUFFER,d.__webglColorRenderbuffer[y]);let _=a.get(n[y]).__webglTexture;s.bindFramebuffer(e.FRAMEBUFFER,d.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+y,e.TEXTURE_2D,_,0)}s.bindFramebuffer(e.DRAW_FRAMEBUFFER,d.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=X,this.setupFrameBufferTexture=V,this.useMultisampledRTT=q}function nJ(e,n,r){let s=r.isWebGL2;return{convert:function(r,a=""){let o;if(1009===r)return e.UNSIGNED_BYTE;if(1017===r)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===r)return e.UNSIGNED_SHORT_5_5_5_1;if(1010===r)return e.BYTE;if(1011===r)return e.SHORT;if(1012===r)return e.UNSIGNED_SHORT;if(1013===r)return e.INT;if(1014===r)return e.UNSIGNED_INT;if(1015===r)return e.FLOAT;if(1016===r)return s?e.HALF_FLOAT:null!==(o=n.get("OES_texture_half_float"))?o.HALF_FLOAT_OES:null;if(1021===r)return e.ALPHA;if(1023===r)return e.RGBA;if(1024===r)return e.LUMINANCE;if(1025===r)return e.LUMINANCE_ALPHA;if(1026===r)return e.DEPTH_COMPONENT;if(1027===r)return e.DEPTH_STENCIL;if(1035===r)return null!==(o=n.get("EXT_sRGB"))?o.SRGB_ALPHA_EXT:null;if(1028===r)return e.RED;if(1029===r)return e.RED_INTEGER;if(1030===r)return e.RG;if(1031===r)return e.RG_INTEGER;if(1033===r)return e.RGBA_INTEGER;if(33776===r||33777===r||33778===r||33779===r){if(a===i){if(null===(o=n.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(33776===r)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===r)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===r)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===r)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(o=n.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===r)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===r)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===r)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===r)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}}if(35840===r||35841===r||35842===r||35843===r){if(null===(o=n.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===r)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===r)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===r)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===r)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===r)return null!==(o=n.get("WEBGL_compressed_texture_etc1"))?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===r||37496===r){if(null===(o=n.get("WEBGL_compressed_texture_etc")))return null;if(37492===r)return a===i?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(37496===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(37808===r||37809===r||37810===r||37811===r||37812===r||37813===r||37814===r||37815===r||37816===r||37817===r||37818===r||37819===r||37820===r||37821===r){if(null===(o=n.get("WEBGL_compressed_texture_astc")))return null;if(37808===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===r)return a===i?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===r){if(null===(o=n.get("EXT_texture_compression_bptc")))return null;if(36492===r)return a===i?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}if(36283===r||36284===r||36285===r||36286===r){if(null===(o=n.get("EXT_texture_compression_rgtc")))return null;if(36492===r)return o.COMPRESSED_RED_RGTC1_EXT;if(36284===r)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===r)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===r)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return 1020===r?s?e.UNSIGNED_INT_24_8:null!==(o=n.get("WEBGL_depth_texture"))?o.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[r]?e[r]:null}}}class nQ extends tG{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class re extends eH{constructor(){super(),this.isGroup=!0,this.type="Group"}}let rt={type:"move"};class ri{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new re,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new re,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new j,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new j),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new re,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new j,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new j),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let i=this._hand;if(i)for(let n of e.hand.values())this._getHandJoint(i,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,i,n){let r=null,s=null,a=null,o=this._targetRay,l=this._grip,u=this._hand;if(e&&"visible-blurred"!==i.session.visibilityState){if(u&&e.hand){for(let c of(a=!0,e.hand.values())){let h=i.getJointPose(c,n),d=this._getHandJoint(u,c);null!==h&&(d.matrix.fromArray(h.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,d.jointRadius=h.radius),d.visible=null!==h}let p=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],m=p.position.distanceTo(f.position);u.inputState.pinching&&m>.025?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&m<=.015&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&null!==(s=i.getPose(e.gripSpace,n))&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1);null!==o&&(null===(r=i.getPose(e.targetRaySpace,n))&&null!==s&&(r=s),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(rt)))}return null!==o&&(o.visible=null!==r),null!==l&&(l.visible=null!==s),null!==u&&(u.visible=null!==a),this}_getHandJoint(e,i){if(void 0===e.joints[i.jointName]){let n=new re;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[i.jointName]=n,e.add(n)}return e.joints[i.jointName]}}class rn extends B{constructor(e,i,n,r,s,a,o,l,u,c){if(1026!==(c=void 0!==c?c:1026)&&1027!==c)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===c&&(n=1014),void 0===n&&1027===c&&(n=1020),super(null,r,s,a,o,l,c,n,u),this.isDepthTexture=!0,this.image={width:e,height:i},this.magFilter=void 0!==o?o:1003,this.minFilter=void 0!==l?l:1003,this.flipY=!1,this.generateMipmaps=!1}}function rr(e,i){function n(e,i){!0===e.matrixAutoUpdate&&e.updateMatrix(),i.value.copy(e.matrix)}function r(r,s){r.opacity.value=s.opacity,s.color&&r.diffuse.value.copy(s.color),s.emissive&&r.emissive.value.copy(s.emissive).multiplyScalar(s.emissiveIntensity),s.map&&(r.map.value=s.map,n(s.map,r.mapTransform)),s.alphaMap&&(r.alphaMap.value=s.alphaMap,n(s.alphaMap,r.alphaMapTransform)),s.bumpMap&&(r.bumpMap.value=s.bumpMap,n(s.bumpMap,r.bumpMapTransform),r.bumpScale.value=s.bumpScale,1===s.side&&(r.bumpScale.value*=-1)),s.normalMap&&(r.normalMap.value=s.normalMap,n(s.normalMap,r.normalMapTransform),r.normalScale.value.copy(s.normalScale),1===s.side&&r.normalScale.value.negate()),s.displacementMap&&(r.displacementMap.value=s.displacementMap,n(s.displacementMap,r.displacementMapTransform),r.displacementScale.value=s.displacementScale,r.displacementBias.value=s.displacementBias),s.emissiveMap&&(r.emissiveMap.value=s.emissiveMap,n(s.emissiveMap,r.emissiveMapTransform)),s.specularMap&&(r.specularMap.value=s.specularMap,n(s.specularMap,r.specularMapTransform)),s.alphaTest>0&&(r.alphaTest.value=s.alphaTest);let a=i.get(s).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=s.reflectivity,r.ior.value=s.ior,r.refractionRatio.value=s.refractionRatio),s.lightMap){r.lightMap.value=s.lightMap;let o=!0===e.useLegacyLights?Math.PI:1;r.lightMapIntensity.value=s.lightMapIntensity*o,n(s.lightMap,r.lightMapTransform)}s.aoMap&&(r.aoMap.value=s.aoMap,r.aoMapIntensity.value=s.aoMapIntensity,n(s.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(i,n){n.color.getRGB(i.fogColor.value,t3(e)),n.isFog?(i.fogNear.value=n.near,i.fogFar.value=n.far):n.isFogExp2&&(i.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,s,a,o,l){var u,c,h,d,p,f,m,g,$,v,y,_,x,b,w,S,E,T,M;s.isMeshBasicMaterial||s.isMeshLambertMaterial?r(e,s):s.isMeshToonMaterial?(r(e,s),u=e,(c=s).gradientMap&&(u.gradientMap.value=c.gradientMap)):s.isMeshPhongMaterial?(r(e,s),h=e,d=s,h.specular.value.copy(d.specular),h.shininess.value=Math.max(d.shininess,1e-4)):s.isMeshStandardMaterial?(r(e,s),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform)),e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));let s=i.get(r).envMap;s&&(e.envMapIntensity.value=r.envMapIntensity)}(e,s),s.isMeshPhysicalMaterial&&(p=e,f=s,m=l,p.ior.value=f.ior,f.sheen>0&&(p.sheenColor.value.copy(f.sheenColor).multiplyScalar(f.sheen),p.sheenRoughness.value=f.sheenRoughness,f.sheenColorMap&&(p.sheenColorMap.value=f.sheenColorMap,n(f.sheenColorMap,p.sheenColorMapTransform)),f.sheenRoughnessMap&&(p.sheenRoughnessMap.value=f.sheenRoughnessMap,n(f.sheenRoughnessMap,p.sheenRoughnessMapTransform))),f.clearcoat>0&&(p.clearcoat.value=f.clearcoat,p.clearcoatRoughness.value=f.clearcoatRoughness,f.clearcoatMap&&(p.clearcoatMap.value=f.clearcoatMap,n(f.clearcoatMap,p.clearcoatMapTransform)),f.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=f.clearcoatRoughnessMap,n(f.clearcoatRoughnessMap,p.clearcoatRoughnessMapTransform)),f.clearcoatNormalMap&&(p.clearcoatNormalMap.value=f.clearcoatNormalMap,n(f.clearcoatNormalMap,p.clearcoatNormalMapTransform),p.clearcoatNormalScale.value.copy(f.clearcoatNormalScale),1===f.side&&p.clearcoatNormalScale.value.negate())),f.iridescence>0&&(p.iridescence.value=f.iridescence,p.iridescenceIOR.value=f.iridescenceIOR,p.iridescenceThicknessMinimum.value=f.iridescenceThicknessRange[0],p.iridescenceThicknessMaximum.value=f.iridescenceThicknessRange[1],f.iridescenceMap&&(p.iridescenceMap.value=f.iridescenceMap,n(f.iridescenceMap,p.iridescenceMapTransform)),f.iridescenceThicknessMap&&(p.iridescenceThicknessMap.value=f.iridescenceThicknessMap,n(f.iridescenceThicknessMap,p.iridescenceThicknessMapTransform))),f.transmission>0&&(p.transmission.value=f.transmission,p.transmissionSamplerMap.value=m.texture,p.transmissionSamplerSize.value.set(m.width,m.height),f.transmissionMap&&(p.transmissionMap.value=f.transmissionMap,n(f.transmissionMap,p.transmissionMapTransform)),p.thickness.value=f.thickness,f.thicknessMap&&(p.thicknessMap.value=f.thicknessMap,n(f.thicknessMap,p.thicknessMapTransform)),p.attenuationDistance.value=f.attenuationDistance,p.attenuationColor.value.copy(f.attenuationColor)),p.specularIntensity.value=f.specularIntensity,p.specularColor.value.copy(f.specularColor),f.specularColorMap&&(p.specularColorMap.value=f.specularColorMap,n(f.specularColorMap,p.specularColorMapTransform)),f.specularIntensityMap&&(p.specularIntensityMap.value=f.specularIntensityMap,n(f.specularIntensityMap,p.specularIntensityMapTransform)))):s.isMeshMatcapMaterial?(r(e,s),g=e,($=s).matcap&&(g.matcap.value=$.matcap)):s.isMeshDepthMaterial?r(e,s):s.isMeshDistanceMaterial?(r(e,s),function(e,n){let r=i.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,s)):s.isMeshNormalMaterial?r(e,s):s.isLineBasicMaterial?(v=e,y=s,v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,y.map&&(v.map.value=y.map,n(y.map,v.mapTransform)),s.isLineDashedMaterial&&(_=e,x=s,_.dashSize.value=x.dashSize,_.totalSize.value=x.dashSize+x.gapSize,_.scale.value=x.scale)):s.isPointsMaterial?(b=e,w=s,S=a,E=o,b.diffuse.value.copy(w.color),b.opacity.value=w.opacity,b.size.value=w.size*S,b.scale.value=.5*E,w.map&&(b.map.value=w.map,n(w.map,b.uvTransform)),w.alphaMap&&(b.alphaMap.value=w.alphaMap),w.alphaTest>0&&(b.alphaTest.value=w.alphaTest)):s.isSpriteMaterial?(T=e,M=s,T.diffuse.value.copy(M.color),T.opacity.value=M.opacity,T.rotation.value=M.rotation,M.map&&(T.map.value=M.map,n(M.map,T.mapTransform)),M.alphaMap&&(T.alphaMap.value=M.alphaMap),M.alphaTest>0&&(T.alphaTest.value=M.alphaTest)):s.isShadowMaterial?(e.color.value.copy(s.color),e.opacity.value=s.opacity):s.isShaderMaterial&&(s.uniformsNeedUpdate=!1)}}}function rs(e,i,n,r){let s={},a={},o=[],l=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function u(e,i,n){let r=e.value;if(void 0===n[i]){if("number"==typeof r)n[i]=r;else{let s=Array.isArray(r)?r:[r],a=[];for(let o=0;o<s.length;o++)a.push(s[o].clone());n[i]=a}return!0}if("number"==typeof r){if(n[i]!==r)return n[i]=r,!0}else{let l=Array.isArray(n[i])?n[i]:[n[i]],u=Array.isArray(r)?r:[r];for(let c=0;c<l.length;c++){let h=l[c];if(!1===h.equals(u[c]))return h.copy(u[c]),!0}}return!1}function c(e){let i={boundary:0,storage:0};return"number"==typeof e?(i.boundary=4,i.storage=4):e.isVector2?(i.boundary=8,i.storage=8):e.isVector3||e.isColor?(i.boundary=16,i.storage=12):e.isVector4?(i.boundary=16,i.storage=16):e.isMatrix3?(i.boundary=48,i.storage=48):e.isMatrix4?(i.boundary=64,i.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),i}function h(i){let n=i.target;n.removeEventListener("dispose",h);let r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(s[n.id]),delete s[n.id],delete a[n.id]}return{bind:function(e,i){let n=i.program;r.uniformBlockBinding(e,n)},update:function(n,d){let p=s[n.id];void 0===p&&(function(e){let i=e.uniforms,n=0,r=0;for(let s=0,a=i.length;s<a;s++){let o=i[s],l={boundary:0,storage:0},u=Array.isArray(o.value)?o.value:[o.value];for(let h=0,d=u.length;h<d;h++){let p=c(u[h]);l.boundary+=p.boundary,l.storage+=p.storage}o.__data=new Float32Array(l.storage/Float32Array.BYTES_PER_ELEMENT),o.__offset=n,s>0&&0!=(r=n%16)&&16-r-l.boundary<0&&(n+=16-r,o.__offset=n),n+=l.storage}(r=n%16)>0&&(n+=16-r),e.__size=n,e.__cache={}}(n),p=function(i){let n=function(){for(let e=0;e<l;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();i.__bindingPointIndex=n;let r=e.createBuffer(),s=i.__size,a=i.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,s,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),s[n.id]=p,n.addEventListener("dispose",h));let f=d.program;r.updateUBOMapping(n,f);let m=i.render.frame;a[n.id]!==m&&(function(i){let n=s[i.id],r=i.uniforms,a=i.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let o=0,l=r.length;o<l;o++){let h=r[o];if(!0===u(h,o,a)){let d=h.__offset,p=Array.isArray(h.value)?h.value:[h.value],f=0;for(let m=0;m<p.length;m++){let g=p[m],$=c(g);"number"==typeof g?(h.__data[0]=g,e.bufferSubData(e.UNIFORM_BUFFER,d+f,h.__data)):g.isMatrix3?(h.__data[0]=g.elements[0],h.__data[1]=g.elements[1],h.__data[2]=g.elements[2],h.__data[3]=g.elements[0],h.__data[4]=g.elements[3],h.__data[5]=g.elements[4],h.__data[6]=g.elements[5],h.__data[7]=g.elements[0],h.__data[8]=g.elements[6],h.__data[9]=g.elements[7],h.__data[10]=g.elements[8],h.__data[11]=g.elements[0]):(g.toArray(h.__data,f),f+=$.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,d,h.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=m)},dispose:function(){for(let i in s)e.deleteBuffer(s[i]);o=[],s={},a={}}}}class ra{constructor(e={}){let{canvas:r=function e(){let i=T("canvas");return i.style.display="block",i}(),context:s=null,depth:o=!0,stencil:l=!0,alpha:u=!1,antialias:h=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:p=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:m=!1}=e,g;this.isWebGLRenderer=!0,g=null!==s?s.getContextAttributes().alpha:u;let $=null,v=null,y=[],_=[];this.domElement=r,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=i,this.useLegacyLights=!0,this.toneMapping=0,this.toneMappingExposure=1;let x=this,b=!1,w=0,S=0,E=null,M=-1,C=null,D=new H,A=new H,P=null,L=r.width,R=r.height,I=1,k=null,O=null,N=new H(0,0,L,R),F=new H(0,0,L,R),U=!1,z=new tY,B=!1,V=!1,W=null,X=new eb,q=new j,Y={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Z(){return null===E?I:1}let K,J,Q,ee,et,ei,en,er,es,ea,eo,el,eu,ec,eh,ed,ep,ef,em,eg,e$,ev,ey,e8,e_=s;function ex(e,i){for(let n=0;n<e.length;n++){let s=e[n],a=r.getContext(s,i);if(null!==a)return a}return null}try{if("setAttribute"in r&&r.setAttribute("data-engine","three.js r152"),r.addEventListener("webglcontextlost",eM,!1),r.addEventListener("webglcontextrestored",eC,!1),r.addEventListener("webglcontextcreationerror",eD,!1),null===e_){let ew=["webgl2","webgl","experimental-webgl"];if(!0===x.isWebGL1Renderer&&ew.shift(),e_=ex(ew,{alpha:!0,depth:o,stencil:l,antialias:h,premultipliedAlpha:d,preserveDrawingBuffer:p,powerPreference:f,failIfMajorPerformanceCaveat:m}),null===e_)throw ex(ew)?Error("Error creating WebGL context with your selected attributes."):Error("Error creating WebGL context.")}void 0===e_.getShaderPrecisionFormat&&(e_.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(eS){throw console.error("THREE.WebGLRenderer: "+eS.message),eS}function eE(){K=new iE(e_),J=new io(e_,K,e),K.init(J),ev=new nJ(e_,K,J),Q=new nZ(e_,K,J),ee=new iC(e_),et=new n2,ei=new nK(e_,K,Q,et,J,ev,ee),en=new iu(x),er=new iS(x),es=new tK(e_,J),ey=new is(e_,K,es,J),ea=new iT(e_,es,ee,ey),eo=new i1(e_,ea,es,ee),em=new i0(e_,J,ei),ed=new il(et),el=new n3(x,en,er,K,J,ey,ed),eu=new rr(x,et),ec=new n6,eh=new nj(K,J),ef=new ir(x,en,er,Q,eo,g,d),ep=new nY(x,eo,J),e8=new rs(e_,ee,J,Q),eg=new ia(e_,K,ee,J),e$=new iM(e_,K,ee,J),ee.programs=el.programs,x.capabilities=J,x.extensions=K,x.properties=et,x.renderLists=ec,x.shadowMap=ep,x.state=Q,x.info=ee}eE();let eT=new class e extends a{constructor(e,i){super();let n=this,r=null,s=1,a=null,o="local-floor",l=1,u=null,h=null,d=null,p=null,f=null,m=null,g=i.getContextAttributes(),$=null,v=null,y=[],_=[],x=new Set,b=new Map,w=new tG;w.layers.enable(1),w.viewport=new H;let S=new tG;S.layers.enable(2),S.viewport=new H;let E=[w,S],T=new nQ;T.layers.enable(1),T.layers.enable(2);let M=null,C=null;function D(e){let i=_.indexOf(e.inputSource);if(-1===i)return;let n=y[i];void 0!==n&&(n.update(e.inputSource,e.frame,u||a),n.dispatchEvent({type:e.type,data:e.inputSource}))}function A(){r.removeEventListener("select",D),r.removeEventListener("selectstart",D),r.removeEventListener("selectend",D),r.removeEventListener("squeeze",D),r.removeEventListener("squeezestart",D),r.removeEventListener("squeezeend",D),r.removeEventListener("end",A),r.removeEventListener("inputsourceschange",P);for(let i=0;i<y.length;i++){let s=_[i];null!==s&&(_[i]=null,y[i].disconnect(s))}M=null,C=null,e.setRenderTarget($),f=null,p=null,d=null,r=null,v=null,O.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function P(e){for(let i=0;i<e.removed.length;i++){let n=e.removed[i],r=_.indexOf(n);r>=0&&(_[r]=null,y[r].disconnect(n))}for(let s=0;s<e.added.length;s++){let a=e.added[s],o=_.indexOf(a);if(-1===o){for(let l=0;l<y.length;l++){if(l>=_.length){_.push(a),o=l;break}if(null===_[l]){_[l]=a,o=l;break}}if(-1===o)break}let u=y[o];u&&u.connect(a)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let i=y[e];return void 0===i&&(i=new ri,y[e]=i),i.getTargetRaySpace()},this.getControllerGrip=function(e){let i=y[e];return void 0===i&&(i=new ri,y[e]=i),i.getGripSpace()},this.getHand=function(e){let i=y[e];return void 0===i&&(i=new ri,y[e]=i),i.getHandSpace()},this.setFramebufferScaleFactor=function(e){s=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){o=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(e){u=e},this.getBaseLayer=function(){return null!==p?p:f},this.getBinding=function(){return d},this.getFrame=function(){return m},this.getSession=function(){return r},this.setSession=async function(c){if(null!==(r=c)){if($=e.getRenderTarget(),r.addEventListener("select",D),r.addEventListener("selectstart",D),r.addEventListener("selectend",D),r.addEventListener("squeeze",D),r.addEventListener("squeezestart",D),r.addEventListener("squeezeend",D),r.addEventListener("end",A),r.addEventListener("inputsourceschange",P),!0!==g.xrCompatible&&await i.makeXRCompatible(),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2){let h={antialias:void 0!==r.renderState.layers||g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(r,i,h),r.updateRenderState({baseLayer:f}),v=new G(f.framebufferWidth,f.framebufferHeight,{format:1023,type:1009,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let m=null,y=null,_=null;g.depth&&(_=g.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,m=g.stencil?1027:1026,y=g.stencil?1020:1014);let x={colorFormat:i.RGBA8,depthFormat:_,scaleFactor:s};p=(d=new XRWebGLBinding(r,i)).createProjectionLayer(x),r.updateRenderState({layers:[p]}),v=new G(p.textureWidth,p.textureHeight,{format:1023,type:1009,depthTexture:new rn(p.textureWidth,p.textureHeight,y,void 0,void 0,void 0,void 0,void 0,void 0,m),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0}),e.properties.get(v).__ignoreDepthValues=p.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await r.requestReferenceSpace(o),O.setContext(r),O.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};let L=new j,R=new j;function I(e,i){null===i?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(i.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;T.near=S.near=w.near=e.near,T.far=S.far=w.far=e.far,M===T.near&&C===T.far||(r.updateRenderState({depthNear:T.near,depthFar:T.far}),M=T.near,C=T.far);let i=e.parent,n=T.cameras;I(T,i);for(let s=0;s<n.length;s++)I(n[s],i);2===n.length?function(e,i,n){L.setFromMatrixPosition(i.matrixWorld),R.setFromMatrixPosition(n.matrixWorld);let r=L.distanceTo(R),s=i.projectionMatrix.elements,a=n.projectionMatrix.elements,o=s[14]/(s[10]-1),l=s[14]/(s[10]+1),u=(s[9]+1)/s[5],c=(s[9]-1)/s[5],h=(s[8]-1)/s[0],d=(a[8]+1)/a[0],p=r/(-h+d),f=-(p*h);i.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();let m=o+p,g=l+p;e.projectionMatrix.makePerspective(o*h-f,o*d+(r-f),u*l/g*m,c*l/g*m,m,g),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(T,w,S):T.projectionMatrix.copy(w.projectionMatrix),function(e,i,n){null===n?e.matrix.copy(i.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(i.matrixWorld)),e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0);let r=e.children;for(let s=0,a=r.length;s<a;s++)r[s].updateMatrixWorld(!0);e.projectionMatrix.copy(i.projectionMatrix),e.projectionMatrixInverse.copy(i.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*c*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,T,i)},this.getCamera=function(){return T},this.getFoveation=function(){if(null!==p||null!==f)return l},this.setFoveation=function(e){l=e,null!==p&&(p.fixedFoveation=e),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=e)},this.getPlanes=function(){return x};let k=null,O=new tZ;O.setAnimationLoop(function(i,r){if(h=r.getViewerPose(u||a),m=r,null!==h){let s=h.views;null!==f&&(e.setRenderTargetFramebuffer(v,f.framebuffer),e.setRenderTarget(v));let o=!1;s.length!==T.cameras.length&&(T.cameras.length=0,o=!0);for(let l=0;l<s.length;l++){let c=s[l],g=null;if(null!==f)g=f.getViewport(c);else{let $=d.getViewSubImage(p,c);g=$.viewport,0===l&&(e.setRenderTargetTextures(v,$.colorTexture,p.ignoreDepthValues?void 0:$.depthStencilTexture),e.setRenderTarget(v))}let w=E[l];void 0===w&&((w=new tG).layers.enable(l),w.viewport=new H,E[l]=w),w.matrix.fromArray(c.transform.matrix),w.matrix.decompose(w.position,w.quaternion,w.scale),w.projectionMatrix.fromArray(c.projectionMatrix),w.projectionMatrixInverse.copy(w.projectionMatrix).invert(),w.viewport.set(g.x,g.y,g.width,g.height),0===l&&(T.matrix.copy(w.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===o&&T.cameras.push(w)}}for(let S=0;S<y.length;S++){let M=_[S],C=y[S];null!==M&&void 0!==C&&C.update(M,r,u||a)}if(k&&k(i,r),r.detectedPlanes){n.dispatchEvent({type:"planesdetected",data:r.detectedPlanes});let D=null;for(let A of x)r.detectedPlanes.has(A)||(null===D&&(D=[]),D.push(A));if(null!==D)for(let P of D)x.delete(P),b.delete(P),n.dispatchEvent({type:"planeremoved",data:P});for(let L of r.detectedPlanes)if(x.has(L)){let R=b.get(L);L.lastChangedTime>R&&(b.set(L,L.lastChangedTime),n.dispatchEvent({type:"planechanged",data:L}))}else x.add(L),b.set(L,r.lastChangedTime),n.dispatchEvent({type:"planeadded",data:L})}m=null}),this.setAnimationLoop=function(e){k=e},this.dispose=function(){}}}(x,e_);function eM(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function eC(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;let e=ee.autoReset,i=ep.enabled,n=ep.autoUpdate,r=ep.needsUpdate,s=ep.type;eE(),ee.autoReset=e,ep.enabled=i,ep.autoUpdate=n,ep.needsUpdate=r,ep.type=s}function eD(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function eA(e){var i;let n=e.target;n.removeEventListener("dispose",eA),function(e){let i=et.get(e).programs;void 0!==i&&(i.forEach(function(e){el.releaseProgram(e)}),e.isShaderMaterial&&el.releaseShaderCache(e))}(i=n),et.remove(i)}this.xr=eT,this.getContext=function(){return e_},this.getContextAttributes=function(){return e_.getContextAttributes()},this.forceContextLoss=function(){let e=K.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){let e=K.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(e){void 0!==e&&(I=e,this.setSize(L,R,!1))},this.getSize=function(e){return e.set(L,R)},this.setSize=function(e,i,n=!0){eT.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(L=e,R=i,r.width=Math.floor(e*I),r.height=Math.floor(i*I),!0===n&&(r.style.width=e+"px",r.style.height=i+"px"),this.setViewport(0,0,e,i))},this.getDrawingBufferSize=function(e){return e.set(L*I,R*I).floor()},this.setDrawingBufferSize=function(e,i,n){L=e,R=i,I=n,r.width=Math.floor(e*n),r.height=Math.floor(i*n),this.setViewport(0,0,e,i)},this.getCurrentViewport=function(e){return e.copy(D)},this.getViewport=function(e){return e.copy(N)},this.setViewport=function(e,i,n,r){e.isVector4?N.set(e.x,e.y,e.z,e.w):N.set(e,i,n,r),Q.viewport(D.copy(N).multiplyScalar(I).floor())},this.getScissor=function(e){return e.copy(F)},this.setScissor=function(e,i,n,r){e.isVector4?F.set(e.x,e.y,e.z,e.w):F.set(e,i,n,r),Q.scissor(A.copy(F).multiplyScalar(I).floor())},this.getScissorTest=function(){return U},this.setScissorTest=function(e){Q.setScissorTest(U=e)},this.setOpaqueSort=function(e){k=e},this.setTransparentSort=function(e){O=e},this.getClearColor=function(e){return e.copy(ef.getClearColor())},this.setClearColor=function(){ef.setClearColor.apply(ef,arguments)},this.getClearAlpha=function(){return ef.getClearAlpha()},this.setClearAlpha=function(){ef.setClearAlpha.apply(ef,arguments)},this.clear=function(e=!0,i=!0,n=!0){let r=0;e&&(r|=e_.COLOR_BUFFER_BIT),i&&(r|=e_.DEPTH_BUFFER_BIT),n&&(r|=e_.STENCIL_BUFFER_BIT),e_.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){r.removeEventListener("webglcontextlost",eM,!1),r.removeEventListener("webglcontextrestored",eC,!1),r.removeEventListener("webglcontextcreationerror",eD,!1),ec.dispose(),eh.dispose(),et.dispose(),en.dispose(),er.dispose(),eo.dispose(),ey.dispose(),e8.dispose(),el.dispose(),eT.dispose(),eT.removeEventListener("sessionstart",e1),eT.removeEventListener("sessionend",eP),W&&(W.dispose(),W=null),eL.stop()},this.renderBufferDirect=function(e,i,r,s,a,o){null===i&&(i=Y);let l=a.isMesh&&0>a.matrixWorld.determinant(),u=function(e,i,r,s,a){var o,l;!0!==i.isScene&&(i=Y),ei.resetTextureUnits();let u=i.fog,c=s.isMeshStandardMaterial?i.environment:null,h=null===E?x.outputColorSpace:!0===E.isXRRenderTarget?E.texture.colorSpace:n,d=(s.isMeshStandardMaterial?er:en).get(s.envMap||c),p=!0===s.vertexColors&&!!r.attributes.color&&4===r.attributes.color.itemSize,f=!!s.normalMap&&!!r.attributes.tangent,m=!!r.morphAttributes.position,g=!!r.morphAttributes.normal,$=!!r.morphAttributes.color,y=s.toneMapped?x.toneMapping:0,_=r.morphAttributes.position||r.morphAttributes.normal||r.morphAttributes.color,b=void 0!==_?_.length:0,w=et.get(s),S=v.state.lights;if(!0===B&&(!0===V||e!==C)){let T=e===C&&s.id===M;ed.setState(s,e,T)}let D=!1;s.version===w.__version?w.needsLights&&w.lightsStateVersion!==S.state.version||w.outputColorSpace!==h||a.isInstancedMesh&&!1===w.instancing?D=!0:a.isInstancedMesh||!0!==w.instancing?a.isSkinnedMesh&&!1===w.skinning?D=!0:a.isSkinnedMesh||!0!==w.skinning?w.envMap!==d||!0===s.fog&&w.fog!==u?D=!0:void 0===w.numClippingPlanes||w.numClippingPlanes===ed.numPlanes&&w.numIntersection===ed.numIntersection?(w.vertexAlphas!==p||w.vertexTangents!==f||w.morphTargets!==m||w.morphNormals!==g||w.morphColors!==$||w.toneMapping!==y||!0===J.isWebGL2&&w.morphTargetsCount!==b)&&(D=!0):D=!0:D=!0:D=!0:(D=!0,w.__version=s.version);let A=w.currentProgram;!0===D&&(A=eO(s,i,a));let P=!1,L=!1,k=!1,O=A.getUniforms(),N=w.uniforms;if(Q.useProgram(A.program)&&(P=!0,L=!0,k=!0),s.id!==M&&(M=s.id,L=!0),P||C!==e){if(O.setValue(e_,"projectionMatrix",e.projectionMatrix),J.logarithmicDepthBuffer&&O.setValue(e_,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),C!==e&&(C=e,L=!0,k=!0),s.isShaderMaterial||s.isMeshPhongMaterial||s.isMeshToonMaterial||s.isMeshStandardMaterial||s.envMap){let F=O.map.cameraPosition;void 0!==F&&F.setValue(e_,q.setFromMatrixPosition(e.matrixWorld))}(s.isMeshPhongMaterial||s.isMeshToonMaterial||s.isMeshLambertMaterial||s.isMeshBasicMaterial||s.isMeshStandardMaterial||s.isShaderMaterial)&&O.setValue(e_,"isOrthographic",!0===e.isOrthographicCamera),(s.isMeshPhongMaterial||s.isMeshToonMaterial||s.isMeshLambertMaterial||s.isMeshBasicMaterial||s.isMeshStandardMaterial||s.isShaderMaterial||s.isShadowMaterial||a.isSkinnedMesh)&&O.setValue(e_,"viewMatrix",e.matrixWorldInverse)}if(a.isSkinnedMesh){O.setOptional(e_,a,"bindMatrix"),O.setOptional(e_,a,"bindMatrixInverse");let U=a.skeleton;U&&(J.floatVertexTextures?(null===U.boneTexture&&U.computeBoneTexture(),O.setValue(e_,"boneTexture",U.boneTexture,ei),O.setValue(e_,"boneTextureSize",U.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let z=r.morphAttributes;if((void 0!==z.position||void 0!==z.normal||void 0!==z.color&&!0===J.isWebGL2)&&em.update(a,r,A),(L||w.receiveShadow!==a.receiveShadow)&&(w.receiveShadow=a.receiveShadow,O.setValue(e_,"receiveShadow",a.receiveShadow)),s.isMeshGouraudMaterial&&null!==s.envMap&&(N.envMap.value=d,N.flipEnvMap.value=d.isCubeTexture&&!1===d.isRenderTargetTexture?-1:1),L&&(O.setValue(e_,"toneMappingExposure",x.toneMappingExposure),w.needsLights&&(l=k,(o=N).ambientLightColor.needsUpdate=l,o.lightProbe.needsUpdate=l,o.directionalLights.needsUpdate=l,o.directionalLightShadows.needsUpdate=l,o.pointLights.needsUpdate=l,o.pointLightShadows.needsUpdate=l,o.spotLights.needsUpdate=l,o.spotLightShadows.needsUpdate=l,o.rectAreaLights.needsUpdate=l,o.hemisphereLights.needsUpdate=l),u&&!0===s.fog&&eu.refreshFogUniforms(N,u),eu.refreshMaterialUniforms(N,s,I,R,W),nT.upload(e_,w.uniformsList,N,ei)),s.isShaderMaterial&&!0===s.uniformsNeedUpdate&&(nT.upload(e_,w.uniformsList,N,ei),s.uniformsNeedUpdate=!1),s.isSpriteMaterial&&O.setValue(e_,"center",a.center),O.setValue(e_,"modelViewMatrix",a.modelViewMatrix),O.setValue(e_,"normalMatrix",a.normalMatrix),O.setValue(e_,"modelMatrix",a.matrixWorld),s.isShaderMaterial||s.isRawShaderMaterial){let H=s.uniformsGroups;for(let G=0,X=H.length;G<X;G++)if(J.isWebGL2){let j=H[G];e8.update(j,A),e8.bind(j,A)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return A}(e,i,r,s,a);Q.setMaterial(s,l);let c=r.index,h=1;!0===s.wireframe&&(c=ea.getWireframeAttribute(r),h=2);let d=r.drawRange,p=r.attributes.position,f=d.start*h,m=(d.start+d.count)*h;null!==o&&(f=Math.max(f,o.start*h),m=Math.min(m,(o.start+o.count)*h)),null!==c?(f=Math.max(f,0),m=Math.min(m,c.count)):null!=p&&(f=Math.max(f,0),m=Math.min(m,p.count));let g=m-f;if(g<0||g===1/0)return;let $;ey.setup(a,s,u,r,c);let y=eg;if(null!==c&&($=es.get(c),(y=e$).setIndex($)),a.isMesh)!0===s.wireframe?(Q.setLineWidth(s.wireframeLinewidth*Z()),y.setMode(e_.LINES)):y.setMode(e_.TRIANGLES);else if(a.isLine){let _=s.linewidth;void 0===_&&(_=1),Q.setLineWidth(_*Z()),a.isLineSegments?y.setMode(e_.LINES):a.isLineLoop?y.setMode(e_.LINE_LOOP):y.setMode(e_.LINE_STRIP)}else a.isPoints?y.setMode(e_.POINTS):a.isSprite&&y.setMode(e_.TRIANGLES);if(a.isInstancedMesh)y.renderInstances(f,g,a.count);else if(r.isInstancedBufferGeometry){let b=void 0!==r._maxInstanceCount?r._maxInstanceCount:1/0,w=Math.min(r.instanceCount,b);y.renderInstances(f,g,w)}else y.render(f,g)},this.compile=function(e,i){function n(e,i,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,eO(e,i,n),e.side=0,e.needsUpdate=!0,eO(e,i,n),e.side=2):eO(e,i,n)}(v=eh.get(e)).init(),_.push(v),e.traverseVisible(function(e){e.isLight&&e.layers.test(i.layers)&&(v.pushLight(e),e.castShadow&&v.pushShadow(e))}),v.setupLights(x.useLegacyLights),e.traverse(function(i){let r=i.material;if(r){if(Array.isArray(r))for(let s=0;s<r.length;s++)n(r[s],e,i);else n(r,e,i)}}),_.pop(),v=null};let e0=null;function e1(){eL.stop()}function eP(){eL.start()}let eL=new tZ;function eR(e,i,n,r){let s=e.opaque,a=e.transmissive,o=e.transparent;v.setupLightsView(n),!0===B&&ed.setGlobalState(x.clippingPlanes,n),a.length>0&&function(e,i,n,r){if(null===W){let s=J.isWebGL2;W=new G(1024,1024,{generateMipmaps:!0,type:K.has("EXT_color_buffer_half_float")?1016:1009,minFilter:1008,samples:s&&!0===h?4:0})}let a=x.getRenderTarget();x.setRenderTarget(W),x.clear();let o=x.toneMapping;x.toneMapping=0,eI(e,n,r),ei.updateMultisampleRenderTarget(W),ei.updateRenderTargetMipmap(W);let l=!1;for(let u=0,c=i.length;u<c;u++){let d=i[u],p=d.object,f=d.geometry,m=d.material,g=d.group;if(2===m.side&&p.layers.test(r.layers)){let $=m.side;m.side=1,m.needsUpdate=!0,ek(p,n,r,f,m,g),m.side=$,m.needsUpdate=!0,l=!0}}!0===l&&(ei.updateMultisampleRenderTarget(W),ei.updateRenderTargetMipmap(W)),x.setRenderTarget(a),x.toneMapping=o}(s,a,i,n),r&&Q.viewport(D.copy(r)),s.length>0&&eI(s,i,n),a.length>0&&eI(a,i,n),o.length>0&&eI(o,i,n),Q.buffers.depth.setTest(!0),Q.buffers.depth.setMask(!0),Q.buffers.color.setMask(!0),Q.setPolygonOffset(!1)}function eI(e,i,n){let r=!0===i.isScene?i.overrideMaterial:null;for(let s=0,a=e.length;s<a;s++){let o=e[s],l=o.object,u=o.geometry,c=null===r?o.material:r,h=o.group;l.layers.test(n.layers)&&ek(l,i,n,u,c,h)}}function ek(e,i,n,r,s,a){e.onBeforeRender(x,i,n,r,s,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),s.onBeforeRender(x,i,n,r,e,a),!0===s.transparent&&2===s.side&&!1===s.forceSinglePass?(s.side=1,s.needsUpdate=!0,x.renderBufferDirect(n,i,r,s,e,a),s.side=0,s.needsUpdate=!0,x.renderBufferDirect(n,i,r,s,e,a),s.side=2):x.renderBufferDirect(n,i,r,s,e,a),e.onAfterRender(x,i,n,r,s,a)}function eO(e,i,n){var r;!0!==i.isScene&&(i=Y);let s=et.get(e),a=v.state.lights,o=v.state.shadowsArray,l=a.state.version,u=el.getParameters(e,a.state,o,i,n),c=el.getProgramCacheKey(u),h=s.programs;s.environment=e.isMeshStandardMaterial?i.environment:null,s.fog=i.fog,s.envMap=(e.isMeshStandardMaterial?er:en).get(e.envMap||s.environment),void 0===h&&(e.addEventListener("dispose",eA),h=new Map,s.programs=h);let d=h.get(c);if(void 0!==d){if(s.currentProgram===d&&s.lightsStateVersion===l)return eN(e,u),d}else u.uniforms=el.getUniforms(e),e.onBuild(n,u,x),e.onBeforeCompile(u,x),d=el.acquireProgram(u,c),h.set(c,d),s.uniforms=u.uniforms;let p=s.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(p.clippingPlanes=ed.uniform),eN(e,u),s.needsLights=(r=e).isMeshLambertMaterial||r.isMeshToonMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial||r.isShadowMaterial||r.isShaderMaterial&&!0===r.lights,s.lightsStateVersion=l,s.needsLights&&(p.ambientLightColor.value=a.state.ambient,p.lightProbe.value=a.state.probe,p.directionalLights.value=a.state.directional,p.directionalLightShadows.value=a.state.directionalShadow,p.spotLights.value=a.state.spot,p.spotLightShadows.value=a.state.spotShadow,p.rectAreaLights.value=a.state.rectArea,p.ltc_1.value=a.state.rectAreaLTC1,p.ltc_2.value=a.state.rectAreaLTC2,p.pointLights.value=a.state.point,p.pointLightShadows.value=a.state.pointShadow,p.hemisphereLights.value=a.state.hemi,p.directionalShadowMap.value=a.state.directionalShadowMap,p.directionalShadowMatrix.value=a.state.directionalShadowMatrix,p.spotShadowMap.value=a.state.spotShadowMap,p.spotLightMatrix.value=a.state.spotLightMatrix,p.spotLightMap.value=a.state.spotLightMap,p.pointShadowMap.value=a.state.pointShadowMap,p.pointShadowMatrix.value=a.state.pointShadowMatrix);let f=d.getUniforms(),m=nT.seqWithValue(f.seq,p);return s.currentProgram=d,s.uniformsList=m,d}function eN(e,i){let n=et.get(e);n.outputColorSpace=i.outputColorSpace,n.instancing=i.instancing,n.skinning=i.skinning,n.morphTargets=i.morphTargets,n.morphNormals=i.morphNormals,n.morphColors=i.morphColors,n.morphTargetsCount=i.morphTargetsCount,n.numClippingPlanes=i.numClippingPlanes,n.numIntersection=i.numClipIntersection,n.vertexAlphas=i.vertexAlphas,n.vertexTangents=i.vertexTangents,n.toneMapping=i.toneMapping}eL.setAnimationLoop(function(e){e0&&e0(e)}),"undefined"!=typeof self&&eL.setContext(self),this.setAnimationLoop=function(e){e0=e,eT.setAnimationLoop(e),null===e?eL.stop():eL.start()},eT.addEventListener("sessionstart",e1),eT.addEventListener("sessionend",eP),this.render=function(e,i){if(void 0!==i&&!0!==i.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===b)return;!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===i.parent&&!0===i.matrixWorldAutoUpdate&&i.updateMatrixWorld(),!0===eT.enabled&&!0===eT.isPresenting&&(!0===eT.cameraAutoUpdate&&eT.updateCamera(i),i=eT.getCamera()),!0===e.isScene&&e.onBeforeRender(x,e,i,E),(v=eh.get(e,_.length)).init(),_.push(v),X.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),z.setFromProjectionMatrix(X),V=this.localClippingEnabled,B=ed.init(this.clippingPlanes,V),($=ec.get(e,y.length)).init(),y.push($),function e(i,n,r,s){if(!1===i.visible)return;if(i.layers.test(n.layers)){if(i.isGroup)r=i.renderOrder;else if(i.isLOD)!0===i.autoUpdate&&i.update(n);else if(i.isLight)v.pushLight(i),i.castShadow&&v.pushShadow(i);else if(i.isSprite){if(!i.frustumCulled||z.intersectsSprite(i)){s&&q.setFromMatrixPosition(i.matrixWorld).applyMatrix4(X);let a=eo.update(i),o=i.material;o.visible&&$.push(i,a,o,r,q.z,null)}}else if((i.isMesh||i.isLine||i.isPoints)&&(!i.frustumCulled||z.intersectsObject(i))){i.isSkinnedMesh&&i.skeleton.frame!==ee.render.frame&&(i.skeleton.update(),i.skeleton.frame=ee.render.frame);let l=eo.update(i),u=i.material;if(s&&(null===l.boundingSphere&&l.computeBoundingSphere(),q.copy(l.boundingSphere.center).applyMatrix4(i.matrixWorld).applyMatrix4(X)),Array.isArray(u)){let c=l.groups;for(let h=0,d=c.length;h<d;h++){let p=c[h],f=u[p.materialIndex];f&&f.visible&&$.push(i,l,f,r,q.z,p)}}else u.visible&&$.push(i,l,u,r,q.z,null)}}let m=i.children;for(let g=0,y=m.length;g<y;g++)e(m[g],n,r,s)}(e,i,0,x.sortObjects),$.finish(),!0===x.sortObjects&&$.sort(k,O),!0===B&&ed.beginShadows();let n=v.state.shadowsArray;if(ep.render(n,e,i),!0===B&&ed.endShadows(),!0===this.info.autoReset&&this.info.reset(),ef.render($,e),v.setupLights(x.useLegacyLights),i.isArrayCamera){let r=i.cameras;for(let s=0,a=r.length;s<a;s++){let o=r[s];eR($,e,o,o.viewport)}}else eR($,e,i);null!==E&&(ei.updateMultisampleRenderTarget(E),ei.updateRenderTargetMipmap(E)),!0===e.isScene&&e.onAfterRender(x,e,i),ey.resetDefaultState(),M=-1,C=null,_.pop(),v=_.length>0?_[_.length-1]:null,y.pop(),$=y.length>0?y[y.length-1]:null},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return E},this.setRenderTargetTextures=function(e,i,n){et.get(e.texture).__webglTexture=i,et.get(e.depthTexture).__webglTexture=n;let r=et.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===K.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,i){let n=et.get(e);n.__webglFramebuffer=i,n.__useDefaultFramebuffer=void 0===i},this.setRenderTarget=function(e,i=0,n=0){E=e,w=i,S=n;let r=!0,s=null,a=!1,o=!1;if(e){let l=et.get(e);void 0!==l.__useDefaultFramebuffer?(Q.bindFramebuffer(e_.FRAMEBUFFER,null),r=!1):void 0===l.__webglFramebuffer?ei.setupRenderTarget(e):l.__hasExternalTextures&&ei.rebindTextures(e,et.get(e.texture).__webglTexture,et.get(e.depthTexture).__webglTexture);let u=e.texture;(u.isData3DTexture||u.isDataArrayTexture||u.isCompressedArrayTexture)&&(o=!0);let c=et.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(s=c[i],a=!0):s=J.isWebGL2&&e.samples>0&&!1===ei.useMultisampledRTT(e)?et.get(e).__webglMultisampledFramebuffer:c,D.copy(e.viewport),A.copy(e.scissor),P=e.scissorTest}else D.copy(N).multiplyScalar(I).floor(),A.copy(F).multiplyScalar(I).floor(),P=U;if(Q.bindFramebuffer(e_.FRAMEBUFFER,s)&&J.drawBuffers&&r&&Q.drawBuffers(e,s),Q.viewport(D),Q.scissor(A),Q.setScissorTest(P),a){let h=et.get(e.texture);e_.framebufferTexture2D(e_.FRAMEBUFFER,e_.COLOR_ATTACHMENT0,e_.TEXTURE_CUBE_MAP_POSITIVE_X+i,h.__webglTexture,n)}else if(o){let d=et.get(e.texture);e_.framebufferTextureLayer(e_.FRAMEBUFFER,e_.COLOR_ATTACHMENT0,d.__webglTexture,n||0,i||0)}M=-1},this.readRenderTargetPixels=function(e,i,n,r,s,a,o){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let l=et.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(l=l[o]),l){Q.bindFramebuffer(e_.FRAMEBUFFER,l);try{let u=e.texture,c=u.format,h=u.type;if(1023!==c&&ev.convert(c)!==e_.getParameter(e_.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");let d=1016===h&&(K.has("EXT_color_buffer_half_float")||J.isWebGL2&&K.has("EXT_color_buffer_float"));if(!(1009===h||ev.convert(h)===e_.getParameter(e_.IMPLEMENTATION_COLOR_READ_TYPE)||1015===h&&(J.isWebGL2||K.has("OES_texture_float")||K.has("WEBGL_color_buffer_float"))||d))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");i>=0&&i<=e.width-r&&n>=0&&n<=e.height-s&&e_.readPixels(i,n,r,s,ev.convert(c),ev.convert(h),a)}finally{let p=null!==E?et.get(E).__webglFramebuffer:null;Q.bindFramebuffer(e_.FRAMEBUFFER,p)}}},this.copyFramebufferToTexture=function(e,i,n=0){let r=Math.pow(2,-n),s=Math.floor(i.image.width*r),a=Math.floor(i.image.height*r);ei.setTexture2D(i,0),e_.copyTexSubImage2D(e_.TEXTURE_2D,n,0,0,e.x,e.y,s,a),Q.unbindTexture()},this.copyTextureToTexture=function(e,i,n,r=0){let s=i.image.width,a=i.image.height,o=ev.convert(n.format),l=ev.convert(n.type);ei.setTexture2D(n,0),e_.pixelStorei(e_.UNPACK_FLIP_Y_WEBGL,n.flipY),e_.pixelStorei(e_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),e_.pixelStorei(e_.UNPACK_ALIGNMENT,n.unpackAlignment),i.isDataTexture?e_.texSubImage2D(e_.TEXTURE_2D,r,e.x,e.y,s,a,o,l,i.image.data):i.isCompressedTexture?e_.compressedTexSubImage2D(e_.TEXTURE_2D,r,e.x,e.y,i.mipmaps[0].width,i.mipmaps[0].height,o,i.mipmaps[0].data):e_.texSubImage2D(e_.TEXTURE_2D,r,e.x,e.y,o,l,i.image),0===r&&n.generateMipmaps&&e_.generateMipmap(e_.TEXTURE_2D),Q.unbindTexture()},this.copyTextureToTexture3D=function(e,i,n,r,s=0){if(x.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");let a=e.max.x-e.min.x+1,o=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=ev.convert(r.format),c=ev.convert(r.type),h;if(r.isData3DTexture)ei.setTexture3D(r,0),h=e_.TEXTURE_3D;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ei.setTexture2DArray(r,0),h=e_.TEXTURE_2D_ARRAY}e_.pixelStorei(e_.UNPACK_FLIP_Y_WEBGL,r.flipY),e_.pixelStorei(e_.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),e_.pixelStorei(e_.UNPACK_ALIGNMENT,r.unpackAlignment);let d=e_.getParameter(e_.UNPACK_ROW_LENGTH),p=e_.getParameter(e_.UNPACK_IMAGE_HEIGHT),f=e_.getParameter(e_.UNPACK_SKIP_PIXELS),m=e_.getParameter(e_.UNPACK_SKIP_ROWS),g=e_.getParameter(e_.UNPACK_SKIP_IMAGES),$=n.isCompressedTexture?n.mipmaps[0]:n.image;e_.pixelStorei(e_.UNPACK_ROW_LENGTH,$.width),e_.pixelStorei(e_.UNPACK_IMAGE_HEIGHT,$.height),e_.pixelStorei(e_.UNPACK_SKIP_PIXELS,e.min.x),e_.pixelStorei(e_.UNPACK_SKIP_ROWS,e.min.y),e_.pixelStorei(e_.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?e_.texSubImage3D(h,s,i.x,i.y,i.z,a,o,l,u,c,$.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),e_.compressedTexSubImage3D(h,s,i.x,i.y,i.z,a,o,l,u,$.data)):e_.texSubImage3D(h,s,i.x,i.y,i.z,a,o,l,u,c,$),e_.pixelStorei(e_.UNPACK_ROW_LENGTH,d),e_.pixelStorei(e_.UNPACK_IMAGE_HEIGHT,p),e_.pixelStorei(e_.UNPACK_SKIP_PIXELS,f),e_.pixelStorei(e_.UNPACK_SKIP_ROWS,m),e_.pixelStorei(e_.UNPACK_SKIP_IMAGES,g),0===s&&r.generateMipmaps&&e_.generateMipmap(h),Q.unbindTexture()},this.initTexture=function(e){e.isCubeTexture?ei.setTextureCube(e,0):e.isData3DTexture?ei.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ei.setTexture2DArray(e,0):ei.setTexture2D(e,0),Q.unbindTexture()},this.resetState=function(){w=0,S=0,E=null,Q.reset(),ey.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===i?3001:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=3001===e?i:n}}class ro extends ra{}ro.prototype.isWebGL1Renderer=!0;class rl{constructor(e,i=25e-5){this.isFogExp2=!0,this.name="",this.color=new tn(e),this.density=i}clone(){return new rl(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class ru{constructor(e,i=1,n=1e3){this.isFog=!0,this.name="",this.color=new tn(e),this.near=i,this.far=n}clone(){return new ru(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class rc extends eH{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,i){return super.copy(e,i),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let i=super.toJSON(e);return null!==this.fog&&(i.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(i.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(i.object.backgroundIntensity=this.backgroundIntensity),i}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class rh{constructor(e,i){this.isInterleavedBuffer=!0,this.array=e,this.stride=i,this.count=void 0!==e?e.length/i:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=h()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,i,n){e*=this.stride,n*=i.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=i.array[n+r];return this}set(e,i=0){return this.array.set(e,i),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=h()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let i=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(i,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=h()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}let rd=new j;class rp{constructor(e,i,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=i,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let i=0,n=this.data.count;i<n;i++)rd.fromBufferAttribute(this,i),rd.applyMatrix4(e),this.setXYZ(i,rd.x,rd.y,rd.z);return this}applyNormalMatrix(e){for(let i=0,n=this.count;i<n;i++)rd.fromBufferAttribute(this,i),rd.applyNormalMatrix(e),this.setXYZ(i,rd.x,rd.y,rd.z);return this}transformDirection(e){for(let i=0,n=this.count;i<n;i++)rd.fromBufferAttribute(this,i),rd.transformDirection(e),this.setXYZ(i,rd.x,rd.y,rd.z);return this}setX(e,i){return this.normalized&&(i=y(i,this.array)),this.data.array[e*this.data.stride+this.offset]=i,this}setY(e,i){return this.normalized&&(i=y(i,this.array)),this.data.array[e*this.data.stride+this.offset+1]=i,this}setZ(e,i){return this.normalized&&(i=y(i,this.array)),this.data.array[e*this.data.stride+this.offset+2]=i,this}setW(e,i){return this.normalized&&(i=y(i,this.array)),this.data.array[e*this.data.stride+this.offset+3]=i,this}getX(e){let i=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(i=v(i,this.array)),i}getY(e){let i=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(i=v(i,this.array)),i}getZ(e){let i=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(i=v(i,this.array)),i}getW(e){let i=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(i=v(i,this.array)),i}setXY(e,i,n){return e=e*this.data.stride+this.offset,this.normalized&&(i=y(i,this.array),n=y(n,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=n,this}setXYZ(e,i,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(i=y(i,this.array),n=y(n,this.array),r=y(r,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,i,n,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(i=y(i,this.array),n=y(n,this.array),r=y(r,this.array),s=y(s,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let i=[];for(let n=0;n<this.count;n++){let r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)i.push(this.data.array[r+s])}return new th(new this.array.constructor(i),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new rp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let i=[];for(let n=0;n<this.count;n++){let r=n*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)i.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:i,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class rf extends eJ{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new tn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let rm,rg=new j,r$=new j,rv=new j,ry=new _,r8=new _,r_=new eb,rx=new j,rb=new j,rw=new j,rS=new _,rE=new _,rT=new _;class rM extends eH{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",void 0===rm){rm=new tx;let i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new rh(i,5);rm.setIndex([0,1,2,0,2,3]),rm.setAttribute("position",new rp(n,3,0,!1)),rm.setAttribute("uv",new rp(n,2,3,!1))}this.geometry=rm,this.material=void 0!==e?e:new rf,this.center=new _(.5,.5)}raycast(e,i){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),r$.setFromMatrixScale(this.matrixWorld),r_.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),rv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&r$.multiplyScalar(-rv.z);let n=this.material.rotation,r,s;0!==n&&(s=Math.cos(n),r=Math.sin(n));let a=this.center;rC(rx.set(-.5,-.5,0),rv,a,r$,r,s),rC(rb.set(.5,-.5,0),rv,a,r$,r,s),rC(rw.set(.5,.5,0),rv,a,r$,r,s),rS.set(0,0),rE.set(1,0),rT.set(1,1);let o=e.ray.intersectTriangle(rx,rb,rw,!1,rg);if(null===o&&(rC(rb.set(-.5,.5,0),rv,a,r$,r,s),rE.set(0,1),null===(o=e.ray.intersectTriangle(rx,rw,rb,!1,rg))))return;let l=e.ray.origin.distanceTo(rg);l<e.near||l>e.far||i.push({distance:l,point:rg.clone(),uv:eZ.getInterpolation(rg,rx,rb,rw,rS,rE,rT,new _),face:null,object:this})}copy(e,i){return super.copy(e,i),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function rC(e,i,n,r,s,a){ry.subVectors(e,n).addScalar(.5).multiply(r),void 0!==s?(r8.x=a*ry.x-s*ry.y,r8.y=s*ry.x+a*ry.y):r8.copy(ry),e.copy(i),e.x+=r8.x,e.y+=r8.y,e.applyMatrix4(r_)}let rD=new j,rA=new j;class r0 extends eH{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);let i=e.levels;for(let n=0,r=i.length;n<r;n++){let s=i[n];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,i=0,n=0){i=Math.abs(i);let r=this.levels,s;for(s=0;s<r.length&&!(i<r[s].distance);s++);return r.splice(s,0,{distance:i,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){let i=this.levels;if(i.length>0){let n,r;for(n=1,r=i.length;n<r;n++){let s=i[n].distance;if(i[n].object.visible&&(s-=s*i[n].hysteresis),e<s)break}return i[n-1].object}return null}raycast(e,i){if(this.levels.length>0){rD.setFromMatrixPosition(this.matrixWorld);let n=e.ray.origin.distanceTo(rD);this.getObjectForDistance(n).raycast(e,i)}}update(e){let i=this.levels;if(i.length>1){rD.setFromMatrixPosition(e.matrixWorld),rA.setFromMatrixPosition(this.matrixWorld);let n=rD.distanceTo(rA)/e.zoom,r,s;for(i[0].object.visible=!0,r=1,s=i.length;r<s;r++){let a=i[r].distance;if(i[r].object.visible&&(a-=a*i[r].hysteresis),!(n>=a))break;i[r-1].object.visible=!1,i[r].object.visible=!0}for(this._currentLevel=r-1;r<s;r++)i[r].object.visible=!1}}toJSON(e){let i=super.toJSON(e);!1===this.autoUpdate&&(i.object.autoUpdate=!1),i.object.levels=[];let n=this.levels;for(let r=0,s=n.length;r<s;r++){let a=n[r];i.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return i}}let r1=new j,rP=new H,rL=new H,rR=new j,rI=new eb,rk=new j;class rO extends tN{constructor(e,i){super(e,i),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new eb,this.bindMatrixInverse=new eb,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){let e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Z),this.boundingBox.makeEmpty();let i=e.getAttribute("position");for(let n=0;n<i.count;n++)rk.fromBufferAttribute(i,n),this.applyBoneTransform(n,rk),this.boundingBox.expandByPoint(rk)}computeBoundingSphere(){let e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new ef),this.boundingSphere.makeEmpty();let i=e.getAttribute("position");for(let n=0;n<i.count;n++)rk.fromBufferAttribute(i,n),this.applyBoneTransform(n,rk),this.boundingSphere.expandByPoint(rk)}copy(e,i){return super.copy(e,i),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,i){return super.getVertexPosition(e,i),this.applyBoneTransform(e,i),i}bind(e,i){this.skeleton=e,void 0===i&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),i=this.matrixWorld),this.bindMatrix.copy(i),this.bindMatrixInverse.copy(i).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){let e=new H,i=this.geometry.attributes.skinWeight;for(let n=0,r=i.count;n<r;n++){e.fromBufferAttribute(i,n);let s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),i.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,i){let n=this.skeleton,r=this.geometry;rP.fromBufferAttribute(r.attributes.skinIndex,e),rL.fromBufferAttribute(r.attributes.skinWeight,e),r1.copy(i).applyMatrix4(this.bindMatrix),i.set(0,0,0);for(let s=0;s<4;s++){let a=rL.getComponent(s);if(0!==a){let o=rP.getComponent(s);rI.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),i.addScaledVector(rR.copy(r1).applyMatrix4(rI),a)}}return i.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,i){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,i)}}class rN extends eH{constructor(){super(),this.isBone=!0,this.type="Bone"}}class rF extends B{constructor(e=null,i=1,n=1,r,s,a,o,l,u=1003,c=1003,h,d){super(null,a,o,l,u,c,r,s,h,d),this.isDataTexture=!0,this.image={data:e,width:i,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}let rU=new eb,rz=new eb;class rB{constructor(e=[],i=[]){this.uuid=h(),this.bones=e.slice(0),this.boneInverses=i,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,i=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===i.length)this.calculateInverses();else if(e.length!==i.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new eb)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,i=this.bones.length;e<i;e++){let n=new eb;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,i=this.bones.length;e<i;e++){let n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let r=0,s=this.bones.length;r<s;r++){let a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}update(){let e=this.bones,i=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){let o=e[s]?e[s].matrixWorld:rz;rU.multiplyMatrices(o,i[s]),rU.toArray(n,16*s)}null!==r&&(r.needsUpdate=!0)}clone(){return new rB(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=Math.max(e=g(e),4);let i=new Float32Array(e*e*4);i.set(this.boneMatrices);let n=new rF(i,e,e,1023,1015);return n.needsUpdate=!0,this.boneMatrices=i,this.boneTexture=n,this.boneTextureSize=e,this}getBoneByName(e){for(let i=0,n=this.bones.length;i<n;i++){let r=this.bones[i];if(r.name===e)return r}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,i){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){let s=e.bones[n],a=i[s];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new rN),this.bones.push(a),this.boneInverses.push((new eb).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let i=this.bones,n=this.boneInverses;for(let r=0,s=i.length;r<s;r++){let a=i[r];e.bones.push(a.uuid);let o=n[r];e.boneInverses.push(o.toArray())}return e}}class r3 extends th{constructor(e,i,n,r=1){super(e,i,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}let r2=new eb,r4=new eb,rH=[],rG=new Z,r6=new eb,rV=new tN,rW=new ef;class r5 extends tN{constructor(e,i,n){super(e,i),this.isInstancedMesh=!0,this.instanceMatrix=new r3(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,r6)}computeBoundingBox(){let e=this.geometry,i=this.count;null===this.boundingBox&&(this.boundingBox=new Z),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<i;n++)this.getMatrixAt(n,r2),rG.copy(e.boundingBox).applyMatrix4(r2),this.boundingBox.union(rG)}computeBoundingSphere(){let e=this.geometry,i=this.count;null===this.boundingSphere&&(this.boundingSphere=new ef),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<i;n++)this.getMatrixAt(n,r2),rW.copy(e.boundingSphere).applyMatrix4(r2),this.boundingSphere.union(rW)}copy(e,i){return super.copy(e,i),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,i){i.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,i){i.fromArray(this.instanceMatrix.array,16*e)}raycast(e,i){let n=this.matrixWorld,r=this.count;if(rV.geometry=this.geometry,rV.material=this.material,void 0!==rV.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),rW.copy(this.boundingSphere),rW.applyMatrix4(n),!1!==e.ray.intersectsSphere(rW)))for(let s=0;s<r;s++){this.getMatrixAt(s,r2),r4.multiplyMatrices(n,r2),rV.matrixWorld=r4,rV.raycast(e,rH);for(let a=0,o=rH.length;a<o;a++){let l=rH[a];l.instanceId=s,l.object=this,i.push(l)}rH.length=0}}setColorAt(e,i){null===this.instanceColor&&(this.instanceColor=new r3(new Float32Array(3*this.instanceMatrix.count),3)),i.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,i){i.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class r7 extends eJ{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new tn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}let rX=new j,rj=new j,rq=new eb,r9=new ex,rY=new ef;class rZ extends eH{constructor(e=new tx,i=new r7){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=i,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(null===e.index){let i=e.attributes.position,n=[0];for(let r=1,s=i.count;r<s;r++)rX.fromBufferAttribute(i,r-1),rj.fromBufferAttribute(i,r),n[r]=n[r-1],n[r]+=rX.distanceTo(rj);e.setAttribute("lineDistance",new tf(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,i){let n=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),rY.copy(n.boundingSphere),rY.applyMatrix4(r),rY.radius+=s,!1===e.ray.intersectsSphere(rY))return;rq.copy(r).invert(),r9.copy(e.ray).applyMatrix4(rq);let o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=new j,c=new j,h=new j,d=new j,p=this.isLineSegments?2:1,f=n.index,m=n.attributes.position;if(null!==f)for(let g=Math.max(0,a.start),$=Math.min(f.count,a.start+a.count)-1;g<$;g+=p){let v=f.getX(g),y=f.getX(g+1);if(u.fromBufferAttribute(m,v),c.fromBufferAttribute(m,y),r9.distanceSqToSegment(u,c,d,h)>l)continue;d.applyMatrix4(this.matrixWorld);let _=e.ray.origin.distanceTo(d);_<e.near||_>e.far||i.push({distance:_,point:h.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}else for(let x=Math.max(0,a.start),b=Math.min(m.count,a.start+a.count)-1;x<b;x+=p){if(u.fromBufferAttribute(m,x),c.fromBufferAttribute(m,x+1),r9.distanceSqToSegment(u,c,d,h)>l)continue;d.applyMatrix4(this.matrixWorld);let w=e.ray.origin.distanceTo(d);w<e.near||w>e.far||i.push({distance:w,point:h.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}updateMorphTargets(){let e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){let n=e[i[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=n.length;r<s;r++){let a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}let rK=new j,rJ=new j;class rQ extends rZ{constructor(e,i){super(e,i),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(null===e.index){let i=e.attributes.position,n=[];for(let r=0,s=i.count;r<s;r+=2)rK.fromBufferAttribute(i,r),rJ.fromBufferAttribute(i,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+rK.distanceTo(rJ);e.setAttribute("lineDistance",new tf(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class se extends rZ{constructor(e,i){super(e,i),this.isLineLoop=!0,this.type="LineLoop"}}class st extends eJ{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new tn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let si=new eb,sn=new ex,sr=new ef,ss=new j;class sa extends eH{constructor(e=new tx,i=new st){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=i,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),this.material=e.material,this.geometry=e.geometry,this}raycast(e,i){let n=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),sr.copy(n.boundingSphere),sr.applyMatrix4(r),sr.radius+=s,!1===e.ray.intersectsSphere(sr))return;si.copy(r).invert(),sn.copy(e.ray).applyMatrix4(si);let o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=n.index,c=n.attributes.position;if(null!==u)for(let h=Math.max(0,a.start),d=Math.min(u.count,a.start+a.count);h<d;h++){let p=u.getX(h);ss.fromBufferAttribute(c,p),so(ss,p,l,r,e,i,this)}else for(let f=Math.max(0,a.start),m=Math.min(c.count,a.start+a.count);f<m;f++)ss.fromBufferAttribute(c,f),so(ss,f,l,r,e,i,this)}updateMorphTargets(){let e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){let n=e[i[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,s=n.length;r<s;r++){let a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}function so(e,i,n,r,s,a,o){let l=sn.distanceSqToPoint(e);if(l<n){let u=new j;sn.closestPointToPoint(e,u),u.applyMatrix4(r);let c=s.ray.origin.distanceTo(u);if(c<s.near||c>s.far)return;a.push({distance:c,distanceToRay:Math.sqrt(l),point:u,index:i,face:null,object:o})}}class sl extends B{constructor(e,i,n,r,s,a,o,l,u,c,h,d){super(null,a,o,l,u,c,r,s,h,d),this.isCompressedTexture=!0,this.image={width:i,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class su{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,i){let n=this.getUtoTmapping(e);return this.getPoint(n,i)}getPoints(e=5){let i=[];for(let n=0;n<=e;n++)i.push(this.getPoint(n/e));return i}getSpacedPoints(e=5){let i=[];for(let n=0;n<=e;n++)i.push(this.getPointAt(n/e));return i}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let i=[],n,r=this.getPoint(0),s=0;i.push(0);for(let a=1;a<=e;a++)s+=(n=this.getPoint(a/e)).distanceTo(r),i.push(s),r=n;return this.cacheArcLengths=i,i}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,i){let n=this.getLengths(),r=0,s=n.length,a;a=i||e*n[s-1];let o,l=0,u=s-1;for(;l<=u;)if((o=n[r=Math.floor(l+(u-l)/2)]-a)<0)l=r+1;else{if(!(o>0)){u=r;break}u=r-1}if(n[r=u]===a)return r/(s-1);let c=n[r];return(r+(a-c)/(n[r+1]-c))/(s-1)}getTangent(e,i){let n=e-1e-4,r=e+1e-4;n<0&&(n=0),r>1&&(r=1);let s=this.getPoint(n),a=this.getPoint(r),o=i||(s.isVector2?new _:new j);return o.copy(a).sub(s).normalize(),o}getTangentAt(e,i){let n=this.getUtoTmapping(e);return this.getTangent(n,i)}computeFrenetFrames(e,i){let n=new j,r=[],s=[],a=[],o=new j,l=new eb;for(let u=0;u<=e;u++){let c=u/e;r[u]=this.getTangentAt(c,new j)}s[0]=new j,a[0]=new j;let h=Number.MAX_VALUE,p=Math.abs(r[0].x),f=Math.abs(r[0].y),m=Math.abs(r[0].z);p<=h&&(h=p,n.set(1,0,0)),f<=h&&(h=f,n.set(0,1,0)),m<=h&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),a[g]=a[g-1].clone(),o.crossVectors(r[g-1],r[g]),o.length()>Number.EPSILON){o.normalize();let $=Math.acos(d(r[g-1].dot(r[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(o,$))}a[g].crossVectors(r[g],s[g])}if(!0===i){let v=Math.acos(d(s[0].dot(s[e]),-1,1));v/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(v=-v);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],v*y)),a[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class sc extends su{constructor(e=0,i=0,n=1,r=1,s=0,a=2*Math.PI,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=i,this.xRadius=n,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,i){let n=i||new _,r=2*Math.PI,s=this.aEndAngle-this.aStartAngle,a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(s=a?0:r),!0!==this.aClockwise||a||(s===r?s=-r:s-=r);let o=this.aStartAngle+e*s,l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){let c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),d=l-this.aX,p=u-this.aY;l=d*c-p*h+this.aX,u=d*h+p*c+this.aY}return n.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class sh extends sc{constructor(e,i,n,r,s,a){super(e,i,n,n,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function sd(){let e=0,i=0,n=0,r=0;function s(s,a,o,l){e=s,i=o,n=-3*s+3*a-2*o-l,r=2*s-2*a+o+l}return{initCatmullRom:function(e,i,n,r,a){s(i,n,a*(n-e),a*(r-i))},initNonuniformCatmullRom:function(e,i,n,r,a,o,l){let u=(i-e)/a-(n-e)/(a+o)+(n-i)/o,c=(n-i)/o-(r-i)/(o+l)+(r-n)/l;s(i,n,u*=o,c*=o)},calc:function(s){let a=s*s;return e+i*s+n*a+r*(a*s)}}}let sp=new j,sf=new sd,sm=new sd,sg=new sd;class s$ extends su{constructor(e=[],i=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=i,this.curveType=n,this.tension=r}getPoint(e,i=new j){let n=i,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e,o,l,u=Math.floor(a),c=a-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/s)+1)*s:0===c&&u===s-1&&(u=s-2,c=1),this.closed||u>0?o=r[(u-1)%s]:(sp.subVectors(r[0],r[1]).add(r[0]),o=sp);let h=r[u%s],d=r[(u+1)%s];if(this.closed||u+2<s?l=r[(u+2)%s]:(sp.subVectors(r[s-1],r[s-2]).add(r[s-1]),l=sp),"centripetal"===this.curveType||"chordal"===this.curveType){let p="chordal"===this.curveType?.5:.25,f=Math.pow(o.distanceToSquared(h),p),m=Math.pow(h.distanceToSquared(d),p),g=Math.pow(d.distanceToSquared(l),p);m<1e-4&&(m=1),f<1e-4&&(f=m),g<1e-4&&(g=m),sf.initNonuniformCatmullRom(o.x,h.x,d.x,l.x,f,m,g),sm.initNonuniformCatmullRom(o.y,h.y,d.y,l.y,f,m,g),sg.initNonuniformCatmullRom(o.z,h.z,d.z,l.z,f,m,g)}else"catmullrom"===this.curveType&&(sf.initCatmullRom(o.x,h.x,d.x,l.x,this.tension),sm.initCatmullRom(o.y,h.y,d.y,l.y,this.tension),sg.initCatmullRom(o.z,h.z,d.z,l.z,this.tension));return n.set(sf.calc(c),sm.calc(c),sg.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let i=0,n=e.points.length;i<n;i++){let r=e.points[i];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let i=0,n=this.points.length;i<n;i++){let r=this.points[i];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let i=0,n=e.points.length;i<n;i++){let r=e.points[i];this.points.push((new j).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function sv(e,i,n,r,s){let a=.5*(r-i),o=.5*(s-n),l=e*e;return(2*n-2*r+a+o)*(e*l)+(-3*n+3*r-2*a-o)*l+a*e+n}function sy(e,i,n,r){var s,a,o,l;return function(e,i){let n=1-e;return n*n*i}(e,i)+(s=e,2*(1-s)*s*(a=n))+(o=e,o*o*(l=r))}function s8(e,i,n,r,s){var a,o,l,u;return function(e,i){let n=1-e;return n*n*n*i}(e,i)+function(e,i){let n=1-e;return 3*n*n*e*i}(e,n)+(a=e,3*(1-a)*a*a*(o=r))+(l=e,l*l*l*(u=s))}class s_ extends su{constructor(e=new _,i=new _,n=new _,r=new _){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=i,this.v2=n,this.v3=r}getPoint(e,i=new _){let n=i,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return n.set(s8(e,r.x,s.x,a.x,o.x),s8(e,r.y,s.y,a.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class sx extends su{constructor(e=new j,i=new j,n=new j,r=new j){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=i,this.v2=n,this.v3=r}getPoint(e,i=new j){let n=i,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return n.set(s8(e,r.x,s.x,a.x,o.x),s8(e,r.y,s.y,a.y,o.y),s8(e,r.z,s.z,a.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class sb extends su{constructor(e=new _,i=new _){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=i}getPoint(e,i=new _){let n=i;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,i){return this.getPoint(e,i)}getTangent(e,i=new _){return i.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,i){return this.getTangent(e,i)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sw extends su{constructor(e=new j,i=new j){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=i}getPoint(e,i=new j){let n=i;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,i){return this.getPoint(e,i)}getTangent(e,i=new j){return i.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,i){return this.getTangent(e,i)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sS extends su{constructor(e=new _,i=new _,n=new _){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=i,this.v2=n}getPoint(e,i=new _){let n=i,r=this.v0,s=this.v1,a=this.v2;return n.set(sy(e,r.x,s.x,a.x),sy(e,r.y,s.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sE extends su{constructor(e=new j,i=new j,n=new j){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=i,this.v2=n}getPoint(e,i=new j){let n=i,r=this.v0,s=this.v1,a=this.v2;return n.set(sy(e,r.x,s.x,a.x),sy(e,r.y,s.y,a.y),sy(e,r.z,s.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sT extends su{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,i=new _){let n=i,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,l=r[0===a?a:a-1],u=r[a],c=r[a>r.length-2?r.length-1:a+1],h=r[a>r.length-3?r.length-1:a+2];return n.set(sv(o,l.x,u.x,c.x,h.x),sv(o,l.y,u.y,c.y,h.y)),n}copy(e){super.copy(e),this.points=[];for(let i=0,n=e.points.length;i<n;i++){let r=e.points[i];this.points.push(r.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let i=0,n=this.points.length;i<n;i++){let r=this.points[i];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let i=0,n=e.points.length;i<n;i++){let r=e.points[i];this.points.push((new _).fromArray(r))}return this}}var sM=Object.freeze({__proto__:null,ArcCurve:sh,CatmullRomCurve3:s$,CubicBezierCurve:s_,CubicBezierCurve3:sx,EllipseCurve:sc,LineCurve:sb,LineCurve3:sw,QuadraticBezierCurve:sS,QuadraticBezierCurve3:sE,SplineCurve:sT});class sC extends su{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),i=this.curves[this.curves.length-1].getPoint(1);e.equals(i)||this.curves.push(new sb(i,e))}getPoint(e,i){let n=e*this.getLength(),r=this.getCurveLengths(),s=0;for(;s<r.length;){if(r[s]>=n){let a=r[s]-n,o=this.curves[s],l=o.getLength(),u=0===l?0:1-a/l;return o.getPointAt(u,i)}s++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],i=0;for(let n=0,r=this.curves.length;n<r;n++)i+=this.curves[n].getLength(),e.push(i);return this.cacheLengths=e,e}getSpacedPoints(e=40){let i=[];for(let n=0;n<=e;n++)i.push(this.getPoint(n/e));return this.autoClose&&i.push(i[0]),i}getPoints(e=12){let i=[],n;for(let r=0,s=this.curves;r<s.length;r++){let a=s[r],o=a.isEllipseCurve?2*e:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let u=0;u<l.length;u++){let c=l[u];n&&n.equals(c)||(i.push(c),n=c)}}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i}copy(e){super.copy(e),this.curves=[];for(let i=0,n=e.curves.length;i<n;i++){let r=e.curves[i];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let i=0,n=this.curves.length;i<n;i++){let r=this.curves[i];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let i=0,n=e.curves.length;i<n;i++){let r=e.curves[i];this.curves.push((new sM[r.type]).fromJSON(r))}return this}}class sD extends sC{constructor(e){super(),this.type="Path",this.currentPoint=new _,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let i=1,n=e.length;i<n;i++)this.lineTo(e[i].x,e[i].y);return this}moveTo(e,i){return this.currentPoint.set(e,i),this}lineTo(e,i){let n=new sb(this.currentPoint.clone(),new _(e,i));return this.curves.push(n),this.currentPoint.set(e,i),this}quadraticCurveTo(e,i,n,r){let s=new sS(this.currentPoint.clone(),new _(e,i),new _(n,r));return this.curves.push(s),this.currentPoint.set(n,r),this}bezierCurveTo(e,i,n,r,s,a){let o=new s_(this.currentPoint.clone(),new _(e,i),new _(n,r),new _(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){let i=[this.currentPoint.clone()].concat(e),n=new sT(i);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,i,n,r,s,a){let o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,i+l,n,r,s,a),this}absarc(e,i,n,r,s,a){return this.absellipse(e,i,n,n,r,s,a),this}ellipse(e,i,n,r,s,a,o,l){let u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,i+c,n,r,s,a,o,l),this}absellipse(e,i,n,r,s,a,o,l){let u=new sc(e,i,n,r,s,a,o,l);if(this.curves.length>0){let c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);let h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class sA extends tx{constructor(e=[new _(0,-.5),new _(.5,0),new _(0,.5)],i=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:i,phiStart:n,phiLength:r},i=Math.floor(i),r=d(r,0,2*Math.PI);let s=[],a=[],o=[],l=[],u=[],c=1/i,h=new j,p=new _,f=new j,m=new j,g=new j,$=0,v=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:$=e[y+1].x-e[y].x,v=e[y+1].y-e[y].y,f.x=1*v,f.y=-$,f.z=0*v,g.copy(f),f.normalize(),l.push(f.x,f.y,f.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:$=e[y+1].x-e[y].x,v=e[y+1].y-e[y].y,f.x=1*v,f.y=-$,f.z=0*v,m.copy(f),f.x+=g.x,f.y+=g.y,f.z+=g.z,f.normalize(),l.push(f.x,f.y,f.z),g.copy(m)}for(let x=0;x<=i;x++){let b=n+x*c*r,w=Math.sin(b),S=Math.cos(b);for(let E=0;E<=e.length-1;E++){h.x=e[E].x*w,h.y=e[E].y,h.z=e[E].x*S,a.push(h.x,h.y,h.z),p.x=x/i,p.y=E/(e.length-1),o.push(p.x,p.y);let T=l[3*E+0]*w,M=l[3*E+1],C=l[3*E+0]*S;u.push(T,M,C)}}for(let D=0;D<i;D++)for(let A=0;A<e.length-1;A++){let P=A+D*e.length,L=P,R=P+e.length,I=P+e.length+1,k=P+1;s.push(L,R,k),s.push(I,k,R)}this.setIndex(s),this.setAttribute("position",new tf(a,3)),this.setAttribute("uv",new tf(o,2)),this.setAttribute("normal",new tf(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sA(e.points,e.segments,e.phiStart,e.phiLength)}}class s0 extends sA{constructor(e=1,i=1,n=4,r=8){let s=new sD;s.absarc(0,-i/2,e,1.5*Math.PI,0),s.absarc(0,i/2,e,0,.5*Math.PI),super(s.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,height:i,capSegments:n,radialSegments:r}}static fromJSON(e){return new s0(e.radius,e.length,e.capSegments,e.radialSegments)}}class s1 extends tx{constructor(e=1,i=32,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:i,thetaStart:n,thetaLength:r},i=Math.max(3,i);let s=[],a=[],o=[],l=[],u=new j,c=new _;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let h=0,d=3;h<=i;h++,d+=3){let p=n+h/i*r;u.x=e*Math.cos(p),u.y=e*Math.sin(p),a.push(u.x,u.y,u.z),o.push(0,0,1),c.x=(a[d]/e+1)/2,c.y=(a[d+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=i;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new tf(a,3)),this.setAttribute("normal",new tf(o,3)),this.setAttribute("uv",new tf(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new s1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class sP extends tx{constructor(e=1,i=1,n=1,r=32,s=1,a=!1,o=0,l=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:i,height:n,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};let u=this;r=Math.floor(r),s=Math.floor(s);let c=[],h=[],d=[],p=[],f=0,m=[],g=n/2,$=0;function v(n){let s=f,a=new _,m=new j,v=0,y=!0===n?e:i,x=!0===n?1:-1;for(let b=1;b<=r;b++)h.push(0,g*x,0),d.push(0,x,0),p.push(.5,.5),f++;let w=f;for(let S=0;S<=r;S++){let E=S/r*l+o,T=Math.cos(E),M=Math.sin(E);m.x=y*M,m.y=g*x,m.z=y*T,h.push(m.x,m.y,m.z),d.push(0,x,0),a.x=.5*T+.5,a.y=.5*M*x+.5,p.push(a.x,a.y),f++}for(let C=0;C<r;C++){let D=s+C,A=w+C;!0===n?c.push(A,A+1,D):c.push(A+1,A,D),v+=3}u.addGroup($,v,!0===n?1:2),$+=v}(function(){let a=new j,v=new j,y=0,_=(i-e)/n;for(let x=0;x<=s;x++){let b=[],w=x/s,S=w*(i-e)+e;for(let E=0;E<=r;E++){let T=E/r,M=T*l+o,C=Math.sin(M),D=Math.cos(M);v.x=S*C,v.y=-w*n+g,v.z=S*D,h.push(v.x,v.y,v.z),a.set(C,_,D).normalize(),d.push(a.x,a.y,a.z),p.push(T,1-w),b.push(f++)}m.push(b)}for(let A=0;A<r;A++)for(let P=0;P<s;P++){let L=m[P][A],R=m[P+1][A],I=m[P+1][A+1],k=m[P][A+1];c.push(L,R,k),c.push(R,I,k),y+=6}u.addGroup($,y,0),$+=y})(),!1===a&&(e>0&&v(!0),i>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new tf(h,3)),this.setAttribute("normal",new tf(d,3)),this.setAttribute("uv",new tf(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sP(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sL extends sP{constructor(e=1,i=1,n=32,r=1,s=!1,a=0,o=2*Math.PI){super(0,e,i,n,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:i,radialSegments:n,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new sL(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sR extends tx{constructor(e=[],i=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:i,radius:n,detail:r};let s=[],a=[];function o(e,i,n,r){let s=r+1,a=[];for(let o=0;o<=s;o++){a[o]=[];let u=e.clone().lerp(n,o/s),c=i.clone().lerp(n,o/s),h=s-o;for(let d=0;d<=h;d++)a[o][d]=0===d&&o===s?u:u.clone().lerp(c,d/h)}for(let p=0;p<s;p++)for(let f=0;f<2*(s-p)-1;f++){let m=Math.floor(f/2);f%2==0?(l(a[p][m+1]),l(a[p+1][m]),l(a[p][m])):(l(a[p][m+1]),l(a[p+1][m+1]),l(a[p+1][m]))}}function l(e){s.push(e.x,e.y,e.z)}function u(i,n){let r=3*i;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,i,n,r){r<0&&1===e.x&&(a[i]=e.x-1),0===n.x&&0===n.z&&(a[i]=r/2/Math.PI+.5)}function h(e){return Math.atan2(e.z,-e.x)}(function(e){let n=new j,r=new j,s=new j;for(let a=0;a<i.length;a+=3)u(i[a+0],n),u(i[a+1],r),u(i[a+2],s),o(n,r,s,e)})(r),function(e){let i=new j;for(let n=0;n<s.length;n+=3)i.x=s[n+0],i.y=s[n+1],i.z=s[n+2],i.normalize().multiplyScalar(e),s[n+0]=i.x,s[n+1]=i.y,s[n+2]=i.z}(n),function(){var e;let i=new j;for(let n=0;n<s.length;n+=3){i.x=s[n+0],i.y=s[n+1],i.z=s[n+2];let r=h(i)/2/Math.PI+.5,o=Math.atan2(-(e=i).y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5;a.push(r,1-o)}(function(){let e=new j,i=new j,n=new j,r=new j,o=new _,l=new _,u=new _;for(let d=0,p=0;d<s.length;d+=9,p+=6){e.set(s[d+0],s[d+1],s[d+2]),i.set(s[d+3],s[d+4],s[d+5]),n.set(s[d+6],s[d+7],s[d+8]),o.set(a[p+0],a[p+1]),l.set(a[p+2],a[p+3]),u.set(a[p+4],a[p+5]),r.copy(e).add(i).add(n).divideScalar(3);let f=h(r);c(o,p+0,e,f),c(l,p+2,i,f),c(u,p+4,n,f)}})(),function(){for(let e=0;e<a.length;e+=6){let i=a[e+0],n=a[e+2],r=a[e+4],s=Math.max(i,n,r),o=Math.min(i,n,r);s>.9&&o<.1&&(i<.2&&(a[e+0]+=1),n<.2&&(a[e+2]+=1),r<.2&&(a[e+4]+=1))}}()}(),this.setAttribute("position",new tf(s,3)),this.setAttribute("normal",new tf(s.slice(),3)),this.setAttribute("uv",new tf(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sR(e.vertices,e.indices,e.radius,e.details)}}class sI extends sR{constructor(e=1,i=0){let n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,i),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:i}}static fromJSON(e){return new sI(e.radius,e.detail)}}let sk=new j,sO=new j,sN=new j,sF=new eZ;class sU extends tx{constructor(e=null,i=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:i},null!==e){let n=Math.cos(u*i),r=e.getIndex(),s=e.getAttribute("position"),a=r?r.count:s.count,o=[0,0,0],l=["a","b","c"],c=[,,,],h={},d=[];for(let p=0;p<a;p+=3){r?(o[0]=r.getX(p),o[1]=r.getX(p+1),o[2]=r.getX(p+2)):(o[0]=p,o[1]=p+1,o[2]=p+2);let{a:f,b:m,c:g}=sF;if(f.fromBufferAttribute(s,o[0]),m.fromBufferAttribute(s,o[1]),g.fromBufferAttribute(s,o[2]),sF.getNormal(sN),c[0]=`${Math.round(1e4*f.x)},${Math.round(1e4*f.y)},${Math.round(1e4*f.z)}`,c[1]=`${Math.round(1e4*m.x)},${Math.round(1e4*m.y)},${Math.round(1e4*m.z)}`,c[2]=`${Math.round(1e4*g.x)},${Math.round(1e4*g.y)},${Math.round(1e4*g.z)}`,c[0]!==c[1]&&c[1]!==c[2]&&c[2]!==c[0])for(let $=0;$<3;$++){let v=($+1)%3,y=c[$],_=c[v],x=sF[l[$]],b=sF[l[v]],w=`${y}_${_}`,S=`${_}_${y}`;S in h&&h[S]?(sN.dot(h[S].normal)<=n&&(d.push(x.x,x.y,x.z),d.push(b.x,b.y,b.z)),h[S]=null):w in h||(h[w]={index0:o[$],index1:o[v],normal:sN.clone()})}}for(let E in h)if(h[E]){let{index0:T,index1:M}=h[E];sk.fromBufferAttribute(s,T),sO.fromBufferAttribute(s,M),d.push(sk.x,sk.y,sk.z),d.push(sO.x,sO.y,sO.z)}this.setAttribute("position",new tf(d,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class sz extends sD{constructor(e){super(e),this.uuid=h(),this.type="Shape",this.holes=[]}getPointsHoles(e){let i=[];for(let n=0,r=this.holes.length;n<r;n++)i[n]=this.holes[n].getPoints(e);return i}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let i=0,n=e.holes.length;i<n;i++){let r=e.holes[i];this.holes.push(r.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let i=0,n=this.holes.length;i<n;i++){let r=this.holes[i];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let i=0,n=e.holes.length;i<n;i++){let r=e.holes[i];this.holes.push((new sD).fromJSON(r))}return this}}let sB=function(e,i,n=2){let r=i&&i.length,s=r?i[0]*n:e.length,a=s3(e,0,s,n,!0),o=[];if(!a||a.next===a.prev)return o;let l,u,c,h,d,p,f;if(r&&(a=function(e,i,n,r){let s=[],a,o,l,u,c;for(a=0,o=i.length;a<o;a++)l=i[a]*r,u=a<o-1?i[a+1]*r:e.length,(c=s3(e,l,u,r,!1))===c.next&&(c.steiner=!0),s.push(sj(c));for(s.sort(sW),a=0;a<s.length;a++)n=s5(s[a],n);return n}(e,i,a,n)),e.length>80*n){l=c=e[0],u=h=e[1];for(let m=n;m<s;m+=n)d=e[m],p=e[m+1],d<l&&(l=d),p<u&&(u=p),d>c&&(c=d),p>h&&(h=p);f=0!==(f=Math.max(c-l,h-u))?32767/f:0}return s4(a,o,n,l,u,f,0),o};function s3(e,i,n,r,s){let a,o;if(s===function(e,i,n,r){let s=0;for(let a=i,o=n-r;a<n;a+=r)s+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return s}(e,i,n,r)>0)for(a=i;a<n;a+=r)o=ai(a,e[a],e[a+1],o);else for(a=n-r;a>=i;a-=r)o=ai(a,e[a],e[a+1],o);return o&&sZ(o,o.next)&&(an(o),o=o.next),o}function s2(e,i){if(!e)return e;i||(i=e);let n,r=e;do if(n=!1,r.steiner||!sZ(r,r.next)&&0!==sY(r.prev,r,r.next))r=r.next;else{if(an(r),(r=i=r.prev)===r.next)break;n=!0}while(n||r!==i);return i}function s4(e,i,n,r,s,a,o){if(!e)return;!o&&a&&function(e,i,n,r){let s=e;do 0===s.z&&(s.z=sX(s.x,s.y,i,n,r)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==e);s.prevZ.nextZ=null,s.prevZ=null,function(e){let i,n,r,s,a,o,l,u,c=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,l=0,i=0;i<c&&(l++,r=r.nextZ);i++);for(u=c;l>0||u>0&&r;)0!==l&&(0===u||!r||n.z<=r.z)?(s=n,n=n.nextZ,l--):(s=r,r=r.nextZ,u--),a?a.nextZ=s:e=s,s.prevZ=a,a=s;n=r}a.nextZ=null,c*=2}while(o>1)}(s)}(e,r,s,a);let l,u,c=e;for(;e.prev!==e.next;)if(l=e.prev,u=e.next,a?sG(e,r,s,a):sH(e))i.push(l.i/n|0),i.push(e.i/n|0),i.push(u.i/n|0),an(e),e=u.next,c=u.next;else if((e=u)===c){o?1===o?s4(e=s6(s2(e),i,n),i,n,r,s,a,2):2===o&&sV(e,i,n,r,s,a):s4(s2(e),i,n,r,s,a,1);break}}function sH(e){let i=e.prev,n=e,r=e.next;if(sY(i,n,r)>=0)return!1;let s=i.x,a=n.x,o=r.x,l=i.y,u=n.y,c=r.y,h=s<a?s<o?s:o:a<o?a:o,d=l<u?l<c?l:c:u<c?u:c,p=s>a?s>o?s:o:a>o?a:o,f=l>u?l>c?l:c:u>c?u:c,m=r.next;for(;m!==i;){if(m.x>=h&&m.x<=p&&m.y>=d&&m.y<=f&&sq(s,l,a,u,o,c,m.x,m.y)&&sY(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function sG(e,i,n,r){let s=e.prev,a=e,o=e.next;if(sY(s,a,o)>=0)return!1;let l=s.x,u=a.x,c=o.x,h=s.y,d=a.y,p=o.y,f=l<u?l<c?l:c:u<c?u:c,m=h<d?h<p?h:p:d<p?d:p,g=l>u?l>c?l:c:u>c?u:c,$=h>d?h>p?h:p:d>p?d:p,v=sX(f,m,i,n,r),y=sX(g,$,i,n,r),_=e.prevZ,x=e.nextZ;for(;_&&_.z>=v&&x&&x.z<=y;){if(_.x>=f&&_.x<=g&&_.y>=m&&_.y<=$&&_!==s&&_!==o&&sq(l,h,u,d,c,p,_.x,_.y)&&sY(_.prev,_,_.next)>=0||(_=_.prevZ,x.x>=f&&x.x<=g&&x.y>=m&&x.y<=$&&x!==s&&x!==o&&sq(l,h,u,d,c,p,x.x,x.y)&&sY(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;_&&_.z>=v;){if(_.x>=f&&_.x<=g&&_.y>=m&&_.y<=$&&_!==s&&_!==o&&sq(l,h,u,d,c,p,_.x,_.y)&&sY(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;x&&x.z<=y;){if(x.x>=f&&x.x<=g&&x.y>=m&&x.y<=$&&x!==s&&x!==o&&sq(l,h,u,d,c,p,x.x,x.y)&&sY(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function s6(e,i,n){let r=e;do{let s=r.prev,a=r.next.next;!sZ(s,a)&&sK(s,r,r.next,a)&&ae(s,a)&&ae(a,s)&&(i.push(s.i/n|0),i.push(r.i/n|0),i.push(a.i/n|0),an(r),an(r.next),r=e=a),r=r.next}while(r!==e);return s2(r)}function sV(e,i,n,r,s,a){let o=e;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&s9(o,l)){let u=at(o,l);return o=s2(o,o.next),u=s2(u,u.next),s4(o,i,n,r,s,a,0),void s4(u,i,n,r,s,a,0)}l=l.next}o=o.next}while(o!==e)}function sW(e,i){return e.x-i.x}function s5(e,i){let n=function(e,i){let n,r=i,s=-1/0,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){let l=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=a&&l>s&&(s=l,n=r.x<r.next.x?r:r.next,l===a))return n}r=r.next}while(r!==i);if(!n)return null;let u=n,c=n.x,h=n.y,d,p=1/0;r=n;do a>=r.x&&r.x>=c&&a!==r.x&&sq(o<h?a:s,o,c,h,o<h?s:a,o,r.x,r.y)&&(d=Math.abs(o-r.y)/(a-r.x),ae(r,e)&&(d<p||d===p&&(r.x>n.x||r.x===n.x&&s7(n,r)))&&(n=r,p=d)),r=r.next;while(r!==u);return n}(e,i);if(!n)return i;let r=at(n,e);return s2(r,r.next),s2(n,n.next)}function s7(e,i){return 0>sY(e.prev,e,i.prev)&&0>sY(i.next,e,e.next)}function sX(e,i,n,r,s){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*s|0)|e<<8))|e<<4))|e<<2))|e<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-r)*s|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function sj(e){let i=e,n=e;do(i.x<n.x||i.x===n.x&&i.y<n.y)&&(n=i),i=i.next;while(i!==e);return n}function sq(e,i,n,r,s,a,o,l){return(s-o)*(i-l)>=(e-o)*(a-l)&&(e-o)*(r-l)>=(n-o)*(i-l)&&(n-o)*(a-l)>=(s-o)*(r-l)}function s9(e,i){return e.next.i!==i.i&&e.prev.i!==i.i&&!function(e,i){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==i.i&&n.next.i!==i.i&&sK(n,n.next,e,i))return!0;n=n.next}while(n!==e);return!1}(e,i)&&(ae(e,i)&&ae(i,e)&&function(e,i){let n=e,r=!1,s=(e.x+i.x)/2,a=(e.y+i.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&s<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}(e,i)&&(sY(e.prev,e,i.prev)||sY(e,i.prev,i))||sZ(e,i)&&sY(e.prev,e,e.next)>0&&sY(i.prev,i,i.next)>0)}function sY(e,i,n){return(i.y-e.y)*(n.x-i.x)-(i.x-e.x)*(n.y-i.y)}function sZ(e,i){return e.x===i.x&&e.y===i.y}function sK(e,i,n,r){let s=sQ(sY(e,i,n)),a=sQ(sY(e,i,r)),o=sQ(sY(n,r,e)),l=sQ(sY(n,r,i));return s!==a&&o!==l||!(0!==s||!sJ(e,n,i))||!(0!==a||!sJ(e,r,i))||!(0!==o||!sJ(n,e,r))||!(0!==l||!sJ(n,i,r))}function sJ(e,i,n){return i.x<=Math.max(e.x,n.x)&&i.x>=Math.min(e.x,n.x)&&i.y<=Math.max(e.y,n.y)&&i.y>=Math.min(e.y,n.y)}function sQ(e){return e>0?1:e<0?-1:0}function ae(e,i){return 0>sY(e.prev,e,e.next)?sY(e,i,e.next)>=0&&sY(e,e.prev,i)>=0:0>sY(e,i,e.prev)||0>sY(e,e.next,i)}function at(e,i){let n=new ar(e.i,e.x,e.y),r=new ar(i.i,i.x,i.y),s=e.next,a=i.prev;return e.next=i,i.prev=e,n.next=s,s.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function ai(e,i,n,r){let s=new ar(e,i,n);return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s}function an(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function ar(e,i,n){this.i=e,this.x=i,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class as{static area(e){let i=e.length,n=0;for(let r=i-1,s=0;s<i;r=s++)n+=e[r].x*e[s].y-e[s].x*e[r].y;return .5*n}static isClockWise(e){return 0>as.area(e)}static triangulateShape(e,i){let n=[],r=[],s=[];aa(e),ao(n,e);let a=e.length;i.forEach(aa);for(let o=0;o<i.length;o++)r.push(a),a+=i[o].length,ao(n,i[o]);let l=sB(n,r);for(let u=0;u<l.length;u+=3)s.push(l.slice(u,u+3));return s}}function aa(e){let i=e.length;i>2&&e[i-1].equals(e[0])&&e.pop()}function ao(e,i){for(let n=0;n<i.length;n++)e.push(i[n].x),e.push(i[n].y)}class al extends tx{constructor(e=new sz([new _(.5,.5),new _(-.5,.5),new _(-.5,-.5),new _(.5,-.5)]),i={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:i},e=Array.isArray(e)?e:[e];let n=this,r=[],s=[];for(let a=0,o=e.length;a<o;a++)l(e[a]);function l(e){let a=[],o=void 0!==i.curveSegments?i.curveSegments:12,l=void 0!==i.steps?i.steps:1,u=void 0!==i.depth?i.depth:1,c=void 0===i.bevelEnabled||i.bevelEnabled,h=void 0!==i.bevelThickness?i.bevelThickness:.2,d=void 0!==i.bevelSize?i.bevelSize:h-.1,p=void 0!==i.bevelOffset?i.bevelOffset:0,f=void 0!==i.bevelSegments?i.bevelSegments:3,m=i.extrudePath,g=void 0!==i.UVGenerator?i.UVGenerator:au,$,v,y,x,b,w=!1;m&&($=m.getSpacedPoints(l),w=!0,c=!1,v=m.computeFrenetFrames(l,!1),y=new j,x=new j,b=new j),c||(f=0,h=0,d=0,p=0);let S=e.extractPoints(o),E=S.shape,T=S.holes;if(!as.isClockWise(E)){E=E.reverse();for(let M=0,C=T.length;M<C;M++){let D=T[M];as.isClockWise(D)&&(T[M]=D.reverse())}}let A=as.triangulateShape(E,T),P=E;for(let L=0,R=T.length;L<R;L++){let I=T[L];E=E.concat(I)}function k(e,i,n){return i||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().addScaledVector(i,n)}let O=E.length,N=A.length;function F(e,i,n){let r,s,a,o=e.x-i.x,l=e.y-i.y,u=n.x-e.x,c=n.y-e.y,h=o*o+l*l;if(Math.abs(o*c-l*u)>Number.EPSILON){let d=Math.sqrt(h),p=Math.sqrt(u*u+c*c),f=i.x-l/d,m=i.y+o/d,g=((n.x-c/p-f)*c-(n.y+u/p-m)*u)/(o*c-l*u);r=f+o*g-e.x,s=m+l*g-e.y;let $=r*r+s*s;if($<=2)return new _(r,s);a=Math.sqrt($/2)}else{let v=!1;o>Number.EPSILON?u>Number.EPSILON&&(v=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(v=!0):Math.sign(l)===Math.sign(c)&&(v=!0),v?(r=-l,s=o,a=Math.sqrt(h)):(r=o,s=l,a=Math.sqrt(h/2))}return new _(r/a,s/a)}let U=[];for(let z=0,B=P.length,H=B-1,G=z+1;z<B;z++,H++,G++)H===B&&(H=0),G===B&&(G=0),U[z]=F(P[z],P[H],P[G]);let V=[],W,X=U.concat();for(let q=0,Y=T.length;q<Y;q++){let Z=T[q];W=[];for(let K=0,J=Z.length,Q=J-1,ee=K+1;K<J;K++,Q++,ee++)Q===J&&(Q=0),ee===J&&(ee=0),W[K]=F(Z[K],Z[Q],Z[ee]);V.push(W),X=X.concat(W)}for(let et=0;et<f;et++){let ei=et/f,en=h*Math.cos(ei*Math.PI/2),er=d*Math.sin(ei*Math.PI/2)+p;for(let es=0,ea=P.length;es<ea;es++){let eo=k(P[es],U[es],er);eP(eo.x,eo.y,-en)}for(let el=0,eu=T.length;el<eu;el++){let ec=T[el];W=V[el];for(let eh=0,ed=ec.length;eh<ed;eh++){let ep=k(ec[eh],W[eh],er);eP(ep.x,ep.y,-en)}}}let ef=d+p;for(let em=0;em<O;em++){let eg=c?k(E[em],X[em],ef):E[em];w?(x.copy(v.normals[0]).multiplyScalar(eg.x),y.copy(v.binormals[0]).multiplyScalar(eg.y),b.copy($[0]).add(x).add(y),eP(b.x,b.y,b.z)):eP(eg.x,eg.y,0)}for(let e$=1;e$<=l;e$++)for(let ev=0;ev<O;ev++){let ey=c?k(E[ev],X[ev],ef):E[ev];w?(x.copy(v.normals[e$]).multiplyScalar(ey.x),y.copy(v.binormals[e$]).multiplyScalar(ey.y),b.copy($[e$]).add(x).add(y),eP(b.x,b.y,b.z)):eP(ey.x,ey.y,u/l*e$)}for(let e8=f-1;e8>=0;e8--){let e_=e8/f,ex=h*Math.cos(e_*Math.PI/2),eb=d*Math.sin(e_*Math.PI/2)+p;for(let ew=0,eS=P.length;ew<eS;ew++){let eE=k(P[ew],U[ew],eb);eP(eE.x,eE.y,u+ex)}for(let eT=0,eM=T.length;eT<eM;eT++){let eC=T[eT];W=V[eT];for(let eD=0,eA=eC.length;eD<eA;eD++){let e0=k(eC[eD],W[eD],eb);w?eP(e0.x,e0.y+$[l-1].y,$[l-1].x+ex):eP(e0.x,e0.y,u+ex)}}}function e1(e,i){let n=e.length;for(;--n>=0;){let r=n,s=n-1;s<0&&(s=e.length-1);for(let a=0,o=l+2*f;a<o;a++){let u=O*a,c=O*(a+1);eR(i+r+u,i+s+u,i+s+c,i+r+c)}}}function eP(e,i,n){a.push(e),a.push(i),a.push(n)}function eL(e,i,s){eI(e),eI(i),eI(s);let a=r.length/3,o=g.generateTopUV(n,r,a-3,a-2,a-1);ek(o[0]),ek(o[1]),ek(o[2])}function eR(e,i,s,a){eI(e),eI(i),eI(a),eI(i),eI(s),eI(a);let o=r.length/3,l=g.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);ek(l[0]),ek(l[1]),ek(l[3]),ek(l[1]),ek(l[2]),ek(l[3])}function eI(e){r.push(a[3*e+0]),r.push(a[3*e+1]),r.push(a[3*e+2])}function ek(e){s.push(e.x),s.push(e.y)}(function(){let e=r.length/3;if(c){let i=0,s=O*i;for(let a=0;a<N;a++){let o=A[a];eL(o[2]+s,o[1]+s,o[0]+s)}s=O*(i=l+2*f);for(let u=0;u<N;u++){let h=A[u];eL(h[0]+s,h[1]+s,h[2]+s)}}else{for(let d=0;d<N;d++){let p=A[d];eL(p[2],p[1],p[0])}for(let m=0;m<N;m++){let g=A[m];eL(g[0]+O*l,g[1]+O*l,g[2]+O*l)}}n.addGroup(e,r.length/3-e,0)})(),function(){let e=r.length/3,i=0;e1(P,i),i+=P.length;for(let s=0,a=T.length;s<a;s++){let o=T[s];e1(o,i),i+=o.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new tf(r,3)),this.setAttribute("uv",new tf(s,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return function(e,i,n){if(n.shapes=[],Array.isArray(e))for(let r=0,s=e.length;r<s;r++){let a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);return n.options=Object.assign({},i),void 0!==i.extrudePath&&(n.options.extrudePath=i.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,i){let n=[];for(let r=0,s=e.shapes.length;r<s;r++){let a=i[e.shapes[r]];n.push(a)}let o=e.options.extrudePath;return void 0!==o&&(e.options.extrudePath=(new sM[o.type]).fromJSON(o)),new al(n,e.options)}}let au={generateTopUV:function(e,i,n,r,s){let a=i[3*n],o=i[3*n+1],l=i[3*r],u=i[3*r+1],c=i[3*s],h=i[3*s+1];return[new _(a,o),new _(l,u),new _(c,h)]},generateSideWallUV:function(e,i,n,r,s,a){let o=i[3*n],l=i[3*n+1],u=i[3*n+2],c=i[3*r],h=i[3*r+1],d=i[3*r+2],p=i[3*s],f=i[3*s+1],m=i[3*s+2],g=i[3*a],$=i[3*a+1],v=i[3*a+2];return Math.abs(l-h)<Math.abs(o-c)?[new _(o,1-u),new _(c,1-d),new _(p,1-m),new _(g,1-v)]:[new _(l,1-u),new _(h,1-d),new _(f,1-m),new _($,1-v)]}};class ac extends sR{constructor(e=1,i=0){let n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,i),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:i}}static fromJSON(e){return new ac(e.radius,e.detail)}}class ah extends sR{constructor(e=1,i=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,i),this.type="OctahedronGeometry",this.parameters={radius:e,detail:i}}static fromJSON(e){return new ah(e.radius,e.detail)}}class ad extends tx{constructor(e=.5,i=1,n=32,r=1,s=0,a=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:i,thetaSegments:n,phiSegments:r,thetaStart:s,thetaLength:a},n=Math.max(3,n);let o=[],l=[],u=[],c=[],h=e,d=(i-e)/(r=Math.max(1,r)),p=new j,f=new _;for(let m=0;m<=r;m++){for(let g=0;g<=n;g++){let $=s+g/n*a;p.x=h*Math.cos($),p.y=h*Math.sin($),l.push(p.x,p.y,p.z),u.push(0,0,1),f.x=(p.x/i+1)/2,f.y=(p.y/i+1)/2,c.push(f.x,f.y)}h+=d}for(let v=0;v<r;v++){let y=v*(n+1);for(let x=0;x<n;x++){let b=x+y,w=b,S=b+n+1,E=b+n+2,T=b+1;o.push(w,S,T),o.push(S,E,T)}}this.setIndex(o),this.setAttribute("position",new tf(l,3)),this.setAttribute("normal",new tf(u,3)),this.setAttribute("uv",new tf(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ad(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class ap extends tx{constructor(e=new sz([new _(0,.5),new _(-.5,-.5),new _(.5,-.5)]),i=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:i};let n=[],r=[],s=[],a=[],o=0,l=0;if(!1===Array.isArray(e))c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;function c(e){let o=r.length/3,u=e.extractPoints(i),c=u.shape,h=u.holes;!1===as.isClockWise(c)&&(c=c.reverse());for(let d=0,p=h.length;d<p;d++){let f=h[d];!0===as.isClockWise(f)&&(h[d]=f.reverse())}let m=as.triangulateShape(c,h);for(let g=0,$=h.length;g<$;g++){let v=h[g];c=c.concat(v)}for(let y=0,_=c.length;y<_;y++){let x=c[y];r.push(x.x,x.y,0),s.push(0,0,1),a.push(x.x,x.y)}for(let b=0,w=m.length;b<w;b++){let S=m[b],E=S[0]+o,T=S[1]+o,M=S[2]+o;n.push(E,T,M),l+=3}}this.setIndex(n),this.setAttribute("position",new tf(r,3)),this.setAttribute("normal",new tf(s,3)),this.setAttribute("uv",new tf(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return function(e,i){if(i.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){let s=e[n];i.shapes.push(s.uuid)}else i.shapes.push(e.uuid);return i}(this.parameters.shapes,e)}static fromJSON(e,i){let n=[];for(let r=0,s=e.shapes.length;r<s;r++){let a=i[e.shapes[r]];n.push(a)}return new ap(n,e.curveSegments)}}class af extends tx{constructor(e=1,i=32,n=16,r=0,s=2*Math.PI,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:i,heightSegments:n,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},i=Math.max(3,Math.floor(i)),n=Math.max(2,Math.floor(n));let l=Math.min(a+o,Math.PI),u=0,c=[],h=new j,d=new j,p=[],f=[],m=[],g=[];for(let $=0;$<=n;$++){let v=[],y=$/n,_=0;0===$&&0===a?_=.5/i:$===n&&l===Math.PI&&(_=-.5/i);for(let x=0;x<=i;x++){let b=x/i;h.x=-e*Math.cos(r+b*s)*Math.sin(a+y*o),h.y=e*Math.cos(a+y*o),h.z=e*Math.sin(r+b*s)*Math.sin(a+y*o),f.push(h.x,h.y,h.z),d.copy(h).normalize(),m.push(d.x,d.y,d.z),g.push(b+_,1-y),v.push(u++)}c.push(v)}for(let w=0;w<n;w++)for(let S=0;S<i;S++){let E=c[w][S+1],T=c[w][S],M=c[w+1][S],C=c[w+1][S+1];(0!==w||a>0)&&p.push(E,T,C),(w!==n-1||l<Math.PI)&&p.push(T,M,C)}this.setIndex(p),this.setAttribute("position",new tf(f,3)),this.setAttribute("normal",new tf(m,3)),this.setAttribute("uv",new tf(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new af(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class am extends sR{constructor(e=1,i=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,i),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:i}}static fromJSON(e){return new am(e.radius,e.detail)}}class ag extends tx{constructor(e=1,i=.4,n=12,r=48,s=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:i,radialSegments:n,tubularSegments:r,arc:s},n=Math.floor(n),r=Math.floor(r);let a=[],o=[],l=[],u=[],c=new j,h=new j,d=new j;for(let p=0;p<=n;p++)for(let f=0;f<=r;f++){let m=f/r*s,g=p/n*Math.PI*2;h.x=(e+i*Math.cos(g))*Math.cos(m),h.y=(e+i*Math.cos(g))*Math.sin(m),h.z=i*Math.sin(g),o.push(h.x,h.y,h.z),c.x=e*Math.cos(m),c.y=e*Math.sin(m),d.subVectors(h,c).normalize(),l.push(d.x,d.y,d.z),u.push(f/r),u.push(p/n)}for(let $=1;$<=n;$++)for(let v=1;v<=r;v++){let y=(r+1)*$+v-1,_=(r+1)*($-1)+v-1,x=(r+1)*($-1)+v,b=(r+1)*$+v;a.push(y,_,b),a.push(_,x,b)}this.setIndex(a),this.setAttribute("position",new tf(o,3)),this.setAttribute("normal",new tf(l,3)),this.setAttribute("uv",new tf(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ag(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class a$ extends tx{constructor(e=1,i=.4,n=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:i,tubularSegments:n,radialSegments:r,p:s,q:a},n=Math.floor(n),r=Math.floor(r);let o=[],l=[],u=[],c=[],h=new j,d=new j,p=new j,f=new j,m=new j,g=new j,$=new j;for(let v=0;v<=n;++v){let y=v/n*s*Math.PI*2;A(y,s,a,e,p),A(y+.01,s,a,e,f),g.subVectors(f,p),$.addVectors(f,p),m.crossVectors(g,$),$.crossVectors(m,g),m.normalize(),$.normalize();for(let _=0;_<=r;++_){let x=_/r*Math.PI*2,b=-i*Math.cos(x),w=i*Math.sin(x);h.x=p.x+(b*$.x+w*m.x),h.y=p.y+(b*$.y+w*m.y),h.z=p.z+(b*$.z+w*m.z),l.push(h.x,h.y,h.z),d.subVectors(h,p).normalize(),u.push(d.x,d.y,d.z),c.push(v/n),c.push(_/r)}}for(let S=1;S<=n;S++)for(let E=1;E<=r;E++){let T=(r+1)*(S-1)+(E-1),M=(r+1)*S+(E-1),C=(r+1)*S+E,D=(r+1)*(S-1)+E;o.push(T,M,D),o.push(M,C,D)}function A(e,i,n,r,s){let a=n/i*e,o=Math.cos(a);s.x=r*(2+o)*.5*Math.cos(e),s.y=r*(2+o)*Math.sin(e)*.5,s.z=r*Math.sin(a)*.5}this.setIndex(o),this.setAttribute("position",new tf(l,3)),this.setAttribute("normal",new tf(u,3)),this.setAttribute("uv",new tf(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new a$(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class av extends tx{constructor(e=new sE(new j(-1,-1,0),new j(-1,1,0),new j(1,1,0)),i=64,n=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:i,radius:n,radialSegments:r,closed:s};let a=e.computeFrenetFrames(i,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;let o=new j,l=new j,u=new _,c=new j,h=[],d=[],p=[],f=[];function m(s){c=e.getPointAt(s/i,c);let u=a.normals[s],p=a.binormals[s];for(let f=0;f<=r;f++){let m=f/r*Math.PI*2,g=Math.sin(m),$=-Math.cos(m);l.x=$*u.x+g*p.x,l.y=$*u.y+g*p.y,l.z=$*u.z+g*p.z,l.normalize(),d.push(l.x,l.y,l.z),o.x=c.x+n*l.x,o.y=c.y+n*l.y,o.z=c.z+n*l.z,h.push(o.x,o.y,o.z)}}(function(){for(let e=0;e<i;e++)m(e);m(!1===s?i:0),function(){for(let e=0;e<=i;e++)for(let n=0;n<=r;n++)u.x=e/i,u.y=n/r,p.push(u.x,u.y)}(),function(){for(let e=1;e<=i;e++)for(let n=1;n<=r;n++){let s=(r+1)*(e-1)+(n-1),a=(r+1)*e+(n-1),o=(r+1)*e+n,l=(r+1)*(e-1)+n;f.push(s,a,l),f.push(a,o,l)}}()})(),this.setIndex(f),this.setAttribute("position",new tf(h,3)),this.setAttribute("normal",new tf(d,3)),this.setAttribute("uv",new tf(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){let e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new av((new sM[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class ay extends tx{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){let i=[],n=new Set,r=new j,s=new j;if(null!==e.index){let a=e.attributes.position,o=e.index,l=e.groups;0===l.length&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){let h=l[u],d=h.start;for(let p=d,f=d+h.count;p<f;p+=3)for(let m=0;m<3;m++){let g=o.getX(p+m),$=o.getX(p+(m+1)%3);r.fromBufferAttribute(a,g),s.fromBufferAttribute(a,$),!0===a8(r,s,n)&&(i.push(r.x,r.y,r.z),i.push(s.x,s.y,s.z))}}}else{let v=e.attributes.position;for(let y=0,_=v.count/3;y<_;y++)for(let x=0;x<3;x++){let b=3*y+x,w=3*y+(x+1)%3;r.fromBufferAttribute(v,b),s.fromBufferAttribute(v,w),!0===a8(r,s,n)&&(i.push(r.x,r.y,r.z),i.push(s.x,s.y,s.z))}}this.setAttribute("position",new tf(i,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function a8(e,i,n){let r=`${e.x},${e.y},${e.z}-${i.x},${i.y},${i.z}`,s=`${i.x},${i.y},${i.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(s)&&(n.add(r),n.add(s),!0)}var a_=Object.freeze({__proto__:null,BoxGeometry:tU,CapsuleGeometry:s0,CircleGeometry:s1,ConeGeometry:sL,CylinderGeometry:sP,DodecahedronGeometry:sI,EdgesGeometry:sU,ExtrudeGeometry:al,IcosahedronGeometry:ac,LatheGeometry:sA,OctahedronGeometry:ah,PlaneGeometry:tJ,PolyhedronGeometry:sR,RingGeometry:ad,ShapeGeometry:ap,SphereGeometry:af,TetrahedronGeometry:am,TorusGeometry:ag,TorusKnotGeometry:a$,TubeGeometry:av,WireframeGeometry:ay});class ax extends eJ{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new tn(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class ab extends t4{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class aw extends eJ{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new tn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new _(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aS extends aw{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new _(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return d(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new tn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new tn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new tn(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class aE extends eJ{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new tn(16777215),this.specular=new tn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new _(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aT extends eJ{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new tn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new _(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class aM extends eJ{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new _(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class aC extends eJ{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new tn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new tn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new _(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aD extends eJ{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new tn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new _(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aA extends r7{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function a0(e,i,n){return aP(e)?new e.constructor(e.subarray(i,void 0!==n?n:e.length)):e.slice(i,n)}function a1(e,i,n){return e&&(n||e.constructor!==i)?"number"==typeof i.BYTES_PER_ELEMENT?new i(e):Array.prototype.slice.call(e):e}function aP(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aL(e){let i=e.length,n=Array(i);for(let r=0;r!==i;++r)n[r]=r;return n.sort(function(i,n){return e[i]-e[n]}),n}function aR(e,i,n){let r=e.length,s=new e.constructor(r);for(let a=0,o=0;o!==r;++a){let l=n[a]*i;for(let u=0;u!==i;++u)s[o++]=e[l+u]}return s}function aI(e,i,n,r){let s=1,a=e[0];for(;void 0!==a&&void 0===a[r];)a=e[s++];if(void 0===a)return;let o=a[r];if(void 0!==o){if(Array.isArray(o))do void 0!==(o=a[r])&&(i.push(a.time),n.push.apply(n,o)),a=e[s++];while(void 0!==a);else if(void 0!==o.toArray)do void 0!==(o=a[r])&&(i.push(a.time),o.toArray(n,n.length)),a=e[s++];while(void 0!==a);else do void 0!==(o=a[r])&&(i.push(a.time),n.push(o)),a=e[s++];while(void 0!==a)}}class ak{constructor(e,i,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new i.constructor(n),this.sampleValues=i,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){let i=this.parameterPositions,n=this._cachedIndex,r=i[n],s=i[n-1];t:{e:{let a;n:{i:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<s)break i;return n=i.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(s=r,e<(r=i[++n]))break e}a=i.length;break n}if(e>=s)break t;{let l=i[1];e<l&&(n=2,s=l);for(let u=n-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(n===u)break;if(r=s,e>=(s=i[--n-1]))break e}a=n,n=0}}for(;n<a;){let c=n+a>>>1;e<i[c]?a=c:n=c+1}if(r=i[n],void 0===(s=i[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=i.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,s,r)}return this.interpolate_(n,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let i=this.resultBuffer,n=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)i[a]=n[s+a];return i}interpolate_(){throw Error("call to abstract method")}intervalChanged_(){}}class aO extends ak{constructor(e,i,n,r){super(e,i,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,i,n){let r=this.parameterPositions,s=e-2,a=e+1,o=r[s],l=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:s=e,o=2*i-n;break;case 2402:o=i+r[s=r.length-2]-r[s+1];break;default:s=e,o=n}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:a=e,l=2*n-i;break;case 2402:a=1,l=n+r[1]-r[0];break;default:a=e-1,l=i}let u=.5*(n-i),c=this.valueSize;this._weightPrev=u/(i-o),this._weightNext=u/(l-n),this._offsetPrev=s*c,this._offsetNext=a*c}interpolate_(e,i,n,r){let s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,c=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,p=this._weightNext,f=(n-i)/(r-i),m=f*f,g=m*f,$=-d*g+2*d*m-d*f,v=(1+d)*g+(-1.5-2*d)*m+(-.5+d)*f+1,y=(-1-p)*g+(1.5+p)*m+.5*f,_=p*g-p*m;for(let x=0;x!==o;++x)s[x]=$*a[c+x]+v*a[u+x]+y*a[l+x]+_*a[h+x];return s}}class aN extends ak{constructor(e,i,n,r){super(e,i,n,r)}interpolate_(e,i,n,r){let s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,c=(n-i)/(r-i),h=1-c;for(let d=0;d!==o;++d)s[d]=a[u+d]*h+a[l+d]*c;return s}}class aF extends ak{constructor(e,i,n,r){super(e,i,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class aU{constructor(e,i,n,r){if(void 0===e)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===i||0===i.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=a1(i,this.TimeBufferType),this.values=a1(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){let i=e.constructor,n;if(i.toJSON!==this.toJSON)n=i.toJSON(e);else{n={name:e.name,times:a1(e.times,Array),values:a1(e.values,Array)};let r=e.getInterpolation();r!==e.DefaultInterpolation&&(n.interpolation=r)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new aF(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new aN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new aO(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let i;switch(e){case 2300:i=this.InterpolantFactoryMethodDiscrete;break;case 2301:i=this.InterpolantFactoryMethodLinear;break;case 2302:i=this.InterpolantFactoryMethodSmooth}if(void 0===i){let n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=i,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){let i=this.times;for(let n=0,r=i.length;n!==r;++n)i[n]+=e}return this}scale(e){if(1!==e){let i=this.times;for(let n=0,r=i.length;n!==r;++n)i[n]*=e}return this}trim(e,i){let n=this.times,r=n.length,s=0,a=r-1;for(;s!==r&&n[s]<e;)++s;for(;-1!==a&&n[a]>i;)--a;if(++a,0!==s||a!==r){s>=a&&(s=(a=Math.max(a,1))-1);let o=this.getValueSize();this.times=a0(n,s,a),this.values=a0(this.values,s*o,a*o)}return this}validate(){let e=!0,i=this.getValueSize();i-Math.floor(i)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let n=this.times,r=this.values,s=n.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){let l=n[o];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(null!==a&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(void 0!==r&&aP(r))for(let u=0,c=r.length;u!==c;++u){let h=r[u];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,h),e=!1;break}}return e}optimize(){let e=a0(this.times),i=a0(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1,a=1;for(let o=1;o<s;++o){let l=!1,u=e[o];if(u!==e[o+1]&&(1!==o||u!==e[0])){if(r)l=!0;else{let c=o*n,h=c-n,d=c+n;for(let p=0;p!==n;++p){let f=i[c+p];if(f!==i[h+p]||f!==i[d+p]){l=!0;break}}}}if(l){if(o!==a){e[a]=e[o];let m=o*n,g=a*n;for(let $=0;$!==n;++$)i[g+$]=i[m+$]}++a}}if(s>0){e[a]=e[s];for(let v=s*n,y=a*n,_=0;_!==n;++_)i[y+_]=i[v+_];++a}return a!==e.length?(this.times=a0(e,0,a),this.values=a0(i,0,a*n)):(this.times=e,this.values=i),this}clone(){let e=a0(this.times,0),i=a0(this.values,0),n=new this.constructor(this.name,e,i);return n.createInterpolant=this.createInterpolant,n}}aU.prototype.TimeBufferType=Float32Array,aU.prototype.ValueBufferType=Float32Array,aU.prototype.DefaultInterpolation=2301;class az extends aU{}az.prototype.ValueTypeName="bool",az.prototype.ValueBufferType=Array,az.prototype.DefaultInterpolation=2300,az.prototype.InterpolantFactoryMethodLinear=void 0,az.prototype.InterpolantFactoryMethodSmooth=void 0;class aB extends aU{}aB.prototype.ValueTypeName="color";class a3 extends aU{}a3.prototype.ValueTypeName="number";class a2 extends ak{constructor(e,i,n,r){super(e,i,n,r)}interpolate_(e,i,n,r){let s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(n-i)/(r-i),u=e*o;for(let c=u+o;u!==c;u+=4)X.slerpFlat(s,0,a,u-o,a,u,l);return s}}class a4 extends aU{InterpolantFactoryMethodLinear(e){return new a2(this.times,this.values,this.getValueSize(),e)}}a4.prototype.ValueTypeName="quaternion",a4.prototype.DefaultInterpolation=2301,a4.prototype.InterpolantFactoryMethodSmooth=void 0;class aH extends aU{}aH.prototype.ValueTypeName="string",aH.prototype.ValueBufferType=Array,aH.prototype.DefaultInterpolation=2300,aH.prototype.InterpolantFactoryMethodLinear=void 0,aH.prototype.InterpolantFactoryMethodSmooth=void 0;class aG extends aU{}aG.prototype.ValueTypeName="vector";class a6{constructor(e,i=-1,n,r=2500){this.name=e,this.tracks=n,this.duration=i,this.blendMode=r,this.uuid=h(),this.duration<0&&this.resetDuration()}static parse(e){let i=[],n=e.tracks,r=1/(e.fps||1);for(let s=0,a=n.length;s!==a;++s)i.push(aV(n[s]).scale(r));let o=new this(e.name,e.duration,i,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){let i=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:i,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=n.length;s!==a;++s)i.push(aU.toJSON(n[s]));return r}static CreateFromMorphTargetSequence(e,i,n,r){let s=i.length,a=[];for(let o=0;o<s;o++){let l=[],u=[];l.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);let c=aL(l);l=aR(l,1,c),u=aR(u,1,c),r||0!==l[0]||(l.push(s),u.push(u[0])),a.push(new a3(".morphTargetInfluences["+i[o].name+"]",l,u).scale(1/n))}return new this(e,-1,a)}static findByName(e,i){let n=e;if(!Array.isArray(e)){let r=e;n=r.geometry&&r.geometry.animations||r.animations}for(let s=0;s<n.length;s++)if(n[s].name===i)return n[s];return null}static CreateClipsFromMorphTargetSequences(e,i,n){let r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,o=e.length;a<o;a++){let l=e[a],u=l.name.match(s);if(u&&u.length>1){let c=u[1],h=r[c];h||(r[c]=h=[]),h.push(l)}}let d=[];for(let p in r)d.push(this.CreateFromMorphTargetSequence(p,r[p],i,n));return d}static parseAnimation(e,i){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let n=function(e,i,n,r,s){if(0!==n.length){let a=[],o=[];aI(n,a,o,r),0!==a.length&&s.push(new e(i,a,o))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode,l=e.length||-1,u=e.hierarchy||[];for(let c=0;c<u.length;c++){let h=u[c].keys;if(h&&0!==h.length){if(h[0].morphTargets){let d={},p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let f=0;f<h[p].morphTargets.length;f++)d[h[p].morphTargets[f]]=-1;for(let m in d){let g=[],$=[];for(let v=0;v!==h[p].morphTargets.length;++v){let y=h[p];g.push(y.time),$.push(y.morphTarget===m?1:0)}r.push(new a3(".morphTargetInfluence["+m+"]",g,$))}l=d.length*a}else{let _=".bones["+i[c].name+"]";n(aG,_+".position",h,"pos",r),n(a4,_+".quaternion",h,"rot",r),n(aG,_+".scale",h,"scl",r)}}}return 0===r.length?null:new this(s,l,r,o)}resetDuration(){let e=0;for(let i=0,n=this.tracks.length;i!==n;++i){let r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let i=0;i<this.tracks.length;i++)e=e&&this.tracks[i].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function aV(e){if(void 0===e.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");let i=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return a3;case"vector":case"vector2":case"vector3":case"vector4":return aG;case"color":return aB;case"quaternion":return a4;case"bool":case"boolean":return az;case"string":return aH}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){let n=[],r=[];aI(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==i.parse?i.parse(e):new i(e.name,e.times,e.values,e.interpolation)}let aW={enabled:!1,files:{},add:function(e,i){!1!==this.enabled&&(this.files[e]=i)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class a5{constructor(e,i,n){let r=this,s,a=!1,o=0,l=0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=i,this.onError=n,this.itemStart=function(e){l++,!1===a&&void 0!==r.onStart&&r.onStart(e,o,l),a=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,l),o===l&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,i){return u.push(e,i),this},this.removeHandler=function(e){let i=u.indexOf(e);return -1!==i&&u.splice(i,2),this},this.getHandler=function(e){for(let i=0,n=u.length;i<n;i+=2){let r=u[i],s=u[i+1];if(r.global&&(r.lastIndex=0),r.test(e))return s}return null}}}let a7=new a5;class aX{constructor(e){this.manager=void 0!==e?e:a7,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,i){let n=this;return new Promise(function(r,s){n.load(e,r,i,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}let aj={};class aq extends Error{constructor(e,i){super(e),this.response=i}}class a9 extends aX{constructor(e){super(e)}load(e,i,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let s=aW.get(e);if(void 0!==s)return this.manager.itemStart(e),setTimeout(()=>{i&&i(s),this.manager.itemEnd(e)},0),s;if(void 0!==aj[e])return void aj[e].push({onLoad:i,onProgress:n,onError:r});aj[e]=[],aj[e].push({onLoad:i,onProgress:n,onError:r});let a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(i=>{if(200===i.status||0===i.status){if(0===i.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===i.body||void 0===i.body.getReader)return i;let n=aj[e],r=i.body.getReader(),s=i.headers.get("Content-Length")||i.headers.get("X-File-Size"),a=s?parseInt(s):0,o=0!==a,l=0,u=new ReadableStream({start(e){!function i(){r.read().then(({done:r,value:s})=>{if(r)e.close();else{l+=s.byteLength;let u=new ProgressEvent("progress",{lengthComputable:o,loaded:l,total:a});for(let c=0,h=n.length;c<h;c++){let d=n[c];d.onProgress&&d.onProgress(u)}e.enqueue(s),i()}})}()}});return new Response(u)}throw new aq(`fetch for "${i.url}" responded with ${i.status}: ${i.statusText}`,i)}).then(e=>{switch(l){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>(new DOMParser).parseFromString(e,o));case"json":return e.json();default:if(void 0===o)return e.text();{let i=/charset="?([^;"\s]*)"?/i.exec(o),n=i&&i[1]?i[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(i=>{aW.add(e,i);let n=aj[e];delete aj[e];for(let r=0,s=n.length;r<s;r++){let a=n[r];a.onLoad&&a.onLoad(i)}}).catch(i=>{let n=aj[e];if(void 0===n)throw this.manager.itemError(e),i;delete aj[e];for(let r=0,s=n.length;r<s;r++){let a=n[r];a.onError&&a.onError(i)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class aY extends aX{constructor(e){super(e)}load(e,i,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let s=this,a=aW.get(e);if(void 0!==a)return s.manager.itemStart(e),setTimeout(function(){i&&i(a),s.manager.itemEnd(e)},0),a;let o=T("img");function l(){c(),aW.add(e,this),i&&i(this),s.manager.itemEnd(e)}function u(i){c(),r&&r(i),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class aZ extends eH{constructor(e,i=1){super(),this.isLight=!0,this.type="Light",this.color=new tn(e),this.intensity=i}dispose(){}copy(e,i){return super.copy(e,i),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let i=super.toJSON(e);return i.object.color=this.color.getHex(),i.object.intensity=this.intensity,void 0!==this.groundColor&&(i.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(i.object.distance=this.distance),void 0!==this.angle&&(i.object.angle=this.angle),void 0!==this.decay&&(i.object.decay=this.decay),void 0!==this.penumbra&&(i.object.penumbra=this.penumbra),void 0!==this.shadow&&(i.object.shadow=this.shadow.toJSON()),i}}class aK extends aZ{constructor(e,i,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(eH.DEFAULT_UP),this.updateMatrix(),this.groundColor=new tn(i)}copy(e,i){return super.copy(e,i),this.groundColor.copy(e.groundColor),this}}let aJ=new eb,aQ=new j,oe=new j;class ot{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new _(512,512),this.map=null,this.mapPass=null,this.matrix=new eb,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new tY,this._frameExtents=new _(1,1),this._viewportCount=1,this._viewports=[new H(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let i=this.camera,n=this.matrix;aQ.setFromMatrixPosition(e.matrixWorld),i.position.copy(aQ),oe.setFromMatrixPosition(e.target.matrixWorld),i.lookAt(oe),i.updateMatrixWorld(),aJ.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(aJ),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(aJ)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){let e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class oi extends aZ{constructor(e,i,n=0,r=Math.PI/3,s=0,a=2){super(e,i),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(eH.DEFAULT_UP),this.updateMatrix(),this.target=new eH,this.distance=n,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new class e extends ot{constructor(){super(new tG(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let i=this.camera,n=2*c*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||i.far;n===i.fov&&r===i.aspect&&s===i.far||(i.fov=n,i.aspect=r,i.far=s,i.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,i){return super.copy(e,i),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}let on=new eb,or=new j,os=new j;class oa extends aZ{constructor(e,i,n=0,r=2){super(e,i),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new class e extends ot{constructor(){super(new tG(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new _(4,2),this._viewportCount=6,this._viewports=[new H(2,1,1,1),new H(0,1,1,1),new H(3,1,1,1),new H(1,1,1,1),new H(3,0,1,1),new H(1,0,1,1)],this._cubeDirections=[new j(1,0,0),new j(-1,0,0),new j(0,0,1),new j(0,0,-1),new j(0,1,0),new j(0,-1,0)],this._cubeUps=[new j(0,1,0),new j(0,1,0),new j(0,1,0),new j(0,1,0),new j(0,0,1),new j(0,0,-1)]}updateMatrices(e,i=0){let n=this.camera,r=this.matrix,s=e.distance||n.far;s!==n.far&&(n.far=s,n.updateProjectionMatrix()),or.setFromMatrixPosition(e.matrixWorld),n.position.copy(or),os.copy(n.position),os.add(this._cubeDirections[i]),n.up.copy(this._cubeUps[i]),n.lookAt(os),n.updateMatrixWorld(),r.makeTranslation(-or.x,-or.y,-or.z),on.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(on)}}}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,i){return super.copy(e,i),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class oo extends aZ{constructor(e,i){super(e,i),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(eH.DEFAULT_UP),this.updateMatrix(),this.target=new eH,this.shadow=new class e extends ot{constructor(){super(new ic(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class ol extends aZ{constructor(e,i){super(e,i),this.isAmbientLight=!0,this.type="AmbientLight"}}class ou extends aZ{constructor(e,i,n=10,r=10){super(e,i),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){let i=super.toJSON(e);return i.object.width=this.width,i.object.height=this.height,i}}class oc{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new j)}set(e){for(let i=0;i<9;i++)this.coefficients[i].copy(e[i]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,i){let n=e.x,r=e.y,s=e.z,a=this.coefficients;return i.copy(a[0]).multiplyScalar(.282095),i.addScaledVector(a[1],.488603*r),i.addScaledVector(a[2],.488603*s),i.addScaledVector(a[3],.488603*n),i.addScaledVector(a[4],n*r*1.092548),i.addScaledVector(a[5],r*s*1.092548),i.addScaledVector(a[6],.315392*(3*s*s-1)),i.addScaledVector(a[7],n*s*1.092548),i.addScaledVector(a[8],.546274*(n*n-r*r)),i}getIrradianceAt(e,i){let n=e.x,r=e.y,s=e.z,a=this.coefficients;return i.copy(a[0]).multiplyScalar(.886227),i.addScaledVector(a[1],1.023328*r),i.addScaledVector(a[2],1.023328*s),i.addScaledVector(a[3],1.023328*n),i.addScaledVector(a[4],.858086*n*r),i.addScaledVector(a[5],.858086*r*s),i.addScaledVector(a[6],.743125*s*s-.247708),i.addScaledVector(a[7],.858086*n*s),i.addScaledVector(a[8],.429043*(n*n-r*r)),i}add(e){for(let i=0;i<9;i++)this.coefficients[i].add(e.coefficients[i]);return this}addScaledSH(e,i){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],i);return this}scale(e){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(e);return this}lerp(e,i){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],i);return this}equals(e){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(e.coefficients[i]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,i=0){let n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,i+3*r);return this}toArray(e=[],i=0){let n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,i+3*r);return e}static getBasisAt(e,i){let n=e.x,r=e.y,s=e.z;i[0]=.282095,i[1]=.488603*r,i[2]=.488603*s,i[3]=.488603*n,i[4]=1.092548*n*r,i[5]=1.092548*r*s,i[6]=.315392*(3*s*s-1),i[7]=1.092548*n*s,i[8]=.546274*(n*n-r*r)}}class oh extends aZ{constructor(e=new oc,i=1){super(void 0,i),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){let i=super.toJSON(e);return i.object.sh=this.sh.toArray(),i}}class od extends aX{constructor(e){super(e),this.textures={}}load(e,i,n,r){let s=this,a=new a9(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(n){try{i(s.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),s.manager.itemError(e)}},n,r)}parse(e){let i=this.textures;function n(e){return void 0===i[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),i[e]}let r=od.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new tn).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(let s in e.uniforms){let a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=n(a.value);break;case"c":r.uniforms[s].value=(new tn).setHex(a.value);break;case"v2":r.uniforms[s].value=(new _).fromArray(a.value);break;case"v3":r.uniforms[s].value=(new j).fromArray(a.value);break;case"v4":r.uniforms[s].value=(new H).fromArray(a.value);break;case"m3":r.uniforms[s].value=(new x).fromArray(a.value);break;case"m4":r.uniforms[s].value=(new eb).fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(let o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let l=e.normalScale;!1===Array.isArray(l)&&(l=[l,l]),r.normalScale=(new _).fromArray(l)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new _).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){return new({ShadowMaterial:ax,SpriteMaterial:rf,RawShaderMaterial:ab,ShaderMaterial:t4,PointsMaterial:st,MeshPhysicalMaterial:aS,MeshStandardMaterial:aw,MeshPhongMaterial:aE,MeshToonMaterial:aT,MeshNormalMaterial:aM,MeshLambertMaterial:aC,MeshDepthMaterial:nq,MeshDistanceMaterial:n9,MeshBasicMaterial:ts,MeshMatcapMaterial:aD,LineDashedMaterial:aA,LineBasicMaterial:r7,Material:eJ})[e]}}class op{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let i="";for(let n=0,r=e.length;n<r;n++)i+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(i))}catch(s){return i}}static extractUrlBase(e){let i=e.lastIndexOf("/");return -1===i?"./":e.slice(0,i+1)}static resolveURL(e,i){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(i)&&/^\//.test(e)&&(i=i.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:i+e)}}class of extends tx{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class om extends aX{constructor(e){super(e)}load(e,i,n,r){let s=this,a=new a9(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(n){try{i(s.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),s.manager.itemError(e)}},n,r)}parse(e){let i={},n={};function r(e,r){if(void 0!==i[r])return i[r];let s=e.interleavedBuffers[r],a=function(e,i){if(void 0!==n[i])return n[i];let r=e.arrayBuffers,s=r[i],a=new Uint32Array(s).buffer;return n[i]=a,a}(e,s.buffer),o=E(s.type,a),l=new rh(o,s.stride);return l.uuid=s.uuid,i[r]=l,l}let s=e.isInstancedBufferGeometry?new of:new tx,a=e.data.index;if(void 0!==a){let o=E(a.type,a.array);s.setIndex(new th(o,1))}let l=e.data.attributes;for(let u in l){let c=l[u],h;if(c.isInterleavedBufferAttribute){let d=r(e.data,c.data);h=new rp(d,c.itemSize,c.offset,c.normalized)}else{let p=E(c.type,c.array);h=new(c.isInstancedBufferAttribute?r3:th)(p,c.itemSize,c.normalized)}void 0!==c.name&&(h.name=c.name),void 0!==c.usage&&h.setUsage(c.usage),void 0!==c.updateRange&&(h.updateRange.offset=c.updateRange.offset,h.updateRange.count=c.updateRange.count),s.setAttribute(u,h)}let f=e.data.morphAttributes;if(f)for(let m in f){let g=f[m],$=[];for(let v=0,y=g.length;v<y;v++){let _=g[v],x;if(_.isInterleavedBufferAttribute){let b=r(e.data,_.data);x=new rp(b,_.itemSize,_.offset,_.normalized)}else{let w=E(_.type,_.array);x=new th(w,_.itemSize,_.normalized)}void 0!==_.name&&(x.name=_.name),$.push(x)}s.morphAttributes[m]=$}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);let S=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==S)for(let T=0,M=S.length;T!==M;++T){let C=S[T];s.addGroup(C.start,C.count,C.materialIndex)}let D=e.data.boundingSphere;if(void 0!==D){let A=new j;void 0!==D.center&&A.fromArray(D.center),s.boundingSphere=new ef(A,D.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}let og={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306},o$={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},ov={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008},oy;class o8{static getContext(){return void 0===oy&&(oy=new(window.AudioContext||window.webkitAudioContext)),oy}static setContext(e){oy=e}}let o_=new eb,ox=new eb,ob=new eb;class ow{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=oS(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let i=oS();e=(i-this.oldTime)/1e3,this.oldTime=i,this.elapsedTime+=e}return e}}function oS(){return("undefined"==typeof performance?Date:performance).now()}let oE=new j,oT=new X,oM=new j,oC=new j;class oD extends eH{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;let i=this.context.createBufferSource();return i.buffer=this.buffer,i.loop=this.loop,i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.onended=this.onEnded.bind(this),i.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=i,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,i=this.filters.length;e<i;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,i=this.filters.length;e<i;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}let oA=new j,o0=new X,o1=new j,oP=new j;class oL{constructor(e,i,n){let r,s,a;switch(this.binding=e,this.valueSize=n,i){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=Array(5*n);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,i){let n=this.buffer,r=this.valueSize,s=e*r+r,a=this.cumulativeWeight;if(0===a){for(let o=0;o!==r;++o)n[s+o]=n[o];a=i}else{a+=i;let l=i/a;this._mixBufferRegion(n,s,0,l,r)}this.cumulativeWeight=a}accumulateAdditive(e){let i=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(i,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){let i=this.valueSize,n=this.buffer,r=e*i+i,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){let l=i*this._origIndex;this._mixBufferRegion(n,r,l,1-s,i)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*i,1,i);for(let u=i,c=i+i;u!==c;++u)if(n[u]!==n[u+i]){o.setValue(n,r);break}}saveOriginalState(){let e=this.binding,i=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(i,r);for(let s=n,a=r;s!==a;++s)i[s]=i[r+s%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,i=e+this.valueSize;for(let n=e;n<i;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,i=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[i+n]=this.buffer[e+n]}_select(e,i,n,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[i+a]=e[n+a]}_slerp(e,i,n,r){X.slerpFlat(e,i,e,i,e,n,r)}_slerpAdditive(e,i,n,r,s){let a=this._workIndex*s;X.multiplyQuaternionsFlat(e,a,e,i,e,n),X.slerpFlat(e,i,e,i,e,a,r)}_lerp(e,i,n,r,s){let a=1-r;for(let o=0;o!==s;++o){let l=i+o;e[l]=e[l]*a+e[n+o]*r}}_lerpAdditive(e,i,n,r,s){for(let a=0;a!==s;++a){let o=i+a;e[o]=e[o]+e[n+a]*r}}}let oR="\\[\\]\\.:\\/",oI=RegExp("["+oR+"]","g"),ok="[^"+oR+"]",oO="[^"+oR.replace("\\.","")+"]",oN=RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",ok)+/(WCOD+)?/.source.replace("WCOD",oO)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ok)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ok)+"$"),oF=["material","materials","bones","map"];class oU{constructor(e,i,n){this.path=i,this.parsedPath=n||oU.parseTrackName(i),this.node=oU.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,i,n){return e&&e.isAnimationObjectGroup?new oU.Composite(e,i,n):new oU(e,i,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(oI,"")}static parseTrackName(e){let i=oN.exec(e);if(null===i)throw Error("PropertyBinding: Cannot parse trackName: "+e);let n={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){let s=n.nodeName.substring(r+1);-1!==oF.indexOf(s)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=s)}if(null===n.propertyName||0===n.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,i){if(void 0===i||""===i||"."===i||-1===i||i===e.name||i===e.uuid)return e;if(e.skeleton){let n=e.skeleton.getBoneByName(i);if(void 0!==n)return n}if(e.children){let r=function(e){for(let n=0;n<e.length;n++){let s=e[n];if(s.name===i||s.uuid===i)return s;let a=r(s.children);if(a)return a}return null},s=r(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,i){e[i]=this.targetObject[this.propertyName]}_getValue_array(e,i){let n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)e[i++]=n[r]}_getValue_arrayElement(e,i){e[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,i){this.resolvedProperty.toArray(e,i)}_setValue_direct(e,i){this.targetObject[this.propertyName]=e[i]}_setValue_direct_setNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,i){let n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[i++]}_setValue_array_setNeedsUpdate(e,i){let n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,i){let n=this.resolvedProperty;for(let r=0,s=n.length;r!==s;++r)n[r]=e[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,i){this.resolvedProperty[this.propertyIndex]=e[i]}_setValue_arrayElement_setNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,i){this.resolvedProperty.fromArray(e,i)}_setValue_fromArray_setNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,i){this.bind(),this.getValue(e,i)}_setValue_unbound(e,i){this.bind(),this.setValue(e,i)}bind(){let e=this.node,i=this.parsedPath,n=i.objectName,r=i.propertyName,s=i.propertyIndex;if(e||(e=oU.findNode(this.rootNode,i.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let a=i.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[a]}}let l=e[r];if(void 0===l){let u=i.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e)}let c=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(void 0!==s){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[s]&&(s=e.morphTargetDictionary[s])}h=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=s}else void 0!==l.fromArray&&void 0!==l.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(h=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}oU.Composite=class{constructor(e,i,n){let r=n||oU.parseTrackName(i);this._targetGroup=e,this._bindings=e.subscribe_(i,r)}getValue(e,i){this.bind();let n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,i)}setValue(e,i){let n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=n.length;r!==s;++r)n[r].setValue(e,i)}bind(){let e=this._bindings;for(let i=this._targetGroup.nCachedObjects_,n=e.length;i!==n;++i)e[i].bind()}unbind(){let e=this._bindings;for(let i=this._targetGroup.nCachedObjects_,n=e.length;i!==n;++i)e[i].unbind()}},oU.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},oU.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},oU.prototype.GetterByBindingType=[oU.prototype._getValue_direct,oU.prototype._getValue_array,oU.prototype._getValue_arrayElement,oU.prototype._getValue_toArray],oU.prototype.SetterByBindingTypeAndVersioning=[[oU.prototype._setValue_direct,oU.prototype._setValue_direct_setNeedsUpdate,oU.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[oU.prototype._setValue_array,oU.prototype._setValue_array_setNeedsUpdate,oU.prototype._setValue_array_setMatrixWorldNeedsUpdate],[oU.prototype._setValue_arrayElement,oU.prototype._setValue_arrayElement_setNeedsUpdate,oU.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[oU.prototype._setValue_fromArray,oU.prototype._setValue_fromArray_setNeedsUpdate,oU.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class oz{constructor(e,i,n=null,r=i.blendMode){this._mixer=e,this._clip=i,this._localRoot=n,this.blendMode=r;let s=i.tracks,a=s.length,o=Array(a),l={endingStart:2400,endingEnd:2400};for(let u=0;u!==a;++u){let c=s[u].createInterpolant(null);o[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,i){return this.loop=e,this.repetitions=i,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,i,n){if(e.fadeOut(i),this.fadeIn(i),n){let r=this._clip.duration,s=e._clip.duration;e.warp(1,s/r,i),this.warp(r/s,1,i)}return this}crossFadeTo(e,i,n){return e.crossFadeFrom(this,i,n)}stopFading(){let e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,i,n){let r=this._mixer,s=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);let l=o.parameterPositions,u=o.sampleValues;return l[0]=s,l[1]=s+n,u[0]=e/a,u[1]=i/a,this}stopWarping(){let e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,i,n,r){if(!this.enabled)return void this._updateWeight(e);let s=this._startTime;if(null!==s){let a=(e-s)*n;a<0||0===n?i=0:(this._startTime=null,i=n*a)}i*=this._updateTimeScale(e);let o=this._updateTime(i),l=this._updateWeight(e);if(l>0){let u=this._interpolants,c=this._propertyBindings;if(2501===this.blendMode)for(let h=0,d=u.length;h!==d;++h)u[h].evaluate(o),c[h].accumulateAdditive(l);else for(let p=0,f=u.length;p!==f;++p)u[p].evaluate(o),c[p].accumulate(r,l)}}_updateWeight(e){let i=0;if(this.enabled){i=this.weight;let n=this._weightInterpolant;if(null!==n){let r=n.evaluate(e)[0];i*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=i,i}_updateTimeScale(e){let i=0;if(!this.paused){i=this.timeScale;let n=this._timeScaleInterpolant;null!==n&&(i*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===i?this.paused=!0:this.timeScale=i))}return this._effectiveTimeScale=i,i}_updateTime(e){let i=this._clip.duration,n=this.loop,r=this.time+e,s=this._loopCount,a=2202===n;if(0===e)return -1===s?r:a&&1==(1&s)?i-r:r;if(2200===n){-1===s&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=i)r=i;else{if(!(r<0)){this.time=r;break t}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===s&&(e>=0?(s=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=i||r<0){let o=Math.floor(r/i);r-=i*o,s+=Math.abs(o);let l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?i:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===l){let u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1==(1&s))return i-r}return r}_setEndings(e,i,n){let r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=i?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(e,i,n){let r=this._mixer,s=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);let o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=i,o[1]=s+e,l[1]=n,this}}let oB=new Float32Array(1);class o3{constructor(e){this.value=e}clone(){return new o3(void 0===this.value.clone?this.value:this.value.clone())}}let o2=0;function o4(e,i){return e.distance-i.distance}function oH(e,i,n,r){if(e.layers.test(i.layers)&&e.raycast(i,n),!0===r){let s=e.children;for(let a=0,o=s.length;a<o;a++)oH(s[a],i,n,!0)}}let oG=new _,o6=new j,oV=new j,oW=new j,o5=new j,o7=new eb,oX=new eb,oj=new j,oq=new tn,o9=new tn,oY=new j,oZ=new j,oK=new j,oJ=new j,oQ=new tH;function le(e,i,n,r,s,a,o){oJ.set(s,a,o).unproject(r);let l=i[e];if(void 0!==l){let u=n.getAttribute("position");for(let c=0,h=l.length;c<h;c++)u.setXYZ(l[c],oJ.x,oJ.y,oJ.z)}}let lt=new Z,li=new j,ln,lr;"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"152"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="152"),e.ACESFilmicToneMapping=4,e.AddEquation=100,e.AddOperation=2,e.AdditiveAnimationBlendMode=2501,e.AdditiveBlending=2,e.AlphaFormat=1021,e.AlwaysDepth=1,e.AlwaysStencilFunc=519,e.AmbientLight=ol,e.AmbientLightProbe=class extends oh{constructor(e,i=1){super(void 0,i),this.isAmbientLightProbe=!0;let n=(new tn).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}},e.AnimationAction=oz,e.AnimationClip=a6,e.AnimationLoader=class extends aX{constructor(e){super(e)}load(e,i,n,r){let s=this,a=new a9(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){try{i(s.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),s.manager.itemError(e)}},n,r)}parse(e){let i=[];for(let n=0;n<e.length;n++){let r=a6.parse(e[n]);i.push(r)}return i}},e.AnimationMixer=class extends a{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,i){let n=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,l=n.uuid,u=this._bindingsByRootAndName,c=u[l];void 0===c&&(c={},u[l]=c);for(let h=0;h!==s;++h){let d=r[h],p=d.name,f=c[p];if(void 0!==f)++f.referenceCount,a[h]=f;else{if(void 0!==(f=a[h])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,l,p));continue}let m=i&&i._propertyBindings[h].binding.parsedPath;f=new oL(oU.create(n,p,m),d.ValueTypeName,d.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,l,p),a[h]=f}o[h].resultBuffer=f.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){let i=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,i)}let s=e._propertyBindings;for(let a=0,o=s.length;a!==o;++a){let l=s[a];0==l.useCount++&&(this._lendBinding(l),l.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let i=e._propertyBindings;for(let n=0,r=i.length;n!==r;++n){let s=i[n];0==--s.useCount&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0,this.stats={actions:{get total(){return this._actions.length},get inUse(){return this._nActiveActions}},bindings:{get total(){return this._bindings.length},get inUse(){return this._nActiveBindings}},controlInterpolants:{get total(){return this._controlInterpolants.length},get inUse(){return this._nActiveControlInterpolants}}}}_isActiveAction(e){let i=e._cacheIndex;return null!==i&&i<this._nActiveActions}_addInactiveAction(e,i,n){let r=this._actions,s=this._actionsByClip,a=s[i];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[i]=a;else{let o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}_removeInactiveAction(e){let i=this._actions,n=i[i.length-1],r=e._cacheIndex;n._cacheIndex=r,i[r]=n,i.pop(),e._cacheIndex=null;let s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===l.length&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let i=e._propertyBindings;for(let n=0,r=i.length;n!==r;++n){let s=i[n];0==--s.referenceCount&&this._removeInactiveBinding(s)}}_lendAction(e){let i=this._actions,n=e._cacheIndex,r=this._nActiveActions++,s=i[r];e._cacheIndex=r,i[r]=e,s._cacheIndex=n,i[n]=s}_takeBackAction(e){let i=this._actions,n=e._cacheIndex,r=--this._nActiveActions,s=i[r];e._cacheIndex=r,i[r]=e,s._cacheIndex=n,i[n]=s}_addInactiveBinding(e,i,n){let r=this._bindingsByRootAndName,s=this._bindings,a=r[i];void 0===a&&(a={},r[i]=a),a[n]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){let i=this._bindings,n=e.binding,r=n.rootNode.uuid,s=n.path,a=this._bindingsByRootAndName,o=a[r],l=i[i.length-1],u=e._cacheIndex;l._cacheIndex=u,i[u]=l,i.pop(),delete o[s],0===Object.keys(o).length&&delete a[r]}_lendBinding(e){let i=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,s=i[r];e._cacheIndex=r,i[r]=e,s._cacheIndex=n,i[n]=s}_takeBackBinding(e){let i=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,s=i[r];e._cacheIndex=r,i[r]=e,s._cacheIndex=n,i[n]=s}_lendControlInterpolant(){let e=this._controlInterpolants,i=this._nActiveControlInterpolants++,n=e[i];return void 0===n&&((n=new aN(new Float32Array(2),new Float32Array(2),1,oB)).__cacheIndex=i,e[i]=n),n}_takeBackControlInterpolant(e){let i=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=i[r];e.__cacheIndex=r,i[r]=e,s.__cacheIndex=n,i[n]=s}clipAction(e,i,n){let r=i||this._root,s=r.uuid,a="string"==typeof e?a6.findByName(r,e):e,o=null!==a?a.uuid:e,l=this._actionsByClip[o],u=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==l){let c=l.actionByRoot[s];if(void 0!==c&&c.blendMode===n)return c;u=l.knownActions[0],null===a&&(a=u._clip)}if(null===a)return null;let h=new oz(this,a,i,n);return this._bindAction(h,u),this._addInactiveAction(h,o,s),h}existingAction(e,i){let n=i||this._root,r=n.uuid,s="string"==typeof e?a6.findByName(n,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}stopAllAction(){let e=this._actions;for(let i=this._nActiveActions-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;let i=this._actions,n=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let o=0;o!==n;++o)i[o]._update(r,e,s,a);let l=this._bindings,u=this._nActiveBindings;for(let c=0;c!==u;++c)l[c].apply(a);return this}setTime(e){this.time=0;for(let i=0;i<this._actions.length;i++)this._actions[i].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let i=this._actions,n=e.uuid,r=this._actionsByClip,s=r[n];if(void 0!==s){let a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){let u=a[o];this._deactivateAction(u);let c=u._cacheIndex,h=i[i.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,h._cacheIndex=c,i[c]=h,i.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}}uncacheRoot(e){let i=e.uuid,n=this._actionsByClip;for(let r in n){let s=n[r].actionByRoot[i];void 0!==s&&(this._deactivateAction(s),this._removeInactiveAction(s))}let a=this._bindingsByRootAndName[i];if(void 0!==a)for(let o in a){let l=a[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,i){let n=this.existingAction(e,i);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},e.AnimationObjectGroup=class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=h(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;let e={};this._indicesByUUID=e;for(let i=0,n=arguments.length;i!==n;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={},this.stats={objects:{get total(){return this._objects.length},get inUse(){return this.total-this.nCachedObjects_}},get bindingsPerObject(){return this._bindings.length}}}add(){let e=this._objects,i=this._indicesByUUID,n=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length,o,l=e.length,u=this.nCachedObjects_;for(let c=0,h=arguments.length;c!==h;++c){let d=arguments[c],p=d.uuid,f=i[p];if(void 0===f){f=l++,i[p]=f,e.push(d);for(let m=0,g=a;m!==g;++m)s[m].push(new oU(d,n[m],r[m]))}else if(f<u){o=e[f];let $=--u,v=e[$];i[v.uuid]=f,e[f]=v,i[p]=$,e[$]=d;for(let y=0,_=a;y!==_;++y){let x=s[y],b=x[$],w=x[f];x[f]=b,void 0===w&&(w=new oU(d,n[y],r[y])),x[$]=w}}else e[f]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){let e=this._objects,i=this._indicesByUUID,n=this._bindings,r=n.length,s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){let l=arguments[a],u=l.uuid,c=i[u];if(void 0!==c&&c>=s){let h=s++,d=e[h];i[d.uuid]=c,e[c]=d,i[u]=h,e[h]=l;for(let p=0,f=r;p!==f;++p){let m=n[p],g=m[h],$=m[c];m[c]=g,m[h]=$}}}this.nCachedObjects_=s}uncache(){let e=this._objects,i=this._indicesByUUID,n=this._bindings,r=n.length,s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){let u=arguments[o].uuid,c=i[u];if(void 0!==c){if(delete i[u],c<s){let h=--s,d=e[h],p=--a,f=e[p];i[d.uuid]=c,e[c]=d,i[f.uuid]=h,e[h]=f,e.pop();for(let m=0,g=r;m!==g;++m){let $=n[m],v=$[h],y=$[p];$[c]=v,$[h]=y,$.pop()}}else{let _=--a,x=e[_];_>0&&(i[x.uuid]=c),e[c]=x,e.pop();for(let b=0,w=r;b!==w;++b){let S=n[b];S[c]=S[_],S.pop()}}}}this.nCachedObjects_=s}subscribe_(e,i){let n=this._bindingsIndicesByPath,r=n[e],s=this._bindings;if(void 0!==r)return s[r];let a=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,h=Array(u);r=s.length,n[e]=r,a.push(e),o.push(i),s.push(h);for(let d=c,p=l.length;d!==p;++d){let f=l[d];h[d]=new oU(f,e,i)}return h}unsubscribe_(e){let i=this._bindingsIndicesByPath,n=i[e];if(void 0!==n){let r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o];i[e[o]]=n,a[n]=l,a.pop(),s[n]=s[o],s.pop(),r[n]=r[o],r.pop()}}},e.AnimationUtils={arraySlice:a0,convertArray:a1,isTypedArray:aP,getKeyframeOrder:aL,sortedArray:aR,flattenJSON:aI,subclip:function(e,i,n,r,s=30){let a=e.clone();a.name=i;let o=[];for(let l=0;l<a.tracks.length;++l){let u=a.tracks[l],c=u.getValueSize(),h=[],d=[];for(let p=0;p<u.times.length;++p){let f=u.times[p]*s;if(!(f<n||f>=r)){h.push(u.times[p]);for(let m=0;m<c;++m)d.push(u.values[p*c+m])}}0!==h.length&&(u.times=a1(h,u.times.constructor),u.values=a1(d,u.values.constructor),o.push(u))}a.tracks=o;let g=1/0;for(let $=0;$<a.tracks.length;++$)g>a.tracks[$].times[0]&&(g=a.tracks[$].times[0]);for(let v=0;v<a.tracks.length;++v)a.tracks[v].shift(-1*g);return a.resetDuration(),a},makeClipAdditive:function(e,i=0,n=e,r=30){r<=0&&(r=30);let s=n.tracks.length,a=i/r;for(let o=0;o<s;++o){let l=n.tracks[o],u=l.ValueTypeName;if("bool"===u||"string"===u)continue;let c=e.tracks.find(function(e){return e.name===l.name&&e.ValueTypeName===u});if(void 0===c)continue;let h=0,d=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=d/3);let p=0,f=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=f/3);let m=l.times.length-1,g;if(a<=l.times[0]){let $=h,v=d-h;g=a0(l.values,$,v)}else if(a>=l.times[m]){let y=m*d+h,_=y+d-h;g=a0(l.values,y,_)}else{let x=l.createInterpolant(),b=h,w=d-h;x.evaluate(a),g=a0(x.resultBuffer,b,w)}"quaternion"===u&&(new X).fromArray(g).normalize().conjugate().toArray(g);let S=c.times.length;for(let E=0;E<S;++E){let T=E*f+p;if("quaternion"===u)X.multiplyQuaternionsFlat(c.values,T,g,0,c.values,T);else{let M=f-2*p;for(let C=0;C<M;++C)c.values[T+C]-=g[C]}}}return e.blendMode=2501,e}},e.ArcCurve=sh,e.ArrayCamera=nQ,e.ArrowHelper=class extends eH{constructor(e=new j(0,0,1),i=new j(0,0,0),n=1,r=16776960,s=.2*n,a=.2*s){super(),this.type="ArrowHelper",void 0===ln&&((ln=new tx).setAttribute("position",new tf([0,0,0,0,1,0],3)),(lr=new sP(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(i),this.line=new rZ(ln,new r7({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new tN(lr,new ts({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{li.set(e.z,0,-e.x).normalize();let i=Math.acos(e.y);this.quaternion.setFromAxisAngle(li,i)}}setLength(e,i=.2*e,n=.2*i){this.line.scale.set(1,Math.max(1e-4,e-i),1),this.line.updateMatrix(),this.cone.scale.set(n,i,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},e.Audio=oD,e.AudioAnalyser=class{constructor(e,i=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=i,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0,i=this.getFrequencyData();for(let n=0;n<i.length;n++)e+=i[n];return e/i.length}},e.AudioContext=o8,e.AudioListener=class extends eH{constructor(){super(),this.type="AudioListener",this.context=o8.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new ow}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);let i=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(oE,oT,oM),oC.set(0,0,-1).applyQuaternion(oT),i.positionX){let r=this.context.currentTime+this.timeDelta;i.positionX.linearRampToValueAtTime(oE.x,r),i.positionY.linearRampToValueAtTime(oE.y,r),i.positionZ.linearRampToValueAtTime(oE.z,r),i.forwardX.linearRampToValueAtTime(oC.x,r),i.forwardY.linearRampToValueAtTime(oC.y,r),i.forwardZ.linearRampToValueAtTime(oC.z,r),i.upX.linearRampToValueAtTime(n.x,r),i.upY.linearRampToValueAtTime(n.y,r),i.upZ.linearRampToValueAtTime(n.z,r)}else i.setPosition(oE.x,oE.y,oE.z),i.setOrientation(oC.x,oC.y,oC.z,n.x,n.y,n.z)}},e.AudioLoader=class extends aX{constructor(e){super(e)}load(e,i,n,r){let s=this,a=new a9(this.manager);function o(i){r?r(i):console.error(i),s.manager.itemError(e)}a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(e){try{let n=e.slice(0);o8.getContext().decodeAudioData(n,function(e){i(e)},o)}catch(r){o(r)}},n,r)}},e.AxesHelper=class extends rQ{constructor(e=1){let i=new tx;i.setAttribute("position",new tf([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],3)),i.setAttribute("color",new tf([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),super(i,new r7({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,i,n){let r=new tn,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(i),r.toArray(s,6),r.toArray(s,9),r.set(n),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},e.BackSide=1,e.BasicDepthPacking=3200,e.BasicShadowMap=0,e.Bone=rN,e.BooleanKeyframeTrack=az,e.Box2=class{constructor(e=new _(1/0,1/0),i=new _(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=i}set(e,i){return this.min.copy(e),this.max.copy(i),this}setFromPoints(e){this.makeEmpty();for(let i=0,n=e.length;i<n;i++)this.expandByPoint(e[i]);return this}setFromCenterAndSize(e,i){let n=oG.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,i){return i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,i){return i.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,oG).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},e.Box3=Z,e.Box3Helper=class extends rQ{constructor(e,i=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new tx;r.setIndex(new th(n,1)),r.setAttribute("position",new tf([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new r7({color:i,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let i=this.box;i.isEmpty()||(i.getCenter(this.position),i.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},e.BoxBufferGeometry=class extends tU{constructor(e,i,n,r,s,a){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,i,n,r,s,a)}},e.BoxGeometry=tU,e.BoxHelper=class extends rQ{constructor(e,i=16776960){let n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),s=new tx;s.setIndex(new th(n,1)),s.setAttribute("position",new th(r,3)),super(s,new r7({color:i,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&lt.setFromObject(this.object),lt.isEmpty())return;let i=lt.min,n=lt.max,r=this.geometry.attributes.position,s=r.array;s[0]=n.x,s[1]=n.y,s[2]=n.z,s[3]=i.x,s[4]=n.y,s[5]=n.z,s[6]=i.x,s[7]=i.y,s[8]=n.z,s[9]=n.x,s[10]=i.y,s[11]=n.z,s[12]=n.x,s[13]=n.y,s[14]=i.z,s[15]=i.x,s[16]=n.y,s[17]=i.z,s[18]=i.x,s[19]=i.y,s[20]=i.z,s[21]=n.x,s[22]=i.y,s[23]=i.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,i){return super.copy(e,i),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},e.BufferAttribute=th,e.BufferGeometry=tx,e.BufferGeometryLoader=om,e.ByteType=1010,e.Cache=aW,e.Camera=tH,e.CameraHelper=class extends rQ{constructor(e){let i=new tx,n=new r7({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};function o(e,i){l(e),l(i)}function l(e){r.push(0,0,0),s.push(0,0,0),void 0===a[e]&&(a[e]=[]),a[e].push(r.length/3-1)}o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4"),i.setAttribute("position",new tf(r,3)),i.setAttribute("color",new tf(s,3)),super(i,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();let u=new tn(16755200),c=new tn(16711680),h=new tn(43775),d=new tn(16777215),p=new tn(3355443);this.setColors(u,c,h,d,p)}setColors(e,i,n,r,s){let a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,i.r,i.g,i.b),a.setXYZ(25,i.r,i.g,i.b),a.setXYZ(26,i.r,i.g,i.b),a.setXYZ(27,i.r,i.g,i.b),a.setXYZ(28,i.r,i.g,i.b),a.setXYZ(29,i.r,i.g,i.b),a.setXYZ(30,i.r,i.g,i.b),a.setXYZ(31,i.r,i.g,i.b),a.setXYZ(32,n.r,n.g,n.b),a.setXYZ(33,n.r,n.g,n.b),a.setXYZ(34,n.r,n.g,n.b),a.setXYZ(35,n.r,n.g,n.b),a.setXYZ(36,n.r,n.g,n.b),a.setXYZ(37,n.r,n.g,n.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){let e=this.geometry,i=this.pointMap;oQ.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),le("c",i,e,oQ,0,0,-1),le("t",i,e,oQ,0,0,1),le("n1",i,e,oQ,-1,-1,-1),le("n2",i,e,oQ,1,-1,-1),le("n3",i,e,oQ,-1,1,-1),le("n4",i,e,oQ,1,1,-1),le("f1",i,e,oQ,-1,-1,1),le("f2",i,e,oQ,1,-1,1),le("f3",i,e,oQ,-1,1,1),le("f4",i,e,oQ,1,1,1),le("u1",i,e,oQ,.7,1.1,-1),le("u2",i,e,oQ,-.7,1.1,-1),le("u3",i,e,oQ,0,2,-1),le("cf1",i,e,oQ,-1,0,1),le("cf2",i,e,oQ,1,0,1),le("cf3",i,e,oQ,0,-1,1),le("cf4",i,e,oQ,0,1,1),le("cn1",i,e,oQ,-1,0,-1),le("cn2",i,e,oQ,1,0,-1),le("cn3",i,e,oQ,0,-1,-1),le("cn4",i,e,oQ,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},e.CanvasTexture=class extends B{constructor(e,i,n,r,s,a,o,l,u){super(e,i,n,r,s,a,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}},e.CapsuleBufferGeometry=class extends s0{constructor(e,i,n,r){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,i,n,r)}},e.CapsuleGeometry=s0,e.CatmullRomCurve3=s$,e.CineonToneMapping=3,e.CircleBufferGeometry=class extends s1{constructor(e,i,n,r){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,i,n,r)}},e.CircleGeometry=s1,e.ClampToEdgeWrapping=1001,e.Clock=ow,e.Color=tn,e.ColorKeyframeTrack=aB,e.ColorManagement=k,e.CompressedArrayTexture=class extends sl{constructor(e,i,n,r,s,a){super(e,i,n,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=1001}},e.CompressedTexture=sl,e.CompressedTextureLoader=class extends aX{constructor(e){super(e)}load(e,i,n,r){let s=this,a=[],o=new sl,l=new a9(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(c){l.load(e[c],function(e){let n=s.parse(e,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(o.minFilter=1006),o.image=a,o.format=n.format,o.needsUpdate=!0,i&&i(o))},n,r)}if(Array.isArray(e))for(let h=0,d=e.length;h<d;++h)c(h);else l.load(e,function(e){let n=s.parse(e,!0);if(n.isCubemap){let r=n.mipmaps.length/n.mipmapCount;for(let l=0;l<r;l++){a[l]={mipmaps:[]};for(let u=0;u<n.mipmapCount;u++)a[l].mipmaps.push(n.mipmaps[l*n.mipmapCount+u]),a[l].format=n.format,a[l].width=n.width,a[l].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=1006),o.format=n.format,o.needsUpdate=!0,i&&i(o)},n,r);return o}},e.ConeBufferGeometry=class extends sL{constructor(e,i,n,r,s,a,o){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,i,n,r,s,a,o)}},e.ConeGeometry=sL,e.CubeCamera=t6,e.CubeReflectionMapping=301,e.CubeRefractionMapping=302,e.CubeTexture=tV,e.CubeTextureLoader=class extends aX{constructor(e){super(e)}load(e,i,n,r){let s=new tV,a=new aY(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(n){a.load(e[n],function(e){s.images[n]=e,6==++o&&(s.needsUpdate=!0,i&&i(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}},e.CubeUVReflectionMapping=306,e.CubicBezierCurve=s_,e.CubicBezierCurve3=sx,e.CubicInterpolant=aO,e.CullFaceBack=1,e.CullFaceFront=2,e.CullFaceFrontBack=3,e.CullFaceNone=0,e.Curve=su,e.CurvePath=sC,e.CustomBlending=5,e.CustomToneMapping=5,e.CylinderBufferGeometry=class extends sP{constructor(e,i,n,r,s,a,o,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,i,n,r,s,a,o,l)}},e.CylinderGeometry=sP,e.Cylindrical=class{constructor(e=1,i=0,n=0){return this.radius=e,this.theta=i,this.y=n,this}set(e,i,n){return this.radius=e,this.theta=i,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,i,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=i,this}clone(){return(new this.constructor).copy(this)}},e.Data3DTexture=W,e.DataArrayTexture=V,e.DataTexture=rF,e.DataTextureLoader=class extends aX{constructor(e){super(e)}load(e,i,n,r){let s=this,a=new rF,o=new a9(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(e){let n=s.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:1001,a.wrapT=void 0!==n.wrapT?n.wrapT:1001,a.magFilter=void 0!==n.magFilter?n.magFilter:1006,a.minFilter=void 0!==n.minFilter?n.minFilter:1006,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace?a.colorSpace=n.colorSpace:void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=1008),1===n.mipmapCount&&(a.minFilter=1006),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,i&&i(a,n))},n,r),a}},e.DataUtils={toHalfFloat:to,fromHalfFloat:tl},e.DecrementStencilOp=7683,e.DecrementWrapStencilOp=34056,e.DefaultLoadingManager=a7,e.DepthFormat=1026,e.DepthStencilFormat=1027,e.DepthTexture=rn,e.DirectionalLight=oo,e.DirectionalLightHelper=class extends eH{constructor(e,i,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===i&&(i=1);let r=new tx;r.setAttribute("position",new tf([-i,i,0,i,i,0,i,-i,0,-i,-i,0,-i,i,0],3));let s=new r7({fog:!1,toneMapped:!1});this.lightPlane=new rZ(r,s),this.add(this.lightPlane),(r=new tx).setAttribute("position",new tf([0,0,0,0,0,1],3)),this.targetLine=new rZ(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),oY.setFromMatrixPosition(this.light.matrixWorld),oZ.setFromMatrixPosition(this.light.target.matrixWorld),oK.subVectors(oZ,oY),this.lightPlane.lookAt(oZ),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(oZ),this.targetLine.scale.z=oK.length()}},e.DiscreteInterpolant=aF,e.DisplayP3ColorSpace=r,e.DodecahedronBufferGeometry=class extends sI{constructor(e,i){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,i)}},e.DodecahedronGeometry=sI,e.DoubleSide=2,e.DstAlphaFactor=206,e.DstColorFactor=208,e.DynamicCopyUsage=35050,e.DynamicDrawUsage=35048,e.DynamicReadUsage=35049,e.EdgesGeometry=sU,e.EllipseCurve=sc,e.EqualDepth=4,e.EqualStencilFunc=514,e.EquirectangularReflectionMapping=303,e.EquirectangularRefractionMapping=304,e.Euler=e1,e.EventDispatcher=a,e.ExtrudeBufferGeometry=class extends al{constructor(e,i){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,i)}},e.ExtrudeGeometry=al,e.FileLoader=a9,e.Float16BufferAttribute=class extends th{constructor(e,i,n){super(new Uint16Array(e),i,n),this.isFloat16BufferAttribute=!0}getX(e){let i=tl(this.array[e*this.itemSize]);return this.normalized&&(i=v(i,this.array)),i}setX(e,i){return this.normalized&&(i=y(i,this.array)),this.array[e*this.itemSize]=to(i),this}getY(e){let i=tl(this.array[e*this.itemSize+1]);return this.normalized&&(i=v(i,this.array)),i}setY(e,i){return this.normalized&&(i=y(i,this.array)),this.array[e*this.itemSize+1]=to(i),this}getZ(e){let i=tl(this.array[e*this.itemSize+2]);return this.normalized&&(i=v(i,this.array)),i}setZ(e,i){return this.normalized&&(i=y(i,this.array)),this.array[e*this.itemSize+2]=to(i),this}getW(e){let i=tl(this.array[e*this.itemSize+3]);return this.normalized&&(i=v(i,this.array)),i}setW(e,i){return this.normalized&&(i=y(i,this.array)),this.array[e*this.itemSize+3]=to(i),this}setXY(e,i,n){return e*=this.itemSize,this.normalized&&(i=y(i,this.array),n=y(n,this.array)),this.array[e+0]=to(i),this.array[e+1]=to(n),this}setXYZ(e,i,n,r){return e*=this.itemSize,this.normalized&&(i=y(i,this.array),n=y(n,this.array),r=y(r,this.array)),this.array[e+0]=to(i),this.array[e+1]=to(n),this.array[e+2]=to(r),this}setXYZW(e,i,n,r,s){return e*=this.itemSize,this.normalized&&(i=y(i,this.array),n=y(n,this.array),r=y(r,this.array),s=y(s,this.array)),this.array[e+0]=to(i),this.array[e+1]=to(n),this.array[e+2]=to(r),this.array[e+3]=to(s),this}},e.Float32BufferAttribute=tf,e.Float64BufferAttribute=class extends th{constructor(e,i,n){super(new Float64Array(e),i,n)}},e.FloatType=1015,e.Fog=ru,e.FogExp2=rl,e.FramebufferTexture=class extends B{constructor(e,i,n){super({width:e,height:i}),this.isFramebufferTexture=!0,this.format=n,this.magFilter=1003,this.minFilter=1003,this.generateMipmaps=!1,this.needsUpdate=!0}},e.FrontSide=0,e.Frustum=tY,e.GLBufferAttribute=class{constructor(e,i,n,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=i,this.itemSize=n,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,i){return this.type=e,this.elementSize=i,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},e.GLSL1="100",e.GLSL3=s,e.GreaterDepth=6,e.GreaterEqualDepth=5,e.GreaterEqualStencilFunc=518,e.GreaterStencilFunc=516,e.GridHelper=class extends rQ{constructor(e=10,i=10,n=4473924,r=8947848){n=new tn(n),r=new tn(r);let s=i/2,a=e/i,o=e/2,l=[],u=[];for(let c=0,h=0,d=-o;c<=i;c++,d+=a){l.push(-o,0,d,o,0,d),l.push(d,0,-o,d,0,o);let p=c===s?n:r;p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3,p.toArray(u,h),h+=3}let f=new tx;f.setAttribute("position",new tf(l,3)),f.setAttribute("color",new tf(u,3)),super(f,new r7({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},e.Group=re,e.HalfFloatType=1016,e.HemisphereLight=aK,e.HemisphereLightHelper=class extends eH{constructor(e,i,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";let r=new ah(i);r.rotateY(.5*Math.PI),this.material=new ts({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);let s=r.getAttribute("position"),a=new Float32Array(3*s.count);r.setAttribute("color",new th(a,3)),this.add(new tN(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){let e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{let i=e.geometry.getAttribute("color");oq.copy(this.light.color),o9.copy(this.light.groundColor);for(let n=0,r=i.count;n<r;n++){let s=n<r/2?oq:o9;i.setXYZ(n,s.r,s.g,s.b)}i.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(oj.setFromMatrixPosition(this.light.matrixWorld).negate())}},e.HemisphereLightProbe=class extends oh{constructor(e,i,n=1){super(void 0,n),this.isHemisphereLightProbe=!0;let r=(new tn).set(e),s=(new tn).set(i),a=new j(r.r,r.g,r.b),o=new j(s.r,s.g,s.b),l=Math.sqrt(Math.PI);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(l),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(l*Math.sqrt(.75))}},e.IcosahedronBufferGeometry=class extends ac{constructor(e,i){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,i)}},e.IcosahedronGeometry=ac,e.ImageBitmapLoader=class extends aX{constructor(e){super(e),this.isImageBitmapLoader=!0,"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,i,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);let s=this,a=aW.get(e);if(void 0!==a)return s.manager.itemStart(e),setTimeout(function(){i&&i(a),s.manager.itemEnd(e)},0),a;let o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(n){aW.add(e,n),i&&i(n),s.manager.itemEnd(e)}).catch(function(i){r&&r(i),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}},e.ImageLoader=aY,e.ImageUtils=N,e.IncrementStencilOp=7682,e.IncrementWrapStencilOp=34055,e.InstancedBufferAttribute=r3,e.InstancedBufferGeometry=of,e.InstancedInterleavedBuffer=class extends rh{constructor(e,i,n=1){super(e,i),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){let i=super.clone(e);return i.meshPerAttribute=this.meshPerAttribute,i}toJSON(e){let i=super.toJSON(e);return i.isInstancedInterleavedBuffer=!0,i.meshPerAttribute=this.meshPerAttribute,i}},e.InstancedMesh=r5,e.Int16BufferAttribute=class extends th{constructor(e,i,n){super(new Int16Array(e),i,n)}},e.Int32BufferAttribute=class extends th{constructor(e,i,n){super(new Int32Array(e),i,n)}},e.Int8BufferAttribute=class extends th{constructor(e,i,n){super(new Int8Array(e),i,n)}},e.IntType=1013,e.InterleavedBuffer=rh,e.InterleavedBufferAttribute=rp,e.Interpolant=ak,e.InterpolateDiscrete=2300,e.InterpolateLinear=2301,e.InterpolateSmooth=2302,e.InvertStencilOp=5386,e.KeepStencilOp=7680,e.KeyframeTrack=aU,e.LOD=r0,e.LatheBufferGeometry=class extends sA{constructor(e,i,n,r){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,i,n,r)}},e.LatheGeometry=sA,e.Layers=eP,e.LessDepth=2,e.LessEqualDepth=3,e.LessEqualStencilFunc=515,e.LessStencilFunc=513,e.Light=aZ,e.LightProbe=oh,e.Line=rZ,e.Line3=class{constructor(e=new j,i=new j){this.start=e,this.end=i}set(e,i){return this.start.copy(e),this.end.copy(i),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,i){return this.delta(i).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,i){o6.subVectors(e,this.start),oV.subVectors(this.end,this.start);let n=oV.dot(oV),r=oV.dot(o6)/n;return i&&(r=d(r,0,1)),r}closestPointToPoint(e,i,n){let r=this.closestPointToPointParameter(e,i);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},e.LineBasicMaterial=r7,e.LineCurve=sb,e.LineCurve3=sw,e.LineDashedMaterial=aA,e.LineLoop=se,e.LineSegments=rQ,e.LinearEncoding=3e3,e.LinearFilter=1006,e.LinearInterpolant=aN,e.LinearMipMapLinearFilter=1008,e.LinearMipMapNearestFilter=1007,e.LinearMipmapLinearFilter=1008,e.LinearMipmapNearestFilter=1007,e.LinearSRGBColorSpace=n,e.LinearToneMapping=1,e.Loader=aX,e.LoaderUtils=op,e.LoadingManager=a5,e.LoopOnce=2200,e.LoopPingPong=2202,e.LoopRepeat=2201,e.LuminanceAlphaFormat=1025,e.LuminanceFormat=1024,e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},e.Material=eJ,e.MaterialLoader=od,e.MathUtils={DEG2RAD:u,RAD2DEG:c,generateUUID:h,clamp:d,euclideanModulo:p,mapLinear:function(e,i,n,r,s){return r+(e-i)*(s-r)/(n-i)},inverseLerp:function(e,i,n){return e!==i?(n-e)/(i-e):0},lerp:f,damp:function(e,i,n,r){return f(e,i,1-Math.exp(-n*r))},pingpong:function(e,i=1){return i-Math.abs(p(e,2*i)-i)},smoothstep:function(e,i,n){return e<=i?0:e>=n?1:(e=(e-i)/(n-i))*e*(3-2*e)},smootherstep:function(e,i,n){return e<=i?0:e>=n?1:(e=(e-i)/(n-i))*e*e*(e*(6*e-15)+10)},randInt:function(e,i){return e+Math.floor(Math.random()*(i-e+1))},randFloat:function(e,i){return e+Math.random()*(i-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(l=e);let i=l+=1831565813;return i=Math.imul(i^i>>>15,1|i),(((i^=i+Math.imul(i^i>>>7,61|i))^i>>>14)>>>0)/4294967296},degToRad:function(e){return e*u},radToDeg:function(e){return e*c},isPowerOfTwo:m,ceilPowerOfTwo:g,floorPowerOfTwo:$,setQuaternionFromProperEuler:function(e,i,n,r,s){let a=Math.cos,o=Math.sin,l=a(n/2),u=o(n/2),c=a((i+r)/2),h=o((i+r)/2),d=a((i-r)/2),p=o((i-r)/2),f=a((r-i)/2),m=o((r-i)/2);switch(s){case"XYX":e.set(l*h,u*d,u*p,l*c);break;case"YZY":e.set(u*p,l*h,u*d,l*c);break;case"ZXZ":e.set(u*d,u*p,l*h,l*c);break;case"XZX":e.set(l*h,u*m,u*f,l*c);break;case"YXY":e.set(u*f,l*h,u*m,l*c);break;case"ZYZ":e.set(u*m,u*f,l*h,l*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}},normalize:y,denormalize:v},e.Matrix3=x,e.Matrix4=eb,e.MaxEquation=104,e.Mesh=tN,e.MeshBasicMaterial=ts,e.MeshDepthMaterial=nq,e.MeshDistanceMaterial=n9,e.MeshLambertMaterial=aC,e.MeshMatcapMaterial=aD,e.MeshNormalMaterial=aM,e.MeshPhongMaterial=aE,e.MeshPhysicalMaterial=aS,e.MeshStandardMaterial=aw,e.MeshToonMaterial=aT,e.MinEquation=103,e.MirroredRepeatWrapping=1002,e.MixOperation=1,e.MultiplyBlending=4,e.MultiplyOperation=0,e.NearestFilter=1003,e.NearestMipMapLinearFilter=1005,e.NearestMipMapNearestFilter=1004,e.NearestMipmapLinearFilter=1005,e.NearestMipmapNearestFilter=1004,e.NeverDepth=0,e.NeverStencilFunc=512,e.NoBlending=0,e.NoColorSpace="",e.NoToneMapping=0,e.NormalAnimationBlendMode=2500,e.NormalBlending=1,e.NotEqualDepth=7,e.NotEqualStencilFunc=517,e.NumberKeyframeTrack=a3,e.Object3D=eH,e.ObjectLoader=class extends aX{constructor(e){super(e)}load(e,i,n,r){let s=this,a=""===this.path?op.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;let o=new a9(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(n){let a=null;try{a=JSON.parse(n)}catch(o){return void 0!==r&&r(o),void console.error("THREE:ObjectLoader: Can't parse "+e+".",o.message)}let l=a.metadata;if(void 0===l||void 0===l.type||"geometry"===l.type.toLowerCase())return void 0!==r&&r(Error("THREE.ObjectLoader: Can't load "+e)),void console.error("THREE.ObjectLoader: Can't load "+e);s.parse(a,i)},n,r)}async loadAsync(e,i){let n=""===this.path?op.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;let r=new a9(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);let s=await r.loadAsync(e,i),a=JSON.parse(s),o=a.metadata;if(void 0===o||void 0===o.type||"geometry"===o.type.toLowerCase())throw Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(a)}parse(e,i){let n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){void 0!==i&&i(u)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,l,o,n),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),void 0!==i){let h=!1;for(let d in a)if(a[d].data instanceof HTMLImageElement){h=!0;break}!1===h&&i(u)}return u}async parseAsync(e){let i=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,i),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){let i={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){let s=(new sz).fromJSON(e[n]);i[s.uuid]=s}return i}parseSkeletons(e,i){let n={},r={};if(i.traverse(function(e){e.isBone&&(r[e.uuid]=e)}),void 0!==e)for(let s=0,a=e.length;s<a;s++){let o=(new rB).fromJSON(e[s],r);n[o.uuid]=o}return n}parseGeometries(e,i){let n={};if(void 0!==e){let r=new om;for(let s=0,a=e.length;s<a;s++){let o,l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in a_?o=a_[l.type].fromJSON(l,i):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,void 0!==l.name&&(o.name=l.name),void 0!==l.userData&&(o.userData=l.userData),n[l.uuid]=o}}return n}parseMaterials(e,i){let n={},r={};if(void 0!==e){let s=new od;s.setTextures(i);for(let a=0,o=e.length;a<o;a++){let l=e[a];void 0===n[l.uuid]&&(n[l.uuid]=s.parse(l)),r[l.uuid]=n[l.uuid]}}return r}parseAnimations(e){let i={};if(void 0!==e)for(let n=0;n<e.length;n++){let r=e[n],s=a6.parse(r);i[s.uuid]=s}return i}parseImages(e,i){let n=this,r={},s;function a(e){if("string"==typeof e){var i;let r=e;return i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r)?r:n.resourcePath+r,n.manager.itemStart(i),s.load(i,function(){n.manager.itemEnd(i)},void 0,function(){n.manager.itemError(i),n.manager.itemEnd(i)})}return e.data?{data:E(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){let o=new a5(i);(s=new aY(o)).setCrossOrigin(this.crossOrigin);for(let l=0,u=e.length;l<u;l++){let c=e[l],h=c.url;if(Array.isArray(h)){let d=[];for(let p=0,f=h.length;p<f;p++){let m=a(h[p]);null!==m&&(m instanceof HTMLImageElement?d.push(m):d.push(new rF(m.data,m.width,m.height)))}r[c.uuid]=new F(d)}else{let g=a(c.url);r[c.uuid]=new F(g)}}}return r}async parseImagesAsync(e){let i=this,n={},r;async function s(e){if("string"==typeof e){let n=e,s=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:i.resourcePath+n;return await r.loadAsync(s)}return e.data?{data:E(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){(r=new aY(this.manager)).setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){let l=e[a],u=l.url;if(Array.isArray(u)){let c=[];for(let h=0,d=u.length;h<d;h++){let p=u[h],f=await s(p);null!==f&&(f instanceof HTMLImageElement?c.push(f):c.push(new rF(f.data,f.width,f.height)))}n[l.uuid]=new F(c)}else{let m=await s(l.url);n[l.uuid]=new F(m)}}}return n}parseTextures(e,i){function n(e,i){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),i[e])}let r={};if(void 0!==e)for(let s=0,a=e.length;s<a;s++){let o=e[s];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===i[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);let l=i[o.image],u=l.data,c;Array.isArray(u)?(c=new tV,6===u.length&&(c.needsUpdate=!0)):(c=u&&u.data?new rF:new B,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=o.uuid,void 0!==o.name&&(c.name=o.name),void 0!==o.mapping&&(c.mapping=n(o.mapping,og)),void 0!==o.channel&&(c.channel=o.channel),void 0!==o.offset&&c.offset.fromArray(o.offset),void 0!==o.repeat&&c.repeat.fromArray(o.repeat),void 0!==o.center&&c.center.fromArray(o.center),void 0!==o.rotation&&(c.rotation=o.rotation),void 0!==o.wrap&&(c.wrapS=n(o.wrap[0],o$),c.wrapT=n(o.wrap[1],o$)),void 0!==o.format&&(c.format=o.format),void 0!==o.internalFormat&&(c.internalFormat=o.internalFormat),void 0!==o.type&&(c.type=o.type),void 0!==o.colorSpace&&(c.colorSpace=o.colorSpace),void 0!==o.encoding&&(c.encoding=o.encoding),void 0!==o.minFilter&&(c.minFilter=n(o.minFilter,ov)),void 0!==o.magFilter&&(c.magFilter=n(o.magFilter,ov)),void 0!==o.anisotropy&&(c.anisotropy=o.anisotropy),void 0!==o.flipY&&(c.flipY=o.flipY),void 0!==o.generateMipmaps&&(c.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(c.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(c.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(c.userData=o.userData),r[o.uuid]=c}return r}parseObject(e,i,n,r,s){let a,o,l;function u(e){return void 0===i[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),i[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){let i=[];for(let r=0,s=e.length;r<s;r++){let a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),i.push(n[a])}return i}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function h(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new rc,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new tn(e.background):a.background=h(e.background)),void 0!==e.environment&&(a.environment=h(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new ru(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new rl(e.fog.color,e.fog.density))),void 0!==e.backgroundBlurriness&&(a.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new tG(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new ic(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new ol(e.color,e.intensity);break;case"DirectionalLight":a=new oo(e.color,e.intensity);break;case"PointLight":a=new oa(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new ou(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new oi(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new aK(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new oh).fromJSON(e);break;case"SkinnedMesh":o=u(e.geometry),l=c(e.material),a=new rO(o,l),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=u(e.geometry),l=c(e.material),a=new tN(o,l);break;case"InstancedMesh":o=u(e.geometry),l=c(e.material);let d=e.count,p=e.instanceMatrix,f=e.instanceColor;(a=new r5(o,l,d)).instanceMatrix=new r3(new Float32Array(p.array),16),void 0!==f&&(a.instanceColor=new r3(new Float32Array(f.array),f.itemSize));break;case"LOD":a=new r0;break;case"Line":a=new rZ(u(e.geometry),c(e.material));break;case"LineLoop":a=new se(u(e.geometry),c(e.material));break;case"LineSegments":a=new rQ(u(e.geometry),c(e.material));break;case"PointCloud":case"Points":a=new sa(u(e.geometry),c(e.material));break;case"Sprite":a=new rM(c(e.material));break;case"Group":a=new re;break;case"Bone":a=new rN;break;default:a=new eH}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.up&&a.up.fromArray(e.up),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children){let m=e.children;for(let g=0;g<m.length;g++)a.add(this.parseObject(m[g],i,n,r,s))}if(void 0!==e.animations){let $=e.animations;for(let v=0;v<$.length;v++){let y=$[v];a.animations.push(s[y])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);let _=e.levels;for(let x=0;x<_.length;x++){let b=_[x],w=a.getObjectByProperty("uuid",b.object);void 0!==w&&a.addLevel(w,b.distance,b.hysteresis)}}return a}bindSkeletons(e,i){0!==Object.keys(i).length&&e.traverse(function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){let n=i[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}})}},e.ObjectSpaceNormalMap=1,e.OctahedronBufferGeometry=class extends ah{constructor(e,i){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,i)}},e.OctahedronGeometry=ah,e.OneFactor=201,e.OneMinusDstAlphaFactor=207,e.OneMinusDstColorFactor=209,e.OneMinusSrcAlphaFactor=205,e.OneMinusSrcColorFactor=203,e.OrthographicCamera=ic,e.PCFShadowMap=1,e.PCFSoftShadowMap=2,e.PMREMGenerator=iy,e.Path=sD,e.PerspectiveCamera=tG,e.Plane=tj,e.PlaneBufferGeometry=class extends tJ{constructor(e,i,n,r){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,i,n,r)}},e.PlaneGeometry=tJ,e.PlaneHelper=class extends rZ{constructor(e,i=1,n=16776960){let r=n,s=new tx;s.setAttribute("position",new tf([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),s.computeBoundingSphere(),super(s,new r7({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=i;let a=new tx;a.setAttribute("position",new tf([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),a.computeBoundingSphere(),this.add(new tN(a,new ts({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},e.PointLight=oa,e.PointLightHelper=class extends tN{constructor(e,i,n){super(new af(i,4,2),new ts({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},e.Points=sa,e.PointsMaterial=st,e.PolarGridHelper=class extends rQ{constructor(e=10,i=16,n=8,r=64,s=4473924,a=8947848){s=new tn(s),a=new tn(a);let o=[],l=[];if(i>1)for(let u=0;u<i;u++){let c=u/i*(2*Math.PI),h=Math.sin(c)*e,d=Math.cos(c)*e;o.push(0,0,0),o.push(h,0,d);let p=1&u?s:a;l.push(p.r,p.g,p.b),l.push(p.r,p.g,p.b)}for(let f=0;f<n;f++){let m=1&f?s:a,g=e-e/n*f;for(let $=0;$<r;$++){let v=$/r*(2*Math.PI),y=Math.sin(v)*g,_=Math.cos(v)*g;o.push(y,0,_),l.push(m.r,m.g,m.b),y=Math.sin(v=($+1)/r*(2*Math.PI))*g,_=Math.cos(v)*g,o.push(y,0,_),l.push(m.r,m.g,m.b)}}let x=new tx;x.setAttribute("position",new tf(o,3)),x.setAttribute("color",new tf(l,3)),super(x,new r7({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},e.PolyhedronBufferGeometry=class extends sR{constructor(e,i,n,r){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,i,n,r)}},e.PolyhedronGeometry=sR,e.PositionalAudio=class extends oD{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,i,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=i,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(oA,o0,o1),oP.set(0,0,1).applyQuaternion(o0);let i=this.panner;if(i.positionX){let n=this.context.currentTime+this.listener.timeDelta;i.positionX.linearRampToValueAtTime(oA.x,n),i.positionY.linearRampToValueAtTime(oA.y,n),i.positionZ.linearRampToValueAtTime(oA.z,n),i.orientationX.linearRampToValueAtTime(oP.x,n),i.orientationY.linearRampToValueAtTime(oP.y,n),i.orientationZ.linearRampToValueAtTime(oP.z,n)}else i.setPosition(oA.x,oA.y,oA.z),i.setOrientation(oP.x,oP.y,oP.z)}},e.PropertyBinding=oU,e.PropertyMixer=oL,e.QuadraticBezierCurve=sS,e.QuadraticBezierCurve3=sE,e.Quaternion=X,e.QuaternionKeyframeTrack=a4,e.QuaternionLinearInterpolant=a2,e.RED_GREEN_RGTC2_Format=36285,e.RED_RGTC1_Format=36283,e.REVISION="152",e.RGBADepthPacking=3201,e.RGBAFormat=1023,e.RGBAIntegerFormat=1033,e.RGBA_ASTC_10x10_Format=37819,e.RGBA_ASTC_10x5_Format=37816,e.RGBA_ASTC_10x6_Format=37817,e.RGBA_ASTC_10x8_Format=37818,e.RGBA_ASTC_12x10_Format=37820,e.RGBA_ASTC_12x12_Format=37821,e.RGBA_ASTC_4x4_Format=37808,e.RGBA_ASTC_5x4_Format=37809,e.RGBA_ASTC_5x5_Format=37810,e.RGBA_ASTC_6x5_Format=37811,e.RGBA_ASTC_6x6_Format=37812,e.RGBA_ASTC_8x5_Format=37813,e.RGBA_ASTC_8x6_Format=37814,e.RGBA_ASTC_8x8_Format=37815,e.RGBA_BPTC_Format=36492,e.RGBA_ETC2_EAC_Format=37496,e.RGBA_PVRTC_2BPPV1_Format=35843,e.RGBA_PVRTC_4BPPV1_Format=35842,e.RGBA_S3TC_DXT1_Format=33777,e.RGBA_S3TC_DXT3_Format=33778,e.RGBA_S3TC_DXT5_Format=33779,e.RGB_ETC1_Format=36196,e.RGB_ETC2_Format=37492,e.RGB_PVRTC_2BPPV1_Format=35841,e.RGB_PVRTC_4BPPV1_Format=35840,e.RGB_S3TC_DXT1_Format=33776,e.RGFormat=1030,e.RGIntegerFormat=1031,e.RawShaderMaterial=ab,e.Ray=ex,e.Raycaster=class{constructor(e,i,n=0,r=1/0){this.ray=new ex(e,i),this.near=n,this.far=r,this.camera=null,this.layers=new eP,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,i){this.ray.set(e,i)}setFromCamera(e,i){i.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(i).sub(this.ray.origin).normalize(),this.camera=i):i.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(i.near+i.far)/(i.near-i.far)).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld),this.camera=i):console.error("THREE.Raycaster: Unsupported camera type: "+i.type)}intersectObject(e,i=!0,n=[]){return oH(e,this,n,i),n.sort(o4),n}intersectObjects(e,i=!0,n=[]){for(let r=0,s=e.length;r<s;r++)oH(e[r],this,n,i);return n.sort(o4),n}},e.RectAreaLight=ou,e.RedFormat=1028,e.RedIntegerFormat=1029,e.ReinhardToneMapping=2,e.RepeatWrapping=1e3,e.ReplaceStencilOp=7681,e.ReverseSubtractEquation=102,e.RingBufferGeometry=class extends ad{constructor(e,i,n,r,s,a){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,i,n,r,s,a)}},e.RingGeometry=ad,e.SIGNED_RED_GREEN_RGTC2_Format=36286,e.SIGNED_RED_RGTC1_Format=36284,e.SRGBColorSpace=i,e.Scene=rc,e.ShaderChunk=tQ,e.ShaderLib=it,e.ShaderMaterial=t4,e.ShadowMaterial=ax,e.Shape=sz,e.ShapeBufferGeometry=class extends ap{constructor(e,i){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,i)}},e.ShapeGeometry=ap,e.ShapePath=class{constructor(){this.type="ShapePath",this.color=new tn,this.subPaths=[],this.currentPath=null}moveTo(e,i){return this.currentPath=new sD,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,i),this}lineTo(e,i){return this.currentPath.lineTo(e,i),this}quadraticCurveTo(e,i,n,r){return this.currentPath.quadraticCurveTo(e,i,n,r),this}bezierCurveTo(e,i,n,r,s,a){return this.currentPath.bezierCurveTo(e,i,n,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function i(e,i){let n=i.length,r=!1;for(let s=n-1,a=0;a<n;s=a++){let o=i[s],l=i[a],u=l.x-o.x,c=l.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=i[a],u=-u,l=i[s],c=-c),e.y<o.y||e.y>l.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{let h=c*(e.x-o.x)-u*(e.y-o.y);if(0===h)return!0;if(h<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(l.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=l.x)return!0}}return r}let n=as.isClockWise,r=this.subPaths;if(0===r.length)return[];let s,a,o,l=[];if(1===r.length)return a=r[0],(o=new sz).curves=a.curves,l.push(o),l;let u=!n(r[0].getPoints());u=e?!u:u;let c=[],h=[],d,p,f=[],m=0;h[m]=void 0,f[m]=[];for(let g=0,$=r.length;g<$;g++)s=n(d=(a=r[g]).getPoints()),(s=e?!s:s)?(!u&&h[m]&&m++,h[m]={s:new sz,p:d},h[m].s.curves=a.curves,u&&m++,f[m]=[]):f[m].push({h:a,p:d[0]});if(!h[0])return function(e){let i=[];for(let n=0,r=e.length;n<r;n++){let s=e[n],a=new sz;a.curves=s.curves,i.push(a)}return i}(r);if(h.length>1){let v=!1,y=0;for(let _=0,x=h.length;_<x;_++)c[_]=[];for(let b=0,w=h.length;b<w;b++){let S=f[b];for(let E=0;E<S.length;E++){let T=S[E],M=!0;for(let C=0;C<h.length;C++)i(T.p,h[C].p)&&(b!==C&&y++,M?(M=!1,c[C].push(T)):v=!0);M&&c[b].push(T)}}y>0&&!1===v&&(f=c)}for(let D=0,A=h.length;D<A;D++){o=h[D].s,l.push(o),p=f[D];for(let P=0,L=p.length;P<L;P++)o.holes.push(p[P].h)}return l}},e.ShapeUtils=as,e.ShortType=1011,e.Skeleton=rB,e.SkeletonHelper=class extends rQ{constructor(e){let i=function e(i){let n=[];!0===i.isBone&&n.push(i);for(let r=0;r<i.children.length;r++)n.push.apply(n,e(i.children[r]));return n}(e),n=new tx,r=[],s=[],a=new tn(0,0,1),o=new tn(0,1,0);for(let l=0;l<i.length;l++){let u=i[l];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}n.setAttribute("position",new tf(r,3)),n.setAttribute("color",new tf(s,3)),super(n,new r7({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=i,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){let i=this.bones,n=this.geometry,r=n.getAttribute("position");oX.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<i.length;s++){let o=i[s];o.parent&&o.parent.isBone&&(o7.multiplyMatrices(oX,o.matrixWorld),o5.setFromMatrixPosition(o7),r.setXYZ(a,o5.x,o5.y,o5.z),o7.multiplyMatrices(oX,o.parent.matrixWorld),o5.setFromMatrixPosition(o7),r.setXYZ(a+1,o5.x,o5.y,o5.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}},e.SkinnedMesh=rO,e.Source=F,e.Sphere=ef,e.SphereBufferGeometry=class extends af{constructor(e,i,n,r,s,a,o){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,i,n,r,s,a,o)}},e.SphereGeometry=af,e.Spherical=class{constructor(e=1,i=0,n=0){return this.radius=e,this.phi=i,this.theta=n,this}set(e,i,n){return this.radius=e,this.phi=i,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,i,n){return this.radius=Math.sqrt(e*e+i*i+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(d(i/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},e.SphericalHarmonics3=oc,e.SplineCurve=sT,e.SpotLight=oi,e.SpotLightHelper=class extends eH{constructor(e,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="SpotLightHelper";let n=new tx,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1;s<32;s++,a++){let o=s/32*Math.PI*2,l=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(l),Math.sin(l),1)}n.setAttribute("position",new tf(r,3));let u=new r7({fog:!1,toneMapped:!1});this.cone=new rQ(n,u),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,i=e*Math.tan(this.light.angle);this.cone.scale.set(i,i,e),oW.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(oW),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},e.Sprite=rM,e.SpriteMaterial=rf,e.SrcAlphaFactor=204,e.SrcAlphaSaturateFactor=210,e.SrcColorFactor=202,e.StaticCopyUsage=35046,e.StaticDrawUsage=35044,e.StaticReadUsage=35045,e.StereoCamera=class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new tG,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new tG,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){let i=this._cache;if(i.focus!==e.focus||i.fov!==e.fov||i.aspect!==e.aspect*this.aspect||i.near!==e.near||i.far!==e.far||i.zoom!==e.zoom||i.eyeSep!==this.eyeSep){i.focus=e.focus,i.fov=e.fov,i.aspect=e.aspect*this.aspect,i.near=e.near,i.far=e.far,i.zoom=e.zoom,i.eyeSep=this.eyeSep,ob.copy(e.projectionMatrix);let n=i.eyeSep/2,r=n*i.near/i.focus,s=i.near*Math.tan(u*i.fov*.5)/i.zoom,a,o;ox.elements[12]=-n,o_.elements[12]=n,a=-s*i.aspect+r,o=s*i.aspect+r,ob.elements[0]=2*i.near/(o-a),ob.elements[8]=(o+a)/(o-a),this.cameraL.projectionMatrix.copy(ob),a=-s*i.aspect-r,o=s*i.aspect-r,ob.elements[0]=2*i.near/(o-a),ob.elements[8]=(o+a)/(o-a),this.cameraR.projectionMatrix.copy(ob)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ox),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(o_)}},e.StreamCopyUsage=35042,e.StreamDrawUsage=35040,e.StreamReadUsage=35041,e.StringKeyframeTrack=aH,e.SubtractEquation=101,e.SubtractiveBlending=3,e.TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},e.TangentSpaceNormalMap=0,e.TetrahedronBufferGeometry=class extends am{constructor(e,i){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,i)}},e.TetrahedronGeometry=am,e.Texture=B,e.TextureLoader=class extends aX{constructor(e){super(e)}load(e,i,n,r){let s=new B,a=new aY(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(e){s.image=e,s.needsUpdate=!0,void 0!==i&&i(s)},n,r),s}},e.TorusBufferGeometry=class extends ag{constructor(e,i,n,r,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,i,n,r,s)}},e.TorusGeometry=ag,e.TorusKnotBufferGeometry=class extends a${constructor(e,i,n,r,s,a){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,i,n,r,s,a)}},e.TorusKnotGeometry=a$,e.Triangle=eZ,e.TriangleFanDrawMode=2,e.TriangleStripDrawMode=1,e.TrianglesDrawMode=0,e.TubeBufferGeometry=class extends av{constructor(e,i,n,r,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,i,n,r,s)}},e.TubeGeometry=av,e.TwoPassDoubleSide=2,e.UVMapping=300,e.Uint16BufferAttribute=td,e.Uint32BufferAttribute=tp,e.Uint8BufferAttribute=class extends th{constructor(e,i,n){super(new Uint8Array(e),i,n)}},e.Uint8ClampedBufferAttribute=class extends th{constructor(e,i,n){super(new Uint8ClampedArray(e),i,n)}},e.Uniform=o3,e.UniformsGroup=class extends a{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:o2++}),this.name="",this.usage=35044,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){let i=this.uniforms.indexOf(e);return -1!==i&&this.uniforms.splice(i,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;let i=e.uniforms;this.uniforms.length=0;for(let n=0,r=i.length;n<r;n++)this.uniforms.push(i[n].clone());return this}clone(){return(new this.constructor).copy(this)}},e.UniformsLib=ie,e.UniformsUtils=t2,e.UnsignedByteType=1009,e.UnsignedInt248Type=1020,e.UnsignedIntType=1014,e.UnsignedShort4444Type=1017,e.UnsignedShort5551Type=1018,e.UnsignedShortType=1012,e.VSMShadowMap=3,e.Vector2=_,e.Vector3=j,e.Vector4=H,e.VectorKeyframeTrack=aG,e.VideoTexture=class extends B{constructor(e,i,n,r,s,a,o,l,u){super(e,i,n,r,s,a,o,l,u),this.isVideoTexture=!0,this.minFilter=void 0!==a?a:1006,this.magFilter=void 0!==s?s:1006,this.generateMipmaps=!1;let c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function i(){c.needsUpdate=!0,e.requestVideoFrameCallback(i)})}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;!1=="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},e.WebGL1Renderer=ro,e.WebGL3DRenderTarget=class extends G{constructor(e=1,i=1,n=1){super(e,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new W(null,e,i,n),this.texture.isRenderTargetTexture=!0}},e.WebGLArrayRenderTarget=class extends G{constructor(e=1,i=1,n=1){super(e,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new V(null,e,i,n),this.texture.isRenderTargetTexture=!0}},e.WebGLCubeRenderTarget=tW,e.WebGLMultipleRenderTargets=class extends G{constructor(e=1,i=1,n=1,r={}){super(e,i,r),this.isWebGLMultipleRenderTargets=!0;let s=this.texture;this.texture=[];for(let a=0;a<n;a++)this.texture[a]=s.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,i,n=1){if(this.width!==e||this.height!==i||this.depth!==n){this.width=e,this.height=i,this.depth=n;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=i,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,i),this.scissor.set(0,0,e,i),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let i=0,n=e.texture.length;i<n;i++)this.texture[i]=e.texture[i].clone(),this.texture[i].isRenderTargetTexture=!0;return this}},e.WebGLRenderTarget=G,e.WebGLRenderer=ra,e.WebGLUtils=nJ,e.WireframeGeometry=ay,e.WrapAroundEnding=2402,e.ZeroCurvatureEnding=2400,e.ZeroFactor=200,e.ZeroSlopeEnding=2401,e.ZeroStencilOp=0,e._SRGBAFormat=1035,e.sRGBEncoding=3001}),/*! odometer 0.4.6 */ (function(){var e,i,n,r,s,a,o,l,u,c,h,d,p,f,m,g,$,v,y,_,x,b,w,S,E,T,M,C,D,A,P,L,R=[].slice;r='<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner">'+(f='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+($='<span class="odometer-value"></span>')+"</span></span>")+"</span></span>",o='<span class="odometer-formatting-mark"></span>',n="(,ddd).dd",l=/^\(?([^)]*)\)?(?:(.)(d+))?$/,a=2e3,e=20,c=2,s=.5,h=1e3/(u=30),i=1e3/e,m="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",g=null!=(E=document.createElement("div").style).transition||null!=E.webkitTransition||null!=E.mozTransition||null!=E.oTransition,w=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,d=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,y=function(e){var i;return(i=document.createElement("div")).innerHTML=e,i.children[0]},b=function(e,i){return e.className=e.className.replace(RegExp("(^| )"+i.split(" ").join("|")+"( |$)","gi")," ")},v=function(e,i){return b(e,i),e.className+=" "+i},T=function(e,i){var n;return null!=document.createEvent?((n=document.createEvent("HTMLEvents")).initEvent(i,!0,!0),e.dispatchEvent(n)):void 0},x=function(){var e,i;return null!=(e=null!=(i=window.performance)&&"function"==typeof i.now?i.now():void 0)?e:+new Date},S=function(e,i){return null==i&&(i=0),i?(e*=Math.pow(10,i),e+=.5,e=Math.floor(e),e/=Math.pow(10,i)):Math.round(e)},M=function(e){return 0>e?Math.ceil(e):Math.floor(e)},_=function(e){return e-S(e)},D=!1,(C=function(){var e,i,n,r,s;if(!D&&null!=window.jQuery){for(D=!0,s=[],i=0,n=(r=["html","text"]).length;n>i;i++)e=r[i],s.push(function(e){var i;return i=window.jQuery.fn[e],window.jQuery.fn[e]=function(e){var n;return null==e||null==(null!=(n=this[0])?n.odometer:void 0)?i.apply(this,arguments):this[0].odometer.update(e)}}(e));return s}})(),setTimeout(C,0),(p=function(){function e(i){var n,r,s,o,l,u,d,p,f,m,g=this;if(this.options=i,this.el=this.options.el,null!=this.el.odometer)return this.el.odometer;for(r in this.el.odometer=this,p=e.options)o=p[r],null==this.options[r]&&(this.options[r]=o);null==(l=this.options).duration&&(l.duration=a),this.MAX_VALUES=this.options.duration/h/c|0,this.resetFormat(),this.value=this.cleanValue(null!=(f=this.options.value)?f:""),this.renderInside(),this.render();try{for(m=["innerHTML","innerText","textContent"],u=0,d=m.length;d>u;u++)s=m[u],null!=this.el[s]&&function(e){Object.defineProperty(g.el,e,{get:function(){var i;return"innerHTML"===e?g.inside.outerHTML:null!=(i=g.inside.innerText)?i:g.inside.textContent},set:function(e){return g.update(e)}})}(s)}catch($){n=$,this.watchForMutations()}}return e.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},e.prototype.watchForMutations=function(){var e,i=this;if(null!=d)try{return null==this.observer&&(this.observer=new d(function(){var e;return e=i.el.innerText,i.renderInside(),i.render(i.value),i.update(e)})),this.watchMutations=!0,this.startWatchingMutations()}catch(n){e=n}},e.prototype.startWatchingMutations=function(){return this.watchMutations?this.observer.observe(this.el,{childList:!0}):void 0},e.prototype.stopWatchingMutations=function(){var e;return null!=(e=this.observer)?e.disconnect():void 0},e.prototype.cleanValue=function(e){var i;return"string"==typeof e&&(e=parseFloat(e=(e=(e=e.replace(null!=(i=this.format.radix)?i:".","<radix>")).replace(/[.,]/g,"")).replace("<radix>","."),10)||0),S(e,this.format.precision)},e.prototype.bindTransitionEnd=function(){var e,i,n,r,s,a,o=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,i=!1,s=m.split(" "),a=[],n=0,r=s.length;r>n;n++)e=s[n],a.push(this.el.addEventListener(e,function(){return!!i||(i=!0,setTimeout(function(){return o.render(),i=!1,T(o.el,"odometerdone")},0),!0)},!1));return a}},e.prototype.resetFormat=function(){var e,i,r,s,a,o,u,c;if((e=null!=(u=this.options.format)?u:n)||(e="d"),!(r=l.exec(e)))throw Error("Odometer: Unparsable digit format");return o=(c=r.slice(1,4))[0],a=c[1],s=(null!=(i=c[2])?i.length:void 0)||0,this.format={repeating:o,radix:a,precision:s}},e.prototype.render=function(e){var i,n,r,s,a,o,l,u,c,h,d,p;for(null==e&&(e=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",o=this.options.theme,i=this.el.className.split(" "),a=[],u=0,h=i.length;h>u;u++)(n=i[u]).length&&((s=/^odometer-theme-(.+)$/.exec(n))?o=s[1]:/^odometer(-|$)/.test(n)||a.push(n));for(a.push("odometer"),g||a.push("odometer-no-transitions"),a.push(o?"odometer-theme-"+o:"odometer-auto-theme"),this.el.className=a.join(" "),this.ribbons={},this.digits=[],l=!this.format.precision||!_(e),p=e.toString().split("").reverse(),c=0,d=p.length;d>c;c++)"."===(r=p[c])&&(l=!0),this.addDigit(r,l);return this.startWatchingMutations()},e.prototype.update=function(e){var i,n=this;return(i=(e=this.cleanValue(e))-this.value)?(b(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),i>0?v(this.el,"odometer-animating-up"):v(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(e),this.startWatchingMutations(),setTimeout(function(){return n.el.offsetHeight,v(n.el,"odometer-animating")},0),this.value=e):void 0},e.prototype.renderDigit=function(){return y(r)},e.prototype.insertDigit=function(e,i){return null!=i?this.inside.insertBefore(e,i):this.inside.children.length?this.inside.insertBefore(e,this.inside.children[0]):this.inside.appendChild(e)},e.prototype.addSpacer=function(e,i,n){var r;return(r=y(o)).innerHTML=e,n&&v(r,n),this.insertDigit(r,i)},e.prototype.addDigit=function(e,i){var n,r,s,a;if(null==i&&(i=!0),"-"===e)return this.addSpacer(e,null,"odometer-negation-mark");if("."===e)return this.addSpacer(null!=(a=this.format.radix)?a:".",null,"odometer-radix-mark");if(i)for(s=!1;;){if(!this.format.repeating.length){if(s)throw Error("Bad odometer format without digits");this.resetFormat(),s=!0}if(n=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),"d"===n)break;this.addSpacer(n)}return(r=this.renderDigit()).querySelector(".odometer-value").innerHTML=e,this.digits.push(r),this.insertDigit(r)},e.prototype.animate=function(e){return g&&"count"!==this.options.animation?this.animateSlide(e):this.animateCount(e)},e.prototype.animateCount=function(e){var n,r,s,a,o,l=this;if(r=+e-this.value)return a=s=x(),n=this.value,(o=function(){var u,c,h;return x()-a>l.options.duration?(l.value=e,l.render(),void T(l.el,"odometerdone")):((u=x()-s)>i&&(s=x(),n+=c=r*(h=u/l.options.duration),l.render(Math.round(n))),null!=w?w(o):setTimeout(o,i))})()},e.prototype.getDigitCount=function(){var e,i,n,r,s,a;for(r=1<=arguments.length?R.call(arguments,0):[],e=s=0,a=r.length;a>s;e=++s)n=r[e],r[e]=Math.abs(n);return Math.ceil(Math.log((i=Math.max.apply(Math,r))+1)/Math.log(10))},e.prototype.getFractionalDigitCount=function(){var e,i,n,r,s,a,o;for(s=1<=arguments.length?R.call(arguments,0):[],i=/^\-?\d*\.(\d*?)0*$/,e=a=0,o=s.length;o>a;e=++a)r=s[e],s[e]=r.toString(),n=i.exec(s[e]),s[e]=null==n?0:n[1].length;return Math.max.apply(Math,s)},e.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},e.prototype.animateSlide=function(e){var i,n,r,a,o,l,u,c,h,d,p,f,m,g,$,y,_,x,b,w,S,E,T,C,D,A,P;if(y=this.value,(c=this.getFractionalDigitCount(y,e))&&(e*=Math.pow(10,c),y*=Math.pow(10,c)),r=e-y){for(this.bindTransitionEnd(),a=this.getDigitCount(y,e),o=[],i=0,p=b=0;a>=0?a>b:b>a;p=a>=0?++b:--b){if(_=M(y/Math.pow(10,a-p-1)),Math.abs(l=(u=M(e/Math.pow(10,a-p-1)))-_)>this.MAX_VALUES){for(d=[],f=l/(this.MAX_VALUES+this.MAX_VALUES*i*s),n=_;l>0&&u>n||0>l&&n>u;)d.push(Math.round(n)),n+=f;d[d.length-1]!==u&&d.push(u),i++}else d=(function(){P=[];for(var e=_;u>=_?u>=e:e>=u;u>=_?e++:e--)P.push(e);return P}).apply(this);for(p=w=0,E=d.length;E>w;p=++w)h=d[p],d[p]=Math.abs(h%10);o.push(d)}for(this.resetDigits(),A=o.reverse(),p=S=0,T=A.length;T>S;p=++S)for(d=A[p],this.digits[p]||this.addDigit(" ",p>=c),null==(x=this.ribbons)[p]&&(x[p]=this.digits[p].querySelector(".odometer-ribbon-inner")),this.ribbons[p].innerHTML="",0>r&&(d=d.reverse()),m=D=0,C=d.length;C>D;m=++D)h=d[m],($=document.createElement("div")).className="odometer-value",$.innerHTML=h,this.ribbons[p].appendChild($),m===d.length-1&&v($,"odometer-last-value"),0===m&&v($,"odometer-first-value");return 0>_&&this.addDigit("-"),null!=(g=this.inside.querySelector(".odometer-radix-mark"))&&g.parent.removeChild(g),c?this.addSpacer(this.format.radix,this.digits[c-1],"odometer-radix-mark"):void 0}},e}()).options=null!=(P=window.odometerOptions)?P:{},setTimeout(function(){var e,i,n,r,s;if(window.odometerOptions){for(e in r=window.odometerOptions,s=[],r)i=r[e],s.push(null!=(n=p.options)[e]?(n=p.options)[e]:n[e]=i);return s}},0),p.init=function(){var e,i,n,r,s,a;if(null!=document.querySelectorAll){for(i=document.querySelectorAll(p.options.selector||".odometer"),a=[],n=0,r=i.length;r>n;n++)e=i[n],a.push(e.odometer=new p({el:e,value:null!=(s=e.innerText)?s:e.textContent}));return a}},null!=(null!=(L=document.documentElement)?L.doScroll:void 0)&&null!=document.createEventObject?(A=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&!1!==p.options.auto&&p.init(),null!=A?A.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){return!1!==p.options.auto?p.init():void 0},!1),"function"==typeof define&&define.amd?define(["jquery"],function(){return p}):window.Odometer=p}).call(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(e){function i(){}function n(e,i){h.ev.on(T+e+M,i)}function r(i,n,r,s){var a=document.createElement("div");return a.className="mfp-"+i,r&&(a.innerHTML=r),s?n&&n.appendChild(a):(a=e(a),n&&a.appendTo(n)),a}function s(e,i){h.ev.triggerHandler(T+e,i),h.st.callbacks&&(e=e.charAt(0).toLowerCase()+e.slice(1),h.st.callbacks[e])&&h.st.callbacks[e].apply(h,Array.isArray(i)?i:[i])}function a(i){return i===g&&h.currTemplate.closeBtn||(h.currTemplate.closeBtn=e(h.st.closeMarkup.replace("%title%",h.st.tClose)),g=i),h.currTemplate.closeBtn}function o(){e.magnificPopup.instance||((h=new i).init(),e.magnificPopup.instance=h)}function l(){y&&(v.after(y.addClass($)).detach(),y=null)}function u(){_&&e(document.body).removeClass(_)}function c(){u(),h.req&&h.req.abort()}var h,d,p,f,m,g,$,v,y,_,x="Close",b="BeforeClose",w="MarkupParse",S="Open",E="Change",T="mfp",M="."+T,C="mfp-ready",D="mfp-removing",A="mfp-prevent-close",P=!!window.jQuery,L=e(window),R=(e.magnificPopup={instance:null,proto:i.prototype={constructor:i,init:function(){var i=navigator.appVersion;h.isLowIE=h.isIE8=document.all&&!document.addEventListener,h.isAndroid=/android/gi.test(i),h.isIOS=/iphone|ipad|ipod/gi.test(i),h.supportsTransition=function(){var e=document.createElement("p").style,i=["ms","O","Moz","Webkit"];if(void 0!==e.transition)return!0;for(;i.length;)if(i.pop()+"Transition" in e)return!0;return!1}(),h.probablyMobile=h.isAndroid||h.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),p=e(document),h.popupsCache={}},open:function(i){if(!1===i.isObj){h.items=i.items.toArray(),h.index=0;for(var o,l=i.items,u=0;u<l.length;u++)if((o=(o=l[u]).parsed?o.el[0]:o)===i.el[0]){h.index=u;break}}else h.items=Array.isArray(i.items)?i.items:[i.items],h.index=i.index||0;if(!h.isOpen){h.types=[],m="",i.mainEl&&i.mainEl.length?h.ev=i.mainEl.eq(0):h.ev=p,i.key?(h.popupsCache[i.key]||(h.popupsCache[i.key]={}),h.currTemplate=h.popupsCache[i.key]):h.currTemplate={},h.st=e.extend(!0,{},e.magnificPopup.defaults,i),h.fixedContentPos="auto"===h.st.fixedContentPos?!h.probablyMobile:h.st.fixedContentPos,h.st.modal&&(h.st.closeOnContentClick=!1,h.st.closeOnBgClick=!1,h.st.showCloseBtn=!1,h.st.enableEscapeKey=!1),h.bgOverlay||(h.bgOverlay=r("bg").on("click"+M,function(){h.close()}),h.wrap=r("wrap").attr("tabindex",-1).on("click"+M,function(e){h._checkIfClose(e.target)&&h.close()}),h.container=r("container",h.wrap)),h.contentContainer=r("content"),h.st.preloader&&(h.preloader=r("preloader",h.container,h.st.tLoading));var c=e.magnificPopup.modules;for(u=0;u<c.length;u++){var d=(d=c[u]).charAt(0).toUpperCase()+d.slice(1);h["init"+d].call(h)}s("BeforeOpen"),h.st.showCloseBtn&&(h.st.closeBtnInside?(n(w,function(e,i,n,r){n.close_replaceWith=a(r.type)}),m+=" mfp-close-btn-in"):h.wrap.append(a())),h.st.alignTop&&(m+=" mfp-align-top"),h.fixedContentPos?h.wrap.css({overflow:h.st.overflowY,overflowX:"hidden",overflowY:h.st.overflowY}):h.wrap.css({top:L.scrollTop(),position:"absolute"}),!1!==h.st.fixedBgPos&&("auto"!==h.st.fixedBgPos||h.fixedContentPos)||h.bgOverlay.css({height:p.height(),position:"absolute"}),h.st.enableEscapeKey&&p.on("keyup"+M,function(e){27===e.keyCode&&h.close()}),L.on("resize"+M,function(){h.updateSize()}),h.st.closeOnContentClick||(m+=" mfp-auto-cursor"),m&&h.wrap.addClass(m);var f=h.wH=L.height(),g={},$=(h.fixedContentPos&&h._hasScrollBar(f)&&($=h._getScrollbarSize())&&(g.marginRight=$),h.fixedContentPos&&(h.isIE7?e("body, html").css("overflow","hidden"):g.overflow="hidden"),h.st.mainClass);return h.isIE7&&($+=" mfp-ie7"),$&&h._addClassToMFP($),h.updateItemHTML(),s("BuildControls"),e("html").css(g),h.bgOverlay.add(h.wrap).prependTo(h.st.prependTo||e(document.body)),h._lastFocusedEl=document.activeElement,setTimeout(function(){h.content?(h._addClassToMFP(C),h._setFocus()):h.bgOverlay.addClass(C),p.on("focusin"+M,h._onFocusIn)},16),h.isOpen=!0,h.updateSize(f),s(S),i}h.updateItemHTML()},close:function(){h.isOpen&&(s(b),h.isOpen=!1,h.st.removalDelay&&!h.isLowIE&&h.supportsTransition?(h._addClassToMFP(D),setTimeout(function(){h._close()},h.st.removalDelay)):h._close())},_close:function(){s(x);var i=D+" "+C+" ";h.bgOverlay.detach(),h.wrap.detach(),h.container.empty(),h.st.mainClass&&(i+=h.st.mainClass+" "),h._removeClassFromMFP(i),h.fixedContentPos&&(i={marginRight:""},h.isIE7?e("body, html").css("overflow",""):i.overflow="",e("html").css(i)),p.off("keyup.mfp focusin"+M),h.ev.off(M),h.wrap.attr("class","mfp-wrap").removeAttr("style"),h.bgOverlay.attr("class","mfp-bg"),h.container.attr("class","mfp-container"),!h.st.showCloseBtn||h.st.closeBtnInside&&!0!==h.currTemplate[h.currItem.type]||h.currTemplate.closeBtn&&h.currTemplate.closeBtn.detach(),h.st.autoFocusLast&&h._lastFocusedEl&&e(h._lastFocusedEl).trigger("focus"),h.currItem=null,h.content=null,h.currTemplate=null,h.prevHeight=0,s("AfterClose")},updateSize:function(e){var i;h.isIOS?(i=document.documentElement.clientWidth/window.innerWidth,i=window.innerHeight*i,h.wrap.css("height",i),h.wH=i):h.wH=e||L.height(),h.fixedContentPos||h.wrap.css("height",h.wH),s("Resize")},updateItemHTML:function(){var i=h.items[h.index],n=(h.contentContainer.detach(),h.content&&h.content.detach(),(i=i.parsed?i:h.parseEl(h.index)).type),r=(s("BeforeChange",[h.currItem?h.currItem.type:"",n]),h.currItem=i,h.currTemplate[n]||(s("FirstMarkupParse",r=!!h.st[n]&&h.st[n].markup),h.currTemplate[n]=!r||e(r)),f&&f!==i.type&&h.container.removeClass("mfp-"+f+"-holder"),h["get"+n.charAt(0).toUpperCase()+n.slice(1)](i,h.currTemplate[n]));h.appendContent(r,n),i.preloaded=!0,s(E,i),f=i.type,h.container.prepend(h.contentContainer),s("AfterChange")},appendContent:function(e,i){(h.content=e)?h.st.showCloseBtn&&h.st.closeBtnInside&&!0===h.currTemplate[i]?h.content.find(".mfp-close").length||h.content.append(a()):h.content=e:h.content="",s("BeforeAppend"),h.container.addClass("mfp-"+i+"-holder"),h.contentContainer.append(h.content)},parseEl:function(i){var n,r=h.items[i];if((r=r.tagName?{el:e(r)}:(n=r.type,{data:r,src:r.src})).el){for(var a=h.types,o=0;o<a.length;o++)if(r.el.hasClass("mfp-"+a[o])){n=a[o];break}r.src=r.el.attr("data-mfp-src"),r.src||(r.src=r.el.attr("href"))}return r.type=n||h.st.type||"inline",r.index=i,r.parsed=!0,h.items[i]=r,s("ElementParse",r),h.items[i]},addGroup:function(e,i){function n(n){n.mfpEl=this,h._openClick(n,e,i)}var r="click.magnificPopup";(i=i||{}).mainEl=e,i.items?(i.isObj=!0,e.off(r).on(r,n)):(i.isObj=!1,i.delegate?e.off(r).on(r,i.delegate,n):(i.items=e).off(r).on(r,n))},_openClick:function(i,n,r){var s=(void 0!==r.midClick?r:e.magnificPopup.defaults).midClick;if(s||!(2===i.which||i.ctrlKey||i.metaKey||i.altKey||i.shiftKey)){if(s=(void 0!==r.disableOn?r:e.magnificPopup.defaults).disableOn){if("function"==typeof s){if(!s.call(h))return!0}else if(L.width()<s)return!0}i.type&&(i.preventDefault(),h.isOpen)&&i.stopPropagation(),r.el=e(i.mfpEl),r.delegate&&(r.items=n.find(r.delegate)),h.open(r)}},updateStatus:function(e,i){var n;h.preloader&&(d!==e&&h.container.removeClass("mfp-s-"+d),s("UpdateStatus",n={status:e,text:i=i||"loading"!==e?i:h.st.tLoading}),e=n.status,i=n.text,h.st.allowHTMLInStatusIndicator?h.preloader.html(i):h.preloader.text(i),h.preloader.find("a").on("click",function(e){e.stopImmediatePropagation()}),h.container.addClass("mfp-s-"+e),d=e)},_checkIfClose:function(i){if(!e(i).closest("."+A).length){var n=h.st.closeOnContentClick,r=h.st.closeOnBgClick;if(n&&r||!h.content||e(i).closest(".mfp-close").length||h.preloader&&i===h.preloader[0])return!0;if(i===h.content[0]||e.contains(h.content[0],i)){if(n)return!0}else if(r&&e.contains(document,i))return!0;return!1}},_addClassToMFP:function(e){h.bgOverlay.addClass(e),h.wrap.addClass(e)},_removeClassFromMFP:function(e){this.bgOverlay.removeClass(e),h.wrap.removeClass(e)},_hasScrollBar:function(e){return(h.isIE7?p.height():document.body.scrollHeight)>(e||L.height())},_setFocus:function(){(h.st.focus?h.content.find(h.st.focus).eq(0):h.wrap).trigger("focus")},_onFocusIn:function(i){if(i.target!==h.wrap[0]&&!e.contains(h.wrap[0],i.target))return h._setFocus(),!1},_parseMarkup:function(i,n,r){var a;r.data&&(n=e.extend(r.data,n)),s(w,[i,n,r]),e.each(n,function(n,r){var s,o;if(void 0===r||!1===r)return!0;1<(a=n.split("_")).length?0<(s=i.find(M+"-"+a[0])).length&&("replaceWith"===(o=a[1])?s[0]!==r[0]&&s.replaceWith(r):"img"===o?s.is("img")?s.attr("src",r):s.replaceWith(e("<img>").attr("src",r).attr("class",s.attr("class"))):s.attr(a[1],r)):h.st.allowHTMLInTemplate?i.find(M+"-"+n).html(r):i.find(M+"-"+n).text(r)})},_getScrollbarSize:function(){var e;return void 0===h.scrollbarSize&&((e=document.createElement("div")).style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(e),h.scrollbarSize=e.offsetWidth-e.clientWidth,document.body.removeChild(e)),h.scrollbarSize}},modules:[],open:function(i,n){return o(),(i=i?e.extend(!0,{},i):{}).isObj=!0,i.index=n||0,this.instance.open(i)},close:function(){return e.magnificPopup.instance&&e.magnificPopup.instance.close()},registerModule:function(i,n){n.options&&(e.magnificPopup.defaults[i]=n.options),e.extend(this.proto,n.proto),this.modules.push(i)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&#215;</button>',tClose:"Close (Esc)",tLoading:"Loading...",autoFocusLast:!0,allowHTMLInStatusIndicator:!1,allowHTMLInTemplate:!1}},e.fn.magnificPopup=function(i){o();var n,r,s,a=e(this);return"string"==typeof i?"open"===i?(n=P?a.data("magnificPopup"):a[0].magnificPopup,r=parseInt(arguments[1],10)||0,s=n.items?n.items[r]:(s=a,(s=n.delegate?s.find(n.delegate):s).eq(r)),h._openClick({mfpEl:s},a,n)):h.isOpen&&h[i].apply(h,Array.prototype.slice.call(arguments,1)):(i=e.extend(!0,{},i),P?a.data("magnificPopup",i):a[0].magnificPopup=i,h.addGroup(a,i)),a},"inline"),I=(e.magnificPopup.registerModule(R,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){h.types.push(R),n(x+"."+R,function(){l()})},getInline:function(i,n){var s,a,o;return l(),i.src?(s=h.st.inline,(a=e(i.src)).length?((o=a[0].parentNode)&&o.tagName&&(v||(v=r($=s.hiddenClass),$="mfp-"+$),y=a.after(v).detach().removeClass($)),h.updateStatus("ready")):(h.updateStatus("error",s.tNotFound),a=e("<div>")),i.inlineElement=a):(h.updateStatus("ready"),h._parseMarkup(n,{},i),n)}}}),"ajax");function k(e){var i;h.currTemplate[z]&&(i=h.currTemplate[z].find("iframe")).length&&(e||(i[0].src="//about:blank"),h.isIE8)&&i.css("display",e?"block":"none")}function O(e){var i=h.items.length;return i-1<e?e-i:e<0?i+e:e}function N(e,i,n){return e.replace(/%curr%/gi,i+1).replace(/%total%/gi,n)}e.magnificPopup.registerModule(I,{options:{settings:null,cursor:"mfp-ajax-cur",tError:"The content could not be loaded."},proto:{initAjax:function(){h.types.push(I),_=h.st.ajax.cursor,n(x+"."+I,c),n("BeforeChange."+I,c)},getAjax:function(i){_&&e(document.body).addClass(_),h.updateStatus("loading");var n=e.extend({url:i.src,success:function(n,r,a){s("ParseAjax",n={data:n,xhr:a}),h.appendContent(e(n.data),I),i.finished=!0,u(),h._setFocus(),setTimeout(function(){h.wrap.addClass(C)},16),h.updateStatus("ready"),s("AjaxContentAdded")},error:function(){u(),i.finished=i.loadError=!0,h.updateStatus("error",h.st.ajax.tError.replace("%url%",i.src))}},h.st.ajax.settings);return h.req=e.ajax(n),""}}}),e.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:"The image could not be loaded."},proto:{initImage:function(){var i=h.st.image,r=".image";h.types.push("image"),n(S+r,function(){"image"===h.currItem.type&&i.cursor&&e(document.body).addClass(i.cursor)}),n(x+r,function(){i.cursor&&e(document.body).removeClass(i.cursor),L.off("resize"+M)}),n("Resize"+r,h.resizeImage),h.isLowIE&&n("AfterChange",h.resizeImage)},resizeImage:function(){var e,i=h.currItem;i&&i.img&&h.st.image.verticalFit&&(e=0,h.isLowIE&&(e=parseInt(i.img.css("padding-top"),10)+parseInt(i.img.css("padding-bottom"),10)),i.img.css("max-height",h.wH-e))},_onImageHasSize:function(e){e.img&&(e.hasSize=!0,F&&clearInterval(F),e.isCheckingImgSize=!1,s("ImageHasSize",e),e.imgHidden)&&(h.content&&h.content.removeClass("mfp-loading"),e.imgHidden=!1)},findImageSize:function(e){var i=0,n=e.img[0];!function r(s){F&&clearInterval(F),F=setInterval(function(){0<n.naturalWidth?h._onImageHasSize(e):(200<i&&clearInterval(F),3==++i?r(10):40===i?r(50):100===i&&r(500))},1)}(1)},getImage:function(i,n){function r(){i&&(i.img.off(".mfploader"),i===h.currItem&&(h._onImageHasSize(i),h.updateStatus("error",u.tError.replace("%url%",i.src))),i.hasSize=!0,i.loaded=!0,i.loadError=!0)}function a(){i&&(i.img[0].complete?(i.img.off(".mfploader"),i===h.currItem&&(h._onImageHasSize(i),h.updateStatus("ready")),i.hasSize=!0,i.loaded=!0,s("ImageLoadComplete")):++l<200?setTimeout(a,100):r())}var o,l=0,u=h.st.image,c=n.find(".mfp-img");return c.length&&((o=document.createElement("img")).className="mfp-img",i.el&&i.el.find("img").length&&(o.alt=i.el.find("img").attr("alt")),i.img=e(o).on("load.mfploader",a).on("error.mfploader",r),o.src=i.src,c.is("img")&&(i.img=i.img.clone()),0<(o=i.img[0]).naturalWidth?i.hasSize=!0:o.width||(i.hasSize=!1)),h._parseMarkup(n,{title:function(e){if(e.data&&void 0!==e.data.title)return e.data.title;var i=h.st.image.titleSrc;if(i){if("function"==typeof i)return i.call(h,e);if(e.el)return e.el.attr(i)||""}return""}(i),img_replaceWith:i.img},i),h.resizeImage(),i.hasSize?(F&&clearInterval(F),i.loadError?(n.addClass("mfp-loading"),h.updateStatus("error",u.tError.replace("%url%",i.src))):(n.removeClass("mfp-loading"),h.updateStatus("ready"))):(h.updateStatus("loading"),i.loading=!0,i.hasSize||(i.imgHidden=!0,n.addClass("mfp-loading"),h.findImageSize(i))),n}}}),e.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(e){return e.is("img")?e:e.find("img")}},proto:{initZoom:function(){var e,i,r,a,o,l,u=h.st.zoom,c=".zoom";u.enabled&&h.supportsTransition&&(i=u.duration,r=function(e){var e=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),i="all "+u.duration/1e3+"s "+u.easing,n={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},r="transition";return n["-webkit-"+r]=n["-moz-"+r]=n["-o-"+r]=n[r]=i,e.css(n),e},a=function(){h.content.css("visibility","visible")},n("BuildControls"+c,function(){h._allowZoom()&&(clearTimeout(o),h.content.css("visibility","hidden"),(e=h._getItemToZoom())?((l=r(e)).css(h._getOffset()),h.wrap.append(l),o=setTimeout(function(){l.css(h._getOffset(!0)),o=setTimeout(function(){a(),setTimeout(function(){l.remove(),e=l=null,s("ZoomAnimationEnded")},16)},i)},16)):a())}),n(b+c,function(){if(h._allowZoom()){if(clearTimeout(o),h.st.removalDelay=i,!e){if(!(e=h._getItemToZoom()))return;l=r(e)}l.css(h._getOffset(!0)),h.wrap.append(l),h.content.css("visibility","hidden"),setTimeout(function(){l.css(h._getOffset())},16)}}),n(x+c,function(){h._allowZoom()&&(a(),l&&l.remove(),e=null)}))},_allowZoom:function(){return"image"===h.currItem.type},_getItemToZoom:function(){return!!h.currItem.hasSize&&h.currItem.img},_getOffset:function(i){var i=i?h.currItem.img:h.st.zoom.opener(h.currItem.el||h.currItem),n=i.offset(),r=parseInt(i.css("padding-top"),10),s=parseInt(i.css("padding-bottom"),10),i=(n.top-=e(window).scrollTop()-r,{width:i.width(),height:(P?i.innerHeight():i[0].offsetHeight)-s-r});return(U=void 0===U?void 0!==document.createElement("p").style.MozTransform:U)?i["-moz-transform"]=i.transform="translate("+n.left+"px,"+n.top+"px)":(i.left=n.left,i.top=n.top),i}}});var F,U,z="iframe",B=(e.magnificPopup.registerModule(z,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){h.types.push(z),n("BeforeChange",function(e,i,n){i!==n&&(i===z?k():n===z&&k(!0))}),n(x+"."+z,function(){k()})},getIframe:function(i,n){var r=i.src,s=h.st.iframe,a=(e.each(s.patterns,function(){if(-1<r.indexOf(this.index))return this.id&&(r="string"==typeof this.id?r.substr(r.lastIndexOf(this.id)+this.id.length,r.length):this.id.call(this,r)),r=this.src.replace("%id%",r),!1}),{});return s.srcAction&&(a[s.srcAction]=r),h._parseMarkup(n,a,i),h.updateStatus("ready"),n}}}),e.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%",langDir:null,loop:!0},proto:{initGallery:function(){var i=h.st.gallery,r=".mfp-gallery";if(h.direction=!0,!i||!i.enabled)return!1;i.langDir||(i.langDir=document.dir||"ltr"),m+=" mfp-gallery",n(S+r,function(){i.navigateByImgClick&&h.wrap.on("click"+r,".mfp-img",function(){if(1<h.items.length)return h.next(),!1}),p.on("keydown"+r,function(e){37===e.keyCode?"rtl"===i.langDir?h.next():h.prev():39===e.keyCode&&("rtl"===i.langDir?h.prev():h.next())}),h.updateGalleryButtons()}),n("UpdateStatus"+r,function(){h.updateGalleryButtons()}),n("UpdateStatus"+r,function(e,i){i.text&&(i.text=N(i.text,h.currItem.index,h.items.length))}),n(w+r,function(e,n,r,s){var a=h.items.length;r.counter=1<a?N(i.tCounter,s.index,a):""}),n("BuildControls"+r,function(){var n,r,s,a,o;1<h.items.length&&i.arrows&&!h.arrowLeft&&(r="rtl"===i.langDir?(a=i.tNext,n=i.tPrev,o="next","prev"):(a=i.tPrev,n=i.tNext,o="prev","next"),s=i.arrowMarkup,a=h.arrowLeft=e(s.replace(/%title%/gi,a).replace(/%action%/gi,o).replace(/%dir%/gi,"left")).addClass(A),o=h.arrowRight=e(s.replace(/%title%/gi,n).replace(/%action%/gi,r).replace(/%dir%/gi,"right")).addClass(A),"rtl"===i.langDir?(h.arrowNext=a,h.arrowPrev=o):(h.arrowNext=o,h.arrowPrev=a),a.on("click",function(){"rtl"===i.langDir?h.next():h.prev()}),o.on("click",function(){"rtl"===i.langDir?h.prev():h.next()}),h.container.append(a.add(o)))}),n(E+r,function(){h._preloadTimeout&&clearTimeout(h._preloadTimeout),h._preloadTimeout=setTimeout(function(){h.preloadNearbyImages(),h._preloadTimeout=null},16)}),n(x+r,function(){p.off(r),h.wrap.off("click"+r),h.arrowRight=h.arrowLeft=null})},next:function(){var e=O(h.index+1);if(!h.st.gallery.loop&&0===e)return!1;h.direction=!0,h.index=e,h.updateItemHTML()},prev:function(){var e=h.index-1;if(!h.st.gallery.loop&&e<0)return!1;h.direction=!1,h.index=O(e),h.updateItemHTML()},goTo:function(e){h.direction=e>=h.index,h.index=e,h.updateItemHTML()},preloadNearbyImages:function(){for(var e=h.st.gallery.preload,i=Math.min(e[0],h.items.length),n=Math.min(e[1],h.items.length),r=1;r<=(h.direction?n:i);r++)h._preloadItem(h.index+r);for(r=1;r<=(h.direction?i:n);r++)h._preloadItem(h.index-r)},_preloadItem:function(i){var n;i=O(i),h.items[i].preloaded||((n=h.items[i]).parsed||(n=h.parseEl(i)),s("LazyLoad",n),"image"===n.type&&(n.img=e('<img class="mfp-img" />').on("load.mfploader",function(){n.hasSize=!0}).on("error.mfploader",function(){n.hasSize=!0,n.loadError=!0,s("LazyLoadError",n)}).attr("src",n.src)),n.preloaded=!0)},updateGalleryButtons:function(){h.st.gallery.loop||"object"!=typeof h.arrowPrev||null===h.arrowPrev||(0===h.index?h.arrowPrev.hide():h.arrowPrev.show(),h.index===h.items.length-1?h.arrowNext.hide():h.arrowNext.show())}}}),"retina");e.magnificPopup.registerModule(B,{options:{replaceSrc:function(e){return e.src.replace(/\.\w+$/,function(e){return"@2x"+e})},ratio:1},proto:{initRetina:function(){var e,i;1<window.devicePixelRatio&&1<(i=isNaN(i=(e=h.st.retina).ratio)?i():i)&&(n("ImageHasSize."+B,function(e,n){n.img.css({"max-width":n.img[0].naturalWidth/i,width:"100%"})}),n("ElementParse."+B,function(n,r){r.src=e.replaceSrc(r,i)}))}}}),o()}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";var i={},n=Math.max,r=Math.min;i.c={},i.c.d=e(document),i.c.t=function(e){return e.originalEvent.touches.length-1},i.o=function(){var n=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var i=function(e,i){var r;for(r in i)n.o[r]=i[r];n._carve().init(),n._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=e.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:!0===this.$.data("cursor")&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(e){return e},parse:function(e){return parseFloat(e)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(i){var r=e(this);n.i[i]=r,n.v[i]=n.o.parse(r.val()),r.bind("change blur",function(){var e={};e[i]=r.val(),n.val(e)})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){n.val(n._validate(n.o.parse(n.$.val())))})),this.o.displayInput||this.$.hide(),this.$c=e(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=e('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!=0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!=0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",i).parent().bind("configure",i),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var e=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),i=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(e,i)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var e=!0;n.g=n.c,n.clear(),n.dH&&(e=n.dH()),!1!==e&&n.draw()},this._touch=function(e){var r=function(e){var i=n.xy2val(e.originalEvent.touches[n.t].pageX,e.originalEvent.touches[n.t].pageY);i!=n.cv&&(n.cH&&!1===n.cH(i)||(n.change(n._validate(i)),n._draw()))};return this.t=i.c.t(e),r(e),i.c.d.bind("touchmove.k",r).bind("touchend.k",function(){i.c.d.unbind("touchmove.k touchend.k"),n.val(n.cv)}),this},this._mouse=function(e){var r=function(e){var i=n.xy2val(e.pageX,e.pageY);i!=n.cv&&(n.cH&&!1===n.cH(i)||(n.change(n._validate(i)),n._draw()))};return r(e),i.c.d.bind("mousemove.k",r).bind("keyup.k",function(e){27!==e.keyCode||(i.c.d.unbind("mouseup.k mousemove.k keyup.k"),n.eH&&!1===n.eH()||n.cancel())}).bind("mouseup.k",function(e){i.c.d.unbind("mousemove.k mouseup.k keyup.k"),n.val(n.cv)}),this},this._xy=function(){var e=this.$c.offset();return this.x=e.left,this.y=e.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(e){e.preventDefault(),n._xy()._mouse(e)}).bind("touchstart",function(e){e.preventDefault(),n._xy()._touch(e)}),this.listen()),this.relative&&e(window).resize(function(){n._carve().init(),n._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(e){return~~((e<0?-.5:.5)+e/this.o.step)*this.o.step},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(e){},this.val=function(e){},this.xy2val=function(e,i){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(e,i){var n;return"rgba("+(n=[parseInt((e=e.substring(1,7)).substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)])[0]+","+n[1]+","+n[2]+","+i+")"},this.copy=function(e,i){for(var n in e)i[n]=e[n]}},i.Dial=function(){i.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=e.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(e,i){if(null==e)return this.v;e=this.o.parse(e),(!1===i||e==this.v||!this.rH||!1!==this.rH(e))&&(this.cv=this.o.stopper?n(r(e,this.o.max),this.o.min):e,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())},this.xy2val=function(e,i){var s,a;return s=Math.atan2(e-(this.x+this.w2),-(i-this.y-this.w2))-this.angleOffset,this.o.flip&&(s=this.angleArc-s-this.PI2),this.angleArc!=this.PI2&&s<0&&s>-.5?s=0:s<0&&(s+=this.PI2),a=~~(.5+s*(this.o.max-this.o.min)/this.angleArc)+this.o.min,this.o.stopper&&(a=n(r(a,this.o.max),this.o.min)),a},this.listen=function(){var i,s,a,o,l=this,u=function(e){e.preventDefault();var a=e.originalEvent,o=a.detail||a.wheelDeltaX,u=a.detail||a.wheelDeltaY,c=l._validate(l.o.parse(l.$.val()))+(o>0||u>0?l.o.step:o<0||u<0?-l.o.step:0);c=n(r(c,l.o.max),l.o.min),l.val(c,!1),l.rH&&(clearTimeout(i),i=setTimeout(function(){l.rH(c),i=null},100),s||(s=setTimeout(function(){i&&l.rH(c),s=null},200)))},c=1,h={37:-l.o.step,38:l.o.step,39:l.o.step,40:-l.o.step};this.$.bind("keydown",function(i){var s=i.keyCode;if(s>=96&&s<=105&&(s=i.keyCode=s-48),a=parseInt(String.fromCharCode(s)),isNaN(a)&&(13!==s&&8!==s&&9!==s&&189!==s&&(190!==s||l.$.val().match(/\./))&&i.preventDefault(),e.inArray(s,[37,38,39,40])>-1)){i.preventDefault();var u=l.o.parse(l.$.val())+h[s]*c;l.o.stopper&&(u=n(r(u,l.o.max),l.o.min)),l.change(u),l._draw(),o=window.setTimeout(function(){c*=2},30)}}).bind("keyup",function(e){isNaN(a)?o&&(window.clearTimeout(o),o=null,c=1,l.val(l.$.val())):l.$.val()>l.o.max&&l.$.val(l.o.max)||l.$.val()<l.o.min&&l.$.val(l.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",u),this.$.bind("mousewheel DOMMouseScroll",u)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var e=n(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/e>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(e){this.cv=e,this.$.val(this.o.format(e))},this.angle=function(e){return(e-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(e){var i,n;return e=this.angle(e),n=this.o.flip?(i=this.endAngle+1e-5)-e-1e-5:(i=this.startAngle-1e-5)+e+1e-5,this.o.cursor&&(i=n-this.cursorExt)&&(n+=this.cursorExt),{s:i,e:n,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var e,i=this.g,n=this.arc(this.cv),r=1;i.lineWidth=this.lineWidth,i.lineCap=this.lineCap,"none"!==this.o.bgColor&&(i.beginPath(),i.strokeStyle=this.o.bgColor,i.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),i.stroke()),this.o.displayPrevious&&(e=this.arc(this.v),i.beginPath(),i.strokeStyle=this.pColor,i.arc(this.xy,this.xy,this.radius,e.s,e.e,e.d),i.stroke(),r=this.cv==this.v),i.beginPath(),i.strokeStyle=r?this.o.fgColor:this.fgColor,i.arc(this.xy,this.xy,this.radius,n.s,n.e,n.d),i.stroke()},this.cancel=function(){this.val(this.v)}},e.fn.dial=e.fn.knob=function(n){return this.each(function(){var r=new i.Dial;r.o=n,r.$=e(this),r.run()}).parent()}});var VanillaTilt=function(){"use strict";class e{constructor(i,n={}){if(!(i instanceof Node))throw"Can't initialize VanillaTilt because "+i+" is not a Node.";this.width=null,this.height=null,this.clientWidth=null,this.clientHeight=null,this.left=null,this.top=null,this.gammazero=null,this.betazero=null,this.lastgammazero=null,this.lastbetazero=null,this.transitionTimeout=null,this.updateCall=null,this.event=null,this.updateBind=this.update.bind(this),this.resetBind=this.reset.bind(this),this.element=i,this.settings=this.extendSettings(n),this.reverse=this.settings.reverse?-1:1,this.glare=e.isSettingTrue(this.settings.glare),this.glarePrerender=e.isSettingTrue(this.settings["glare-prerender"]),this.fullPageListening=e.isSettingTrue(this.settings["full-page-listening"]),this.gyroscope=e.isSettingTrue(this.settings.gyroscope),this.gyroscopeSamples=this.settings.gyroscopeSamples,this.elementListener=this.getElementListener(),this.glare&&this.prepareGlare(),this.fullPageListening&&this.updateClientSize(),this.addEventListeners(),this.updateInitialPosition()}static isSettingTrue(e){return""===e||!0===e||1===e}getElementListener(){if(this.fullPageListening)return window.document;if("string"==typeof this.settings["mouse-event-element"]){let e=document.querySelector(this.settings["mouse-event-element"]);if(e)return e}return this.settings["mouse-event-element"]instanceof Node?this.settings["mouse-event-element"]:this.element}addEventListeners(){this.onMouseEnterBind=this.onMouseEnter.bind(this),this.onMouseMoveBind=this.onMouseMove.bind(this),this.onMouseLeaveBind=this.onMouseLeave.bind(this),this.onWindowResizeBind=this.onWindowResize.bind(this),this.onDeviceOrientationBind=this.onDeviceOrientation.bind(this),this.elementListener.addEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.addEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.addEventListener("mousemove",this.onMouseMoveBind),(this.glare||this.fullPageListening)&&window.addEventListener("resize",this.onWindowResizeBind),this.gyroscope&&window.addEventListener("deviceorientation",this.onDeviceOrientationBind)}removeEventListeners(){this.elementListener.removeEventListener("mouseenter",this.onMouseEnterBind),this.elementListener.removeEventListener("mouseleave",this.onMouseLeaveBind),this.elementListener.removeEventListener("mousemove",this.onMouseMoveBind),this.gyroscope&&window.removeEventListener("deviceorientation",this.onDeviceOrientationBind),(this.glare||this.fullPageListening)&&window.removeEventListener("resize",this.onWindowResizeBind)}destroy(){clearTimeout(this.transitionTimeout),null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.reset(),this.removeEventListeners(),this.element.vanillaTilt=null,delete this.element.vanillaTilt,this.element=null}onDeviceOrientation(e){if(null===e.gamma||null===e.beta)return;this.updateElementPosition(),this.gyroscopeSamples>0&&(this.lastgammazero=this.gammazero,this.lastbetazero=this.betazero,null===this.gammazero?(this.gammazero=e.gamma,this.betazero=e.beta):(this.gammazero=(e.gamma+this.lastgammazero)/2,this.betazero=(e.beta+this.lastbetazero)/2),this.gyroscopeSamples-=1);let i=this.settings.gyroscopeMaxAngleX-this.settings.gyroscopeMinAngleX,n=this.settings.gyroscopeMaxAngleY-this.settings.gyroscopeMinAngleY,r=i/this.width,s=n/this.height,a=(e.gamma-(this.settings.gyroscopeMinAngleX+this.gammazero))/r,o=(e.beta-(this.settings.gyroscopeMinAngleY+this.betazero))/s;null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event={clientX:a+this.left,clientY:o+this.top},this.updateCall=requestAnimationFrame(this.updateBind)}onMouseEnter(){this.updateElementPosition(),this.element.style.willChange="transform",this.setTransition()}onMouseMove(e){null!==this.updateCall&&cancelAnimationFrame(this.updateCall),this.event=e,this.updateCall=requestAnimationFrame(this.updateBind)}onMouseLeave(){this.setTransition(),this.settings.reset&&requestAnimationFrame(this.resetBind)}reset(){this.event={clientX:this.left+this.width/2,clientY:this.top+this.height/2},this.element&&this.element.style&&(this.element.style.transform=`perspective(${this.settings.perspective}px) rotateX(0deg) rotateY(0deg) scale3d(1, 1, 1)`),this.resetGlare()}resetGlare(){this.glare&&(this.glareElement.style.transform="rotate(180deg) translate(-50%, -50%)",this.glareElement.style.opacity="0")}updateInitialPosition(){if(0===this.settings.startX&&0===this.settings.startY)return;this.onMouseEnter(),this.fullPageListening?this.event={clientX:(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.clientWidth,clientY:(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.clientHeight}:this.event={clientX:this.left+(this.settings.startX+this.settings.max)/(2*this.settings.max)*this.width,clientY:this.top+(this.settings.startY+this.settings.max)/(2*this.settings.max)*this.height};let e=this.settings.scale;this.settings.scale=1,this.update(),this.settings.scale=e,this.resetGlare()}getValues(){let e,i;return this.fullPageListening?(e=this.event.clientX/this.clientWidth,i=this.event.clientY/this.clientHeight):(e=(this.event.clientX-this.left)/this.width,i=(this.event.clientY-this.top)/this.height),e=Math.min(Math.max(e,0),1),i=Math.min(Math.max(i,0),1),{tiltX:(this.reverse*(this.settings.max-e*this.settings.max*2)).toFixed(2),tiltY:(this.reverse*(i*this.settings.max*2-this.settings.max)).toFixed(2),percentageX:100*e,percentageY:100*i,angle:Math.atan2(this.event.clientX-(this.left+this.width/2),-(this.event.clientY-(this.top+this.height/2)))*(180/Math.PI)}}updateElementPosition(){let e=this.element.getBoundingClientRect();this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.left=e.left,this.top=e.top}update(){let e=this.getValues();this.element.style.transform="perspective("+this.settings.perspective+"px) rotateX("+("x"===this.settings.axis?0:e.tiltY)+"deg) rotateY("+("y"===this.settings.axis?0:e.tiltX)+"deg) scale3d("+this.settings.scale+", "+this.settings.scale+", "+this.settings.scale+")",this.glare&&(this.glareElement.style.transform=`rotate(${e.angle}deg) translate(-50%, -50%)`,this.glareElement.style.opacity=`${e.percentageY*this.settings["max-glare"]/100}`),this.element.dispatchEvent(new CustomEvent("tiltChange",{detail:e})),this.updateCall=null}prepareGlare(){if(!this.glarePrerender){let e=document.createElement("div");e.classList.add("js-tilt-glare");let i=document.createElement("div");i.classList.add("js-tilt-glare-inner"),e.appendChild(i),this.element.appendChild(e)}this.glareElementWrapper=this.element.querySelector(".js-tilt-glare"),this.glareElement=this.element.querySelector(".js-tilt-glare-inner"),this.glarePrerender||(Object.assign(this.glareElementWrapper.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",overflow:"hidden","pointer-events":"none"}),Object.assign(this.glareElement.style,{position:"absolute",top:"50%",left:"50%","pointer-events":"none","background-image":"linear-gradient(0deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%)",width:`${2*this.element.offsetWidth}px`,height:`${2*this.element.offsetWidth}px`,transform:"rotate(180deg) translate(-50%, -50%)","transform-origin":"0% 0%",opacity:"0"}))}updateGlareSize(){this.glare&&Object.assign(this.glareElement.style,{width:`${2*this.element.offsetWidth}`,height:`${2*this.element.offsetWidth}`})}updateClientSize(){this.clientWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,this.clientHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}onWindowResize(){this.updateGlareSize(),this.updateClientSize()}setTransition(){clearTimeout(this.transitionTimeout),this.element.style.transition=this.settings.speed+"ms "+this.settings.easing,this.glare&&(this.glareElement.style.transition=`opacity ${this.settings.speed}ms ${this.settings.easing}`),this.transitionTimeout=setTimeout(()=>{this.element.style.transition="",this.glare&&(this.glareElement.style.transition="")},this.settings.speed)}extendSettings(e){let i={reverse:!1,max:15,startX:0,startY:0,perspective:1e3,easing:"cubic-bezier(.03,.98,.52,.99)",scale:1,speed:300,transition:!0,axis:null,glare:!1,"max-glare":1,"glare-prerender":!1,"full-page-listening":!1,"mouse-event-element":null,reset:!0,gyroscope:!0,gyroscopeMinAngleX:-45,gyroscopeMaxAngleX:45,gyroscopeMinAngleY:-45,gyroscopeMaxAngleY:45,gyroscopeSamples:10},n={};for(var r in i)if(r in e)n[r]=e[r];else if(this.element.hasAttribute("data-tilt-"+r)){let s=this.element.getAttribute("data-tilt-"+r);try{n[r]=JSON.parse(s)}catch(a){n[r]=s}}else n[r]=i[r];return n}static init(i,n){i instanceof Node&&(i=[i]),i instanceof NodeList&&(i=[].slice.call(i)),i instanceof Array&&i.forEach(i=>{"vanillaTilt"in i||(i.vanillaTilt=new e(i,n))})}}return"undefined"!=typeof document&&(window.VanillaTilt=e,e.init(document.querySelectorAll("[data-tilt]"))),e}();!function(e,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.AOS=i():e.AOS=i()}(this,function(){return function(e){function i(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}var n={};return i.m=e,i.c=n,i.p="dist/",i(0)}([function(e,i,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var s=Object.assign||function(e){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(1),o=(r(a),n(6)),l=r(o),u=n(7),c=r(u),h=n(8),d=r(h),p=n(9),f=r(p),m=n(10),g=r(m),$=n(11),v=r($),y=n(14),_=r(y),x=[],b=!1,w=document.all&&!window.atob,S={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(b=!0),b)return x=(0,v.default)(x,S),(0,g.default)(x,S.once),x},T=function(){x=(0,_.default)(),E()},M=function(){x.forEach(function(e,i){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")})},C=function(e){var i;return S=s(S,e),x=(0,_.default)(),!0===(i=S.disable)||"mobile"===i&&f.default.mobile()||"phone"===i&&f.default.phone()||"tablet"===i&&f.default.tablet()||"function"==typeof i&&!0===i()||w?M():(document.querySelector("body").setAttribute("data-aos-easing",S.easing),document.querySelector("body").setAttribute("data-aos-duration",S.duration),document.querySelector("body").setAttribute("data-aos-delay",S.delay),"DOMContentLoaded"===S.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?E(!0):"load"===S.startEvent?window.addEventListener(S.startEvent,function(){E(!0)}):document.addEventListener(S.startEvent,function(){E(!0)}),window.addEventListener("resize",(0,c.default)(E,S.debounceDelay,!0)),window.addEventListener("orientationchange",(0,c.default)(E,S.debounceDelay,!0)),window.addEventListener("scroll",(0,l.default)(function(){(0,g.default)(x,S.once)},S.throttleDelay)),S.disableMutationObserver||(0,d.default)("[data-aos]",T),x)};e.exports={init:C,refresh:E,refreshHard:T}},function(e,i){},,,,,function(e,i){(function(i){"use strict";function n(e){var i=void 0===e?"undefined":s(e);return!!e&&("object"==i||"function"==i)}function r(e){if("number"==typeof e)return e;if("symbol"==(void 0===(i=e)?"undefined":s(i))||(r=i)&&"object"==(void 0===r?"undefined":s(r))&&$.call(i)==l)return o;if(n(e)){var i,r,a="function"==typeof e.valueOf?e.valueOf():e;e=n(a)?a+"":a}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(u,"");var f=h.test(e);return f||d.test(e)?p(e.slice(2),f?2:8):c.test(e)?o:+e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a="Expected a function",o=NaN,l="[object Symbol]",u=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,d=/^0o[0-7]+$/i,p=parseInt,f="object"==(void 0===i?"undefined":s(i))&&i&&i.Object===Object&&i,m="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,g=f||m||Function("return this")(),$=Object.prototype.toString,v=Math.max,y=Math.min,_=function(){return g.Date.now()};e.exports=function e(i,s,o){var l=!0,u=!0;if("function"!=typeof i)throw TypeError(a);return n(o)&&(l="leading"in o?!!o.leading:l,u="trailing"in o?!!o.trailing:u),function e(i,s,o){function l(e){var n=p,r=f;return p=f=void 0,b=e,g=i.apply(r,n)}function u(e){var i=e-x,n=e-b;return void 0===x||i>=s||i<0||S&&n>=m}function c(){var e,i,n,r,a=_();return u(a)?h(a):void($=setTimeout(c,(i=(e=a)-x,n=e-b,r=s-i,S?y(r,m-n):r)))}function h(e){return $=void 0,E&&p?l(e):(p=f=void 0,g)}function d(){var e,i=_(),n=u(i);if(p=arguments,f=this,x=i,n){if(void 0===$)return b=e=x,$=setTimeout(c,s),w?l(e):g;if(S)return $=setTimeout(c,s),l(x)}return void 0===$&&($=setTimeout(c,s)),g}var p,f,m,g,$,x,b=0,w=!1,S=!1,E=!0;if("function"!=typeof i)throw TypeError(a);return s=r(s)||0,n(o)&&(w=!!o.leading,m=(S="maxWait"in o)?v(r(o.maxWait)||0,s):m,E="trailing"in o?!!o.trailing:E),d.cancel=function e(){void 0!==$&&clearTimeout($),b=0,p=x=f=$=void 0},d.flush=function e(){return void 0===$?g:h(_())},d}(i,s,{leading:l,maxWait:s,trailing:u})}}).call(i,function(){return this}())},function(e,i){(function(i){"use strict";function n(e){var i=void 0===e?"undefined":s(e);return!!e&&("object"==i||"function"==i)}function r(e){if("number"==typeof e)return e;if("symbol"==(void 0===(i=e)?"undefined":s(i))||(r=i)&&"object"==(void 0===r?"undefined":s(r))&&g.call(i)==o)return a;if(n(e)){var i,r,p="function"==typeof e.valueOf?e.valueOf():e;e=n(p)?p+"":p}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(l,"");var f=c.test(e);return f||h.test(e)?d(e.slice(2),f?2:8):u.test(e)?a:+e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=NaN,o="[object Symbol]",l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt,p="object"==(void 0===i?"undefined":s(i))&&i&&i.Object===Object&&i,f="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,m=p||f||Function("return this")(),g=Object.prototype.toString,$=Math.max,v=Math.min,y=function(){return m.Date.now()};e.exports=function e(i,s,a){function o(e){var n=d,r=p;return d=p=void 0,x=e,m=i.apply(r,n)}function l(e){var i=e-_,n=e-x;return void 0===_||i>=s||i<0||w&&n>=f}function u(){var e,i,n,r,a=y();return l(a)?c(a):void(g=setTimeout(u,(i=(e=a)-_,n=e-x,r=s-i,w?v(r,f-n):r)))}function c(e){return g=void 0,S&&d?o(e):(d=p=void 0,m)}function h(){var e,i=y(),n=l(i);if(d=arguments,p=this,_=i,n){if(void 0===g)return x=e=_,g=setTimeout(u,s),b?o(e):m;if(w)return g=setTimeout(u,s),o(_)}return void 0===g&&(g=setTimeout(u,s)),m}var d,p,f,m,g,_,x=0,b=!1,w=!1,S=!0;if("function"!=typeof i)throw TypeError("Expected a function");return s=r(s)||0,n(a)&&(b=!!a.leading,f=(w="maxWait"in a)?$(r(a.maxWait)||0,s):f,S="trailing"in a?!!a.trailing:S),h.cancel=function e(){void 0!==g&&clearTimeout(g),x=0,d=_=p=g=void 0},h.flush=function e(){return void 0===g?m:c(y())},h}}).call(i,function(){return this}())},function(e,i){"use strict";function n(e){e&&e.forEach(function(e){var i=Array.prototype.slice.call(e.addedNodes),n=Array.prototype.slice.call(e.removedNodes);i.concat(n).filter(function(e){return e.hasAttribute&&e.hasAttribute("data-aos")}).length&&a()})}Object.defineProperty(i,"__esModule",{value:!0});var r=window.document,s=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,a=function(){};i.default=function e(i,o){var l=new s(n);a=o,l.observe(r.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}},function(e,i){"use strict";function n(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(i,n,r){return n&&e(i.prototype,n),r&&e(i,r),i}}(),s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=function(){function e(){!function e(i,n){if(!(i instanceof n))throw TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"phone",value:function(){var e=n();return!(!s.test(e)&&!a.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=n();return!(!o.test(e)&&!l.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}},]),e}();i.default=new u},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(e,i,n){var r=e.node.getAttribute("data-aos-once");i>e.position?e.node.classList.add("aos-animate"):void 0===r||"false"!==r&&(n||"true"===r)||e.node.classList.remove("aos-animate")},r=function(e,i){var r=window.pageYOffset,s=window.innerHeight;e.forEach(function(e,a){n(e,s+r,i)})};i.default=r},function(e,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r,s=(r=n(12))&&r.__esModule?r:{default:r},a=function(e,i){return e.forEach(function(e,n){e.node.classList.add("aos-init"),e.position=(0,s.default)(e.node,i.offset)}),e};i.default=a},function(e,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r,s=(r=n(13))&&r.__esModule?r:{default:r},a=function(e,i){var n=0,r=0,a=window.innerHeight,o={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(o.offset&&!isNaN(o.offset)&&(r=parseInt(o.offset)),o.anchor&&document.querySelectorAll(o.anchor)&&(e=document.querySelectorAll(o.anchor)[0]),n=(0,s.default)(e).top,o.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=a/2;break;case"bottom-center":n+=a/2+e.offsetHeight;break;case"center-center":n+=a/2+e.offsetHeight/2;break;case"top-top":n+=a;break;case"bottom-top":n+=e.offsetHeight+a;break;case"center-top":n+=e.offsetHeight/2+a}return o.anchorPlacement||o.offset||isNaN(i)||(r=i),n+r};i.default=a},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(e){for(var i=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)i+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:i}};i.default=n},function(e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,function(e){return{node:e}})};i.default=n},])}),function(e,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):(e="undefined"!=typeof globalThis?globalThis:e||self).chroma=i()}(this,function(){"use strict";for(var e=function(e,i,n){return void 0===i&&(i=0),void 0===n&&(n=1),e<i?i:e>n?n:e},i=e,n={},r=0,s=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<s.length;r+=1){var a=s[r];n["[object "+a+"]"]=a.toLowerCase()}var o=function(e){return n[Object.prototype.toString.call(e)]||"object"},l=o,u=o,c=Math.PI,h={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=i(e[n],0,255)):3===n&&(e[n]=i(e[n],0,1));return e},limit:e,type:o,unpack:function(e,i){return void 0===i&&(i=null),e.length>=3?Array.prototype.slice.call(e):"object"==l(e[0])&&i?i.split("").filter(function(i){return void 0!==e[0][i]}).map(function(i){return e[0][i]}):e[0]},last:function(e){if(e.length<2)return null;var i=e.length-1;return"string"==u(e[i])?e[i].toLowerCase():null},PI:c,TWOPI:2*c,PITHIRD:c/3,DEG2RAD:c/180,RAD2DEG:180/c},d={format:{},autodetect:[]},p=h.last,f=h.clip_rgb,m=h.type,g=d,$=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=this;if("object"===m(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var r=p(e),s=!1;if(!r){s=!0,g.sorted||(g.autodetect=g.autodetect.sort(function(e,i){return i.p-e.p}),g.sorted=!0);for(var a=0,o=g.autodetect;a<o.length;a+=1){var l=o[a];if(r=l.test.apply(l,e))break}}if(!g.format[r])throw Error("unknown format: "+e);var u=g.format[r].apply(null,s?e:e.slice(0,-1));n._rgb=f(u),3===n._rgb.length&&n._rgb.push(1)};$.prototype.toString=function(){return"function"==m(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var v=$,y=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(y.Color,[null].concat(e)))};y.Color=v,y.version="2.4.2";var _=y,x=h.unpack,b=Math.max,w=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r=x(e,"rgb"),s=r[0],a=r[1],o=r[2],l=1-b(s/=255,b(a/=255,o/=255)),u=l<1?1/(1-l):0,c=(1-s-l)*u;return[c,(1-a-l)*u,(1-o-l)*u,l]},S=h.unpack,E=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=(e=S(e,"cmyk"))[0],r=e[1],s=e[2],a=e[3],o=e.length>4?e[4]:1;return 1===a?[0,0,0,o]:[n>=1?0:255*(1-n)*(1-a),r>=1?0:255*(1-r)*(1-a),s>=1?0:255*(1-s)*(1-a),o]},T=_,M=v,C=d,D=h.unpack,A=h.type,P=w;M.prototype.cmyk=function(){return P(this._rgb)},T.cmyk=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(M,[null].concat(e,["cmyk"])))},C.format.cmyk=E,C.autodetect.push({p:2,test:function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if("array"===A(e=D(e,"cmyk"))&&4===e.length)return"cmyk"}});var L=h.unpack,R=h.last,I=function(e){return Math.round(100*e)/100},k=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=L(e,"hsla"),r=R(e)||"lsa";return n[0]=I(n[0]||0),n[1]=I(100*n[1])+"%",n[2]=I(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},O=h.unpack,N=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=(e=O(e,"rgba"))[0],r=e[1],s=e[2];n/=255;var a,o,l=Math.min(n,r/=255,s/=255),u=Math.max(n,r,s),c=(u+l)/2;return u===l?(a=0,o=Number.NaN):a=c<.5?(u-l)/(u+l):(u-l)/(2-u-l),n==u?o=(r-s)/(u-l):r==u?o=2+(s-n)/(u-l):s==u&&(o=4+(n-r)/(u-l)),(o*=60)<0&&(o+=360),e.length>3&&void 0!==e[3]?[o,a,c,e[3]]:[o,a,c]},F=h.unpack,U=h.last,z=k,B=N,H=Math.round,G=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=F(e,"rgba"),r=U(e)||"rgb";return"hsl"==r.substr(0,3)?z(B(n),r):(n[0]=H(n[0]),n[1]=H(n[1]),n[2]=H(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},V=h.unpack,W=Math.round,X=function(){for(var e,i=[],n=arguments.length;n--;)i[n]=arguments[n];var r,s,a,o=(i=V(i,"hsl"))[0],l=i[1],u=i[2];if(0===l)r=s=a=255*u;else{var c=[0,0,0],h=[0,0,0],d=u<.5?u*(1+l):u+l-u*l,p=2*u-d,f=o/360;c[0]=f+1/3,c[1]=f,c[2]=f-1/3;for(var m=0;m<3;m++)c[m]<0&&(c[m]+=1),c[m]>1&&(c[m]-=1),6*c[m]<1?h[m]=p+6*(d-p)*c[m]:2*c[m]<1?h[m]=d:3*c[m]<2?h[m]=p+(d-p)*(2/3-c[m])*6:h[m]=p;r=(e=[W(255*h[0]),W(255*h[1]),W(255*h[2])])[0],s=e[1],a=e[2]}return i.length>3?[r,s,a,i[3]]:[r,s,a,1]},j=X,q=d,Y=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,Z=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,K=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,J=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,Q=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,ee=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,et=Math.round,ei=function(e){var i;if(e=e.toLowerCase().trim(),q.format.named)try{return q.format.named(e)}catch(n){}if(i=e.match(Y)){for(var r=i.slice(1,4),s=0;s<3;s++)r[s]=+r[s];return r[3]=1,r}if(i=e.match(Z)){for(var a=i.slice(1,5),o=0;o<4;o++)a[o]=+a[o];return a}if(i=e.match(K)){for(var l=i.slice(1,4),u=0;u<3;u++)l[u]=et(2.55*l[u]);return l[3]=1,l}if(i=e.match(J)){for(var c=i.slice(1,5),h=0;h<3;h++)c[h]=et(2.55*c[h]);return c[3]=+c[3],c}if(i=e.match(Q)){var d=i.slice(1,4);d[1]*=.01,d[2]*=.01;var p=j(d);return p[3]=1,p}if(i=e.match(ee)){var f=i.slice(1,4);f[1]*=.01,f[2]*=.01;var m=j(f);return m[3]=+i[4],m}};ei.test=function(e){return Y.test(e)||Z.test(e)||K.test(e)||J.test(e)||Q.test(e)||ee.test(e)};var en=_,er=v,es=d,ea=h.type,eo=G,el=ei;er.prototype.css=function(e){return eo(this._rgb,e)},en.css=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(er,[null].concat(e,["css"])))},es.format.css=el,es.autodetect.push({p:5,test:function(e){for(var i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];if(!i.length&&"string"===ea(e)&&el.test(e))return"css"}});var eu=v,ec=_,eh=h.unpack;d.format.gl=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=eh(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},ec.gl=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(eu,[null].concat(e,["gl"])))},eu.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var ed=h.unpack,ep=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r=ed(e,"rgb"),s=r[0],a=r[1],o=r[2],l=Math.min(s,a,o),u=Math.max(s,a,o),c=u-l;return 0===c?n=Number.NaN:(s===u&&(n=(a-o)/c),a===u&&(n=2+(o-s)/c),o===u&&(n=4+(s-a)/c),(n*=60)<0&&(n+=360)),[n,100*c/255,l/(255-c)*100]},ef=h.unpack,em=Math.floor,eg=function(){for(var e,i,n,r,s,a,o=[],l=arguments.length;l--;)o[l]=arguments[l];var u,c,h,d=(o=ef(o,"hcg"))[0],p=o[1],f=o[2];f*=255;var m=255*p;if(0===p)u=c=h=f;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var g=em(d/=60),$=d-g,v=f*(1-p),y=v+m*(1-$),_=v+m*$,x=v+m;switch(g){case 0:u=(e=[x,_,v])[0],c=e[1],h=e[2];break;case 1:u=(i=[y,x,v])[0],c=i[1],h=i[2];break;case 2:u=(n=[v,x,_])[0],c=n[1],h=n[2];break;case 3:u=(r=[v,y,x])[0],c=r[1],h=r[2];break;case 4:u=(s=[_,v,x])[0],c=s[1],h=s[2];break;case 5:u=(a=[x,v,y])[0],c=a[1],h=a[2]}}return[u,c,h,o.length>3?o[3]:1]},e$=h.unpack,ev=h.type,ey=_,e8=v,e_=d,ex=ep;e8.prototype.hcg=function(){return ex(this._rgb)},ey.hcg=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(e8,[null].concat(e,["hcg"])))},e_.format.hcg=eg,e_.autodetect.push({p:1,test:function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if("array"===ev(e=e$(e,"hcg"))&&3===e.length)return"hcg"}});var eb=h.unpack,ew=h.last,eS=Math.round,eE=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=eb(e,"rgba"),r=n[0],s=n[1],a=n[2],o=n[3],l=ew(e)||"auto";void 0===o&&(o=1),"auto"===l&&(l=o<1?"rgba":"rgb");var u="000000"+((r=eS(r))<<16|(s=eS(s))<<8|(a=eS(a))).toString(16);u=u.substr(u.length-6);var c="0"+eS(255*o).toString(16);switch(c=c.substr(c.length-2),l.toLowerCase()){case"rgba":return"#"+u+c;case"argb":return"#"+c+u;default:return"#"+u}},eT=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,eM=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,eC=function(e){if(e.match(eT)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var i=parseInt(e,16);return[i>>16,i>>8&255,255&i,1]}if(e.match(eM)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw Error("unknown hex color: "+e)},eD=_,eA=v,e0=h.type,e1=d,eP=eE;eA.prototype.hex=function(e){return eP(this._rgb,e)},eD.hex=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(eA,[null].concat(e,["hex"])))},e1.format.hex=eC,e1.autodetect.push({p:4,test:function(e){for(var i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];if(!i.length&&"string"===e0(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var eL=h.unpack,eR=h.TWOPI,eI=Math.min,ek=Math.sqrt,eO=Math.acos,eN=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r=eL(e,"rgb"),s=r[0],a=r[1],o=r[2],l=eI(s/=255,a/=255,o/=255),u=(s+a+o)/3,c=u>0?1-l/u:0;return 0===c?n=NaN:(n=(s-a+(s-o))/2,n/=ek((s-a)*(s-a)+(s-o)*(a-o)),n=eO(n),o>a&&(n=eR-n),n/=eR),[360*n,c,u]},eF=h.unpack,eU=h.limit,ez=h.TWOPI,eB=h.PITHIRD,e3=Math.cos,e2=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r,s,a=(e=eF(e,"hsi"))[0],o=e[1],l=e[2];return isNaN(a)&&(a=0),isNaN(o)&&(o=0),a>360&&(a-=360),a<0&&(a+=360),(a/=360)<1/3?r=1-((s=(1-o)/3)+(n=(1+o*e3(ez*a)/e3(eB-ez*a))/3)):a<2/3?s=1-((n=(1-o)/3)+(r=(1+o*e3(ez*(a-=1/3))/e3(eB-ez*a))/3)):n=1-((r=(1-o)/3)+(s=(1+o*e3(ez*(a-=2/3))/e3(eB-ez*a))/3)),[255*(n=eU(l*n*3)),255*(r=eU(l*r*3)),255*(s=eU(l*s*3)),e.length>3?e[3]:1]},e4=h.unpack,eH=h.type,eG=_,e6=v,eV=d,eW=eN;e6.prototype.hsi=function(){return eW(this._rgb)},eG.hsi=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(e6,[null].concat(e,["hsi"])))},eV.format.hsi=e2,eV.autodetect.push({p:2,test:function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if("array"===eH(e=e4(e,"hsi"))&&3===e.length)return"hsi"}});var e5=h.unpack,e7=h.type,eX=_,ej=v,eq=d,e9=N;ej.prototype.hsl=function(){return e9(this._rgb)},eX.hsl=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(ej,[null].concat(e,["hsl"])))},eq.format.hsl=X,eq.autodetect.push({p:2,test:function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if("array"===e7(e=e5(e,"hsl"))&&3===e.length)return"hsl"}});var eY=h.unpack,eZ=Math.min,eK=Math.max,eJ=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r,s,a=(e=eY(e,"rgb"))[0],o=e[1],l=e[2],u=eZ(a,o,l),c=eK(a,o,l),h=c-u;return s=c/255,0===c?(n=Number.NaN,r=0):(r=h/c,a===c&&(n=(o-l)/h),o===c&&(n=2+(l-a)/h),l===c&&(n=4+(a-o)/h),(n*=60)<0&&(n+=360)),[n,r,s]},eQ=h.unpack,te=Math.floor,tt=function(){for(var e,i,n,r,s,a,o=[],l=arguments.length;l--;)o[l]=arguments[l];var u,c,h,d=(o=eQ(o,"hsv"))[0],p=o[1],f=o[2];if(f*=255,0===p)u=c=h=f;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var m=te(d/=60),g=d-m,$=f*(1-p),v=f*(1-p*g),y=f*(1-p*(1-g));switch(m){case 0:u=(e=[f,y,$])[0],c=e[1],h=e[2];break;case 1:u=(i=[v,f,$])[0],c=i[1],h=i[2];break;case 2:u=(n=[$,f,y])[0],c=n[1],h=n[2];break;case 3:u=(r=[$,v,f])[0],c=r[1],h=r[2];break;case 4:u=(s=[y,$,f])[0],c=s[1],h=s[2];break;case 5:u=(a=[f,$,v])[0],c=a[1],h=a[2]}}return[u,c,h,o.length>3?o[3]:1]},ti=h.unpack,tn=h.type,tr=_,ts=v,ta=d,to=eJ;ts.prototype.hsv=function(){return to(this._rgb)},tr.hsv=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(ts,[null].concat(e,["hsv"])))},ta.format.hsv=tt,ta.autodetect.push({p:2,test:function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if("array"===tn(e=ti(e,"hsv"))&&3===e.length)return"hsv"}});var tl={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},tu=tl,tc=h.unpack,th=Math.pow,td=function(e){return(e/=255)<=.04045?e/12.92:th((e+.055)/1.055,2.4)},tp=function(e){return e>tu.t3?th(e,1/3):e/tu.t2+tu.t0},tf=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r,s,a=tc(e,"rgb"),o=a[0],l=a[1],u=a[2],c=(n=o,r=l,s=u,n=td(n),r=td(r),s=td(s),[tp((.4124564*n+.3575761*r+.1804375*s)/tu.Xn),tp((.2126729*n+.7151522*r+.072175*s)/tu.Yn),tp((.0193339*n+.119192*r+.9503041*s)/tu.Zn)]),h=c[0],d=c[1],p=c[2],f=116*d-16;return[f<0?0:f,500*(h-d),200*(d-p)]},tm=tl,tg=h.unpack,t$=Math.pow,tv=function(e){return 255*(e<=.00304?12.92*e:1.055*t$(e,1/2.4)-.055)},ty=function(e){return e>tm.t1?e*e*e:tm.t2*(e-tm.t0)},t8=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r,s,a=(e=tg(e,"lab"))[0],o=e[1],l=e[2];return r=(a+16)/116,n=isNaN(o)?r:r+o/500,s=isNaN(l)?r:r-l/200,r=tm.Yn*ty(r),n=tm.Xn*ty(n),s=tm.Zn*ty(s),[tv(3.2404542*n-1.5371385*r-.4985314*s),tv(-.969266*n+1.8760108*r+.041556*s),tv(.0556434*n-.2040259*r+1.0572252*s),e.length>3?e[3]:1]},t_=h.unpack,tx=h.type,tb=_,tw=v,tS=d,tE=tf;tw.prototype.lab=function(){return tE(this._rgb)},tb.lab=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(tw,[null].concat(e,["lab"])))},tS.format.lab=t8,tS.autodetect.push({p:2,test:function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if("array"===tx(e=t_(e,"lab"))&&3===e.length)return"lab"}});var tT=h.unpack,tM=h.RAD2DEG,tC=Math.sqrt,tD=Math.atan2,tA=Math.round,t0=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=tT(e,"lab"),r=n[0],s=n[1],a=n[2],o=tC(s*s+a*a),l=(tD(a,s)*tM+360)%360;return 0===tA(1e4*o)&&(l=Number.NaN),[r,o,l]},t1=h.unpack,tP=tf,tL=t0,tR=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r,s=t1(e,"rgb"),a=s[0],o=tP(a,s[1],s[2]),l=o[0];return tL(l,o[1],o[2])},tI=h.unpack,tk=h.DEG2RAD,tO=Math.sin,tN=Math.cos,tF=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=tI(e,"lch"),r=n[0],s=n[1],a=n[2];return isNaN(a)&&(a=0),[r,tN(a*=tk)*s,tO(a)*s]},tU=h.unpack,tz=tF,tB=t8,t3=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r,s,a=(e=tU(e,"lch"))[0],o=tz(a,e[1],e[2]),l=o[0],u=tB(l,o[1],o[2]),c=u[0];return[c,u[1],u[2],e.length>3?e[3]:1]},t2=h.unpack,t4=t3,tH=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=t2(e,"hcl").reverse();return t4.apply(void 0,n)},tG=h.unpack,t6=h.type,tV=_,tW=v,t5=d,t7=tR;tW.prototype.lch=function(){return t7(this._rgb)},tW.prototype.hcl=function(){return t7(this._rgb).reverse()},tV.lch=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(tW,[null].concat(e,["lch"])))},tV.hcl=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(tW,[null].concat(e,["hcl"])))},t5.format.lch=t3,t5.format.hcl=tH,["lch","hcl"].forEach(function(e){return t5.autodetect.push({p:2,test:function(){for(var i=[],n=arguments.length;n--;)i[n]=arguments[n];if("array"===t6(i=tG(i,e))&&3===i.length)return e}})});var tX={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},tj=d,tq=h.type,t9=tX,tY=eC,tZ=eE;v.prototype.name=function(){for(var e=tZ(this._rgb,"rgb"),i=0,n=Object.keys(t9);i<n.length;i+=1){var r=n[i];if(t9[r]===e)return r.toLowerCase()}return e},tj.format.named=function(e){if(t9[e=e.toLowerCase()])return tY(t9[e]);throw Error("unknown color name: "+e)},tj.autodetect.push({p:5,test:function(e){for(var i=[],n=arguments.length-1;n-- >0;)i[n]=arguments[n+1];if(!i.length&&"string"===tq(e)&&t9[e.toLowerCase()])return"named"}});var tK=h.unpack,tJ=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r=tK(e,"rgb"),s=r[0];return(s<<16)+(r[1]<<8)+r[2]},tQ=h.type,ie=function(e){if("number"==tQ(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw Error("unknown num color: "+e)},it=_,ii=v,ir=d,is=h.type,ia=tJ;ii.prototype.num=function(){return ia(this._rgb)},it.num=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(ii,[null].concat(e,["num"])))},ir.format.num=ie,ir.autodetect.push({p:5,test:function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if(1===e.length&&"number"===is(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var io=_,il=v,iu=d,ic=h.unpack,ih=h.type,id=Math.round;il.prototype.rgb=function(e){return void 0===e&&(e=!0),!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(id)},il.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map(function(i,n){return n<3?!1===e?i:id(i):i})},io.rgb=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(il,[null].concat(e,["rgb"])))},iu.format.rgb=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=ic(e,"rgba");return void 0===n[3]&&(n[3]=1),n},iu.autodetect.push({p:3,test:function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if("array"===ih(e=ic(e,"rgba"))&&(3===e.length||4===e.length&&"number"==ih(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var ip=Math.log,im=function(e){var i,n,r,s=e/100;return s<66?(i=255,n=s<6?0:-155.25485562709179-.44596950469579133*(n=s-2)+104.49216199393888*ip(n),r=s<20?0:.8274096064007395*(r=s-10)-254.76935184120902+115.67994401066147*ip(r)):(i=351.97690566805693+.114206453784165*(i=s-55)-40.25366309332127*ip(i),n=325.4494125711974+.07943456536662342*(n=s-50)-28.0852963507957*ip(n),r=255),[i,n,r,1]},ig=im,i$=h.unpack,iv=Math.round,iy=_,i8=v,i_=d,ix=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var n,r=i$(e,"rgb"),s=r[0],a=r[2],o=1e3,l=4e4;l-o>.4;){var u=ig(n=.5*(l+o));u[2]/u[0]>=a/s?l=n:o=n}return iv(n)};i8.prototype.temp=i8.prototype.kelvin=i8.prototype.temperature=function(){return ix(this._rgb)},iy.temp=iy.kelvin=iy.temperature=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(i8,[null].concat(e,["temp"])))},i_.format.temp=i_.format.kelvin=i_.format.temperature=im;var ib=h.unpack,iw=Math.cbrt,iS=Math.pow,iE=Math.sign,iT=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=ib(e,"rgb"),r=n[0],s=n[1],a=n[2],o=[iM(r/255),iM(s/255),iM(a/255)],l=o[0],u=o[1],c=o[2],h=iw(.4122214708*l+.5363325363*u+.0514459929*c),d=iw(.2119034982*l+.6806995451*u+.1073969566*c),p=iw(.0883024619*l+.2817188376*u+.6299787005*c);return[.2104542553*h+.793617785*d-.0040720468*p,1.9779984951*h-2.428592205*d+.4505937099*p,.0259040371*h+.7827717662*d-.808675766*p]};function iM(e){var i=Math.abs(e);return i<.04045?e/12.92:(iE(e)||1)*iS((i+.055)/1.055,2.4)}var iC=h.unpack,iD=Math.pow,iA=Math.sign,i0=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n=(e=iC(e,"lab"))[0],r=e[1],s=e[2],a=iD(n+.3963377774*r+.2158037573*s,3),o=iD(n-.1055613458*r-.0638541728*s,3),l=iD(n-.0894841775*r-1.291485548*s,3);return[255*i1(4.0767416621*a-3.3077115913*o+.2309699292*l),255*i1(-1.2684380046*a+2.6097574011*o-.3413193965*l),255*i1(-.0041960863*a-.7034186147*o+1.707614701*l),e.length>3?e[3]:1]};function i1(e){var i=Math.abs(e);return i>.0031308?(iA(e)||1)*(1.055*iD(i,1/2.4)-.055):12.92*e}var iP=h.unpack,iL=h.type,iR=_,iI=v,ik=d,iO=iT;iI.prototype.oklab=function(){return iO(this._rgb)},iR.oklab=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(iI,[null].concat(e,["oklab"])))},ik.format.oklab=i0,ik.autodetect.push({p:3,test:function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if("array"===iL(e=iP(e,"oklab"))&&3===e.length)return"oklab"}});var iN=h.unpack,iF=iT,iU=t0,iz=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r,s=iN(e,"rgb"),a=s[0],o=iF(a,s[1],s[2]),l=o[0];return iU(l,o[1],o[2])},iB=h.unpack,i3=tF,i2=i0,i4=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];var n,r,s,a=(e=iB(e,"lch"))[0],o=i3(a,e[1],e[2]),l=o[0],u=i2(l,o[1],o[2]),c=u[0];return[c,u[1],u[2],e.length>3?e[3]:1]},iH=h.unpack,iG=h.type,i6=_,iV=v,iW=d,i5=iz;iV.prototype.oklch=function(){return i5(this._rgb)},i6.oklch=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return new(Function.prototype.bind.apply(iV,[null].concat(e,["oklch"])))},iW.format.oklch=i4,iW.autodetect.push({p:3,test:function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if("array"===iG(e=iH(e,"oklch"))&&3===e.length)return"oklch"}});var i7=v,iX=h.type;i7.prototype.alpha=function(e,i){return void 0===i&&(i=!1),void 0!==e&&"number"===iX(e)?i?(this._rgb[3]=e,this):new i7([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},v.prototype.clipped=function(){return this._rgb._clipped||!1};var ij=v,iq=tl;ij.prototype.darken=function(e){void 0===e&&(e=1);var i=this.lab();return i[0]-=iq.Kn*e,new ij(i,"lab").alpha(this.alpha(),!0)},ij.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},ij.prototype.darker=ij.prototype.darken,ij.prototype.brighter=ij.prototype.brighten,v.prototype.get=function(e){var i=e.split("."),n=i[0],r=i[1],s=this[n]();if(r){var a=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(a>-1)return s[a];throw Error("unknown channel "+r+" in mode "+n)}return s};var i9=v,iY=h.type,iZ=Math.pow;i9.prototype.luminance=function(e){if(void 0!==e&&"number"===iY(e)){if(0===e)return new i9([0,0,0,this._rgb[3]],"rgb");if(1===e)return new i9([255,255,255,this._rgb[3]],"rgb");var i=this.luminance(),n=20,r=function(i,s){var a=i.interpolate(s,.5,"rgb"),o=a.luminance();return!(1e-7>Math.abs(e-o))&&n--?o>e?r(i,a):r(a,s):a},s=(i>e?r(new i9([0,0,0]),this):r(this,new i9([255,255,255]))).rgb();return new i9(s.concat([this._rgb[3]]))}return iK.apply(void 0,this._rgb.slice(0,3))};var iK=function(e,i,n){return .2126*(e=iJ(e))+.7152*(i=iJ(i))+.0722*(n=iJ(n))},iJ=function(e){return(e/=255)<=.03928?e/12.92:iZ((e+.055)/1.055,2.4)},iQ={},ne=v,nt=h.type,ni=iQ,nn=function(e,i,n){void 0===n&&(n=.5);for(var r=[],s=arguments.length-3;s-- >0;)r[s]=arguments[s+3];var a=r[0]||"lrgb";if(ni[a]||r.length||(a=Object.keys(ni)[0]),!ni[a])throw Error("interpolation mode "+a+" is not defined");return"object"!==nt(e)&&(e=new ne(e)),"object"!==nt(i)&&(i=new ne(i)),ni[a](e,i,n).alpha(e.alpha()+n*(i.alpha()-e.alpha()))},nr=v,ns=nn;nr.prototype.mix=nr.prototype.interpolate=function(e,i){void 0===i&&(i=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return ns.apply(void 0,[this,e,i].concat(n))};var na=v;na.prototype.premultiply=function(e){void 0===e&&(e=!1);var i=this._rgb,n=i[3];return e?(this._rgb=[i[0]*n,i[1]*n,i[2]*n,n],this):new na([i[0]*n,i[1]*n,i[2]*n,n],"rgb")};var no=v,nl=tl;no.prototype.saturate=function(e){void 0===e&&(e=1);var i=this.lch();return i[1]+=nl.Kn*e,i[1]<0&&(i[1]=0),new no(i,"lch").alpha(this.alpha(),!0)},no.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var nu=v,nc=h.type;nu.prototype.set=function(e,i,n){void 0===n&&(n=!1);var r=e.split("."),s=r[0],a=r[1],o=this[s]();if(a){var l=s.indexOf(a)-("ok"===s.substr(0,2)?2:0);if(l>-1){if("string"==nc(i))switch(i.charAt(0)){case"+":case"-":o[l]+=+i;break;case"*":o[l]*=+i.substr(1);break;case"/":o[l]/=+i.substr(1);break;default:o[l]=+i}else{if("number"!==nc(i))throw Error("unsupported value for Color.set");o[l]=i}var u=new nu(o,s);return n?(this._rgb=u._rgb,this):u}throw Error("unknown channel "+a+" in mode "+s)}return o};var nh=v;iQ.rgb=function(e,i,n){var r=e._rgb,s=i._rgb;return new nh(r[0]+n*(s[0]-r[0]),r[1]+n*(s[1]-r[1]),r[2]+n*(s[2]-r[2]),"rgb")};var nd=v,np=Math.sqrt,nf=Math.pow;iQ.lrgb=function(e,i,n){var r=e._rgb,s=r[0],a=r[1],o=r[2],l=i._rgb,u=l[0],c=l[1],h=l[2];return new nd(np(nf(s,2)*(1-n)+nf(u,2)*n),np(nf(a,2)*(1-n)+nf(c,2)*n),np(nf(o,2)*(1-n)+nf(h,2)*n),"rgb")};var nm=v;iQ.lab=function(e,i,n){var r=e.lab(),s=i.lab();return new nm(r[0]+n*(s[0]-r[0]),r[1]+n*(s[1]-r[1]),r[2]+n*(s[2]-r[2]),"lab")};var ng=v,n$=function(e,i,n,r){var s,a,o,l,u,c,h,d,p,f,m,g,$;return"hsl"===r?(o=e.hsl(),l=i.hsl()):"hsv"===r?(o=e.hsv(),l=i.hsv()):"hcg"===r?(o=e.hcg(),l=i.hcg()):"hsi"===r?(o=e.hsi(),l=i.hsi()):"lch"===r||"hcl"===r?(r="hcl",o=e.hcl(),l=i.hcl()):"oklch"===r&&(o=e.oklch().reverse(),l=i.oklch().reverse()),"h"!==r.substr(0,1)&&"oklch"!==r||(u=(s=o)[0],h=s[1],p=s[2],c=(a=l)[0],d=a[1],f=a[2]),isNaN(u)||isNaN(c)?isNaN(u)?isNaN(c)?g=Number.NaN:(g=c,1!=p&&0!=p||"hsv"==r||(m=d)):(g=u,1!=f&&0!=f||"hsv"==r||(m=h)):g=u+n*(c>u&&c-u>180?c-(u+360):c<u&&u-c>180?c+360-u:c-u),void 0===m&&(m=h+n*(d-h)),$=p+n*(f-p),new ng("oklch"===r?[$,m,g]:[g,m,$],r)},nv=n$,ny=function(e,i,n){return nv(e,i,n,"lch")};iQ.lch=ny,iQ.hcl=ny;var n8=v;iQ.num=function(e,i,n){var r=e.num(),s=i.num();return new n8(r+n*(s-r),"num")};var n_=n$;iQ.hcg=function(e,i,n){return n_(e,i,n,"hcg")};var nx=n$;iQ.hsi=function(e,i,n){return nx(e,i,n,"hsi")};var nb=n$;iQ.hsl=function(e,i,n){return nb(e,i,n,"hsl")};var nw=n$;iQ.hsv=function(e,i,n){return nw(e,i,n,"hsv")};var nS=v;iQ.oklab=function(e,i,n){var r=e.oklab(),s=i.oklab();return new nS(r[0]+n*(s[0]-r[0]),r[1]+n*(s[1]-r[1]),r[2]+n*(s[2]-r[2]),"oklab")};var nE=n$;iQ.oklch=function(e,i,n){return nE(e,i,n,"oklch")};var nT=v,nM=h.clip_rgb,nC=Math.pow,nD=Math.sqrt,nA=Math.PI,n0=Math.cos,n1=Math.sin,nP=Math.atan2,nL=function(e,i){for(var n=e.length,r=[0,0,0,0],s=0;s<e.length;s++){var a=e[s],o=i[s]/n,l=a._rgb;r[0]+=nC(l[0],2)*o,r[1]+=nC(l[1],2)*o,r[2]+=nC(l[2],2)*o,r[3]+=l[3]*o}return r[0]=nD(r[0]),r[1]=nD(r[1]),r[2]=nD(r[2]),r[3]>.9999999&&(r[3]=1),new nT(nM(r))},nR=_,nI=h.type,nk=Math.pow,nO=function(e){var i="rgb",n=nR("#ccc"),r=0,s=[0,1],a=[],o=[0,0],l=!1,u=[],c=!1,h=0,d=1,p=!1,f={},m=!0,g=1,$=function(e){if("string"===nI(e=e||["#fff","#000"])&&nR.brewer&&nR.brewer[e.toLowerCase()]&&(e=nR.brewer[e.toLowerCase()]),"array"===nI(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var i=0;i<e.length;i++)e[i]=nR(e[i]);a.length=0;for(var n=0;n<e.length;n++)a.push(n/(e.length-1))}return x(),u=e},v=function(e){return e},y=function(e){return e},_=function(e,r){if(null==r&&(r=!1),isNaN(e)||null===e)return n;if(r)c=e;else if(l&&l.length>2){var s,c;c=function(e){if(null!=l){for(var i=l.length-1,n=0;n<i&&e>=l[n];)n++;return n-1}return 0}(e)/(l.length-2)}else c=d!==h?(e-h)/(d-h):1;c=y(c),r||(c=v(c)),1!==g&&(c=nk(c,g));var p=Math.floor(1e4*(c=Math.min(1,Math.max(0,c=o[0]+c*(1-o[0]-o[1])))));if(m&&f[p])s=f[p];else{if("array"===nI(u))for(var $=0;$<a.length;$++){var _=a[$];if(c<=_||c>=_&&$===a.length-1){s=u[$];break}if(c>_&&c<a[$+1]){c=(c-_)/(a[$+1]-_),s=nR.interpolate(u[$],u[$+1],c,i);break}}else"function"===nI(u)&&(s=u(c));m&&(f[p]=s)}return s},x=function(){return f={}};$(e);var b=function(e){var i=nR(_(e));return c&&i[c]?i[c]():i};return b.classes=function(e){if(null!=e){if("array"===nI(e))l=e,s=[e[0],e[e.length-1]];else{var i=nR.analyze(s);l=0===e?[i.min,i.max]:nR.limits(i,"e",e)}return b}return l},b.domain=function(e){if(!arguments.length)return s;h=e[0],d=e[e.length-1],a=[];var i=u.length;if(e.length===i&&h!==d)for(var n=0,r=Array.from(e);n<r.length;n+=1){var o=r[n];a.push((o-h)/(d-h))}else{for(var l=0;l<i;l++)a.push(l/(i-1));if(e.length>2){var c=e.map(function(i,n){return n/(e.length-1)}),p=e.map(function(e){return(e-h)/(d-h)});p.every(function(e,i){return c[i]===e})||(y=function(e){if(e<=0||e>=1)return e;for(var i=0;e>=p[i+1];)i++;var n=(e-p[i])/(p[i+1]-p[i]);return c[i]+n*(c[i+1]-c[i])})}}return s=[h,d],b},b.mode=function(e){return arguments.length?(i=e,x(),b):i},b.range=function(e,i){return $(e),b},b.out=function(e){return c=e,b},b.spread=function(e){return arguments.length?(r=e,b):r},b.correctLightness=function(e){return null==e&&(e=!0),p=e,x(),v=p?function(e){for(var i=_(0,!0).lab()[0],n=_(1,!0).lab()[0],r=i>n,s=_(e,!0).lab()[0],a=i+(n-i)*e,o=s-a,l=0,u=1,c=20;Math.abs(o)>.01&&c-- >0;)r&&(o*=-1),o<0?(l=e,e+=.5*(u-e)):(u=e,e+=.5*(l-e)),o=(s=_(e,!0).lab()[0])-a;return e}:function(e){return e},b},b.padding=function(e){return null!=e?("number"===nI(e)&&(e=[e,e]),o=e,b):o},b.colors=function(i,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=u.slice(0);else if(1===i)r=[b(.5)];else if(i>1){var a=s[0],o=s[1]-a;r=(function e(i,n,r){for(var s=[],a=i<n,o=r?a?n+1:n-1:n,l=i;a?l<o:l>o;a?l++:l--)s.push(l);return s})(0,i,!1).map(function(e){return b(a+e/(i-1)*o)})}else{e=[];var c=[];if(l&&l.length>2)for(var h=1,d=l.length,p=1<=d;p?h<d:h>d;p?h++:h--)c.push(.5*(l[h-1]+l[h]));else c=s;r=c.map(function(e){return b(e)})}return nR[n]&&(r=r.map(function(e){return e[n]()})),r},b.cache=function(e){return null!=e?(m=e,b):m},b.gamma=function(e){return null!=e?(g=e,b):g},b.nodata=function(e){return null!=e?(n=nR(e),b):n},b},nN=v,nF=nO,nU=_,nz=function(e,i,n){if(!nz[n])throw Error("unknown blend mode "+n);return nz[n](e,i)},nB=function(e){return function(i,n){var r=nU(n).rgb(),s=nU(i).rgb();return nU.rgb(e(r,s))}},n3=function(e){return function(i,n){var r=[];return r[0]=e(i[0],n[0]),r[1]=e(i[1],n[1]),r[2]=e(i[2],n[2]),r}};nz.normal=nB(n3(function(e){return e})),nz.multiply=nB(n3(function(e,i){return e*i/255})),nz.screen=nB(n3(function(e,i){return 255*(1-(1-e/255)*(1-i/255))})),nz.overlay=nB(n3(function(e,i){return i<128?2*e*i/255:255*(1-2*(1-e/255)*(1-i/255))})),nz.darken=nB(n3(function(e,i){return e>i?i:e})),nz.lighten=nB(n3(function(e,i){return e>i?e:i})),nz.dodge=nB(n3(function(e,i){return 255===e||(e=i/255*255/(1-e/255))>255?255:e})),nz.burn=nB(n3(function(e,i){return 255*(1-(1-i/255)/(e/255))}));for(var n2=h.type,n4=h.clip_rgb,nH=h.TWOPI,nG=Math.pow,n6=Math.sin,nV=Math.cos,nW=_,n5=v,n7=Math.floor,nX=Math.random,nj=o,nq=Math.log,n9=Math.pow,nY=Math.floor,nZ=Math.abs,nK=function(e,i){void 0===i&&(i=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===nj(e)&&(e=Object.values(e)),e.forEach(function(e){i&&"object"===nj(e)&&(e=e[i]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(e,i){return nJ(n,e,i)},n},nJ=function(e,i,n){void 0===i&&(i="equal"),void 0===n&&(n=7),"array"==nj(e)&&(e=nK(e));var r=e.min,s=e.max,a=e.values.sort(function(e,i){return e-i});if(1===n)return[r,s];var o=[];if("c"===i.substr(0,1)&&(o.push(r),o.push(s)),"e"===i.substr(0,1)){o.push(r);for(var l=1;l<n;l++)o.push(r+l/n*(s-r));o.push(s)}else if("l"===i.substr(0,1)){if(r<=0)throw Error("Logarithmic scales are only possible for values > 0");var u=Math.LOG10E*nq(r),c=Math.LOG10E*nq(s);o.push(r);for(var h=1;h<n;h++)o.push(n9(10,u+h/n*(c-u)));o.push(s)}else if("q"===i.substr(0,1)){o.push(r);for(var d=1;d<n;d++){var p=(a.length-1)*d/n,f=nY(p);if(f===p)o.push(a[f]);else{var m=p-f;o.push(a[f]*(1-m)+a[f+1]*m)}}o.push(s)}else if("k"===i.substr(0,1)){var g,$=a.length,v=Array($),y=Array(n),_=!0,x=0,b=null;(b=[]).push(r);for(var w=1;w<n;w++)b.push(r+w/n*(s-r));for(b.push(s);_;){for(var S=0;S<n;S++)y[S]=0;for(var E=0;E<$;E++)for(var T=a[E],M=Number.MAX_VALUE,C=void 0,D=0;D<n;D++){var A=nZ(b[D]-T);A<M&&(M=A,C=D),y[C]++,v[E]=C}for(var P=Array(n),L=0;L<n;L++)P[L]=null;for(var R=0;R<$;R++)null===P[g=v[R]]?P[g]=a[R]:P[g]+=a[R];for(var I=0;I<n;I++)P[I]*=1/y[I];_=!1;for(var k=0;k<n;k++)if(P[k]!==b[k]){_=!0;break}b=P,++x>200&&(_=!1)}for(var O={},N=0;N<n;N++)O[N]=[];for(var F=0;F<$;F++)O[g=v[F]].push(a[F]);for(var U=[],z=0;z<n;z++)U.push(O[z][0]),U.push(O[z][O[z].length-1]);U=U.sort(function(e,i){return e-i}),o.push(U[0]);for(var B=1;B<U.length;B+=2){var H=U[B];isNaN(H)||-1!==o.indexOf(H)||o.push(H)}}return o},nQ={analyze:nK,limits:nJ},re=v,rt=v,ri=Math.sqrt,rn=Math.pow,rr=Math.min,rs=Math.max,ra=Math.atan2,ro=Math.abs,rl=Math.cos,ru=Math.sin,rc=Math.exp,rh=Math.PI,rd=v,rp=v,rf=_,rm=nO,rg={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},r$=0,rv=Object.keys(rg);r$<rv.length;r$+=1){var ry=rv[r$];rg[ry.toLowerCase()]=rg[ry]}var r8=_;return r8.average=function(e,i,n){void 0===i&&(i="lrgb"),void 0===n&&(n=null);var r=e.length;n||(n=Array.from(Array(r)).map(function(){return 1}));var s=r/n.reduce(function(e,i){return e+i});if(n.forEach(function(e,i){n[i]*=s}),e=e.map(function(e){return new nT(e)}),"lrgb"===i)return nL(e,n);for(var a=e.shift(),o=a.get(i),l=[],u=0,c=0,h=0;h<o.length;h++)if(o[h]=(o[h]||0)*n[0],l.push(isNaN(o[h])?0:n[0]),"h"===i.charAt(h)&&!isNaN(o[h])){var d=o[h]/180*nA;u+=n0(d)*n[0],c+=n1(d)*n[0]}var p=a.alpha()*n[0];e.forEach(function(e,r){var s=e.get(i);p+=e.alpha()*n[r+1];for(var a=0;a<o.length;a++)if(!isNaN(s[a])){if(l[a]+=n[r+1],"h"===i.charAt(a)){var h=s[a]/180*nA;u+=n0(h)*n[r+1],c+=n1(h)*n[r+1]}else o[a]+=s[a]*n[r+1]}});for(var f=0;f<o.length;f++)if("h"===i.charAt(f)){for(var m=nP(c/l[f],u/l[f])/nA*180;m<0;)m+=360;for(;m>=360;)m-=360;o[f]=m}else o[f]=o[f]/l[f];return p/=r,new nT(o,i).alpha(p>.99999?1:p,!0)},r8.bezier=function(e){var i=function(e){var i,n,r,s,a,o,l,u,c,h,d;if(2===(e=e.map(function(e){return new nN(e)})).length)a=(i=e.map(function(e){return e.lab()}))[0],o=i[1],s=function(e){var i=[0,1,2].map(function(i){return a[i]+e*(o[i]-a[i])});return new nN(i,"lab")};else if(3===e.length)a=(n=e.map(function(e){return e.lab()}))[0],o=n[1],l=n[2],s=function(e){var i=[0,1,2].map(function(i){return(1-e)*(1-e)*a[i]+2*(1-e)*e*o[i]+e*e*l[i]});return new nN(i,"lab")};else if(4===e.length)a=(r=e.map(function(e){return e.lab()}))[0],o=r[1],l=r[2],u=r[3],s=function(e){var i=[0,1,2].map(function(i){return(1-e)*(1-e)*(1-e)*a[i]+3*(1-e)*(1-e)*e*o[i]+3*(1-e)*e*e*l[i]+e*e*e*u[i]});return new nN(i,"lab")};else{if(!(e.length>=5))throw RangeError("No point in running bezier with only one color.");c=e.map(function(e){return e.lab()}),h=function(e){for(var i=[1,1],n=1;n<e;n++){for(var r=[1],s=1;s<=i.length;s++)r[s]=(i[s]||0)+i[s-1];i=r}return i}(d=e.length-1),s=function(e){var i=1-e,n=[0,1,2].map(function(n){return c.reduce(function(r,s,a){return r+h[a]*Math.pow(i,d-a)*Math.pow(e,a)*s[n]},0)});return new nN(n,"lab")}}return s}(e);return i.scale=function(){return nF(i)},i},r8.blend=nz,r8.cubehelix=function(e,i,n,r,s){void 0===e&&(e=300),void 0===i&&(i=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===s&&(s=[0,1]);var a,o=0;"array"===n2(s)?a=s[1]-s[0]:(a=0,s=[s,s]);var l=function(l){var u=nH*((e+120)/360+i*l),c=nG(s[0]+a*l,r),h=(0!==o?n[0]+l*o:n)*c*(1-c)/2,d=nV(u),p=n6(u);return nW(n4([255*(c+h*(-.14861*d+1.78277*p)),255*(c+h*(-.29227*d-.90649*p)),255*(c+h*(1.97294*d)),1]))};return l.start=function(i){return null==i?e:(e=i,l)},l.rotations=function(e){return null==e?i:(i=e,l)},l.gamma=function(e){return null==e?r:(r=e,l)},l.hue=function(e){return null==e?n:("array"===n2(n=e)?0==(o=n[1]-n[0])&&(n=n[1]):o=0,l)},l.lightness=function(e){return null==e?s:("array"===n2(e)?(s=e,a=e[1]-e[0]):(s=[e,e],a=0),l)},l.scale=function(){return nW.scale(l)},l.hue(n),l},r8.mix=r8.interpolate=nn,r8.random=function(){for(var e="#",i=0;i<6;i++)e+="0123456789abcdef".charAt(n7(16*nX()));return new n5(e,"hex")},r8.scale=nO,r8.analyze=nQ.analyze,r8.contrast=function(e,i){e=new re(e),i=new re(i);var n=e.luminance(),r=i.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},r8.deltaE=function(e,i,n,r,s){void 0===n&&(n=1),void 0===r&&(r=1),void 0===s&&(s=1);var a=function(e){return 360*e/(2*rh)},o=function(e){return 2*rh*e/360};e=new rt(e),i=new rt(i);var l=Array.from(e.lab()),u=l[0],c=l[1],h=l[2],d=Array.from(i.lab()),p=d[0],f=d[1],m=d[2],g=(u+p)/2,$=(ri(rn(c,2)+rn(h,2))+ri(rn(f,2)+rn(m,2)))/2,v=.5*(1-ri(rn($,7)/(rn($,7)+rn(25,7)))),y=c*(1+v),_=f*(1+v),x=ri(rn(y,2)+rn(h,2)),b=ri(rn(_,2)+rn(m,2)),w=(x+b)/2,S=a(ra(h,y)),E=a(ra(m,_)),T=S>=0?S:S+360,M=E>=0?E:E+360,C=ro(T-M)>180?(T+M+360)/2:(T+M)/2,D=1-.17*rl(o(C-30))+.24*rl(o(2*C))+.32*rl(o(3*C+6))-.2*rl(o(4*C-63)),A=M-T;A=180>=ro(A)?A:M<=T?A+360:A-360,A=2*ri(x*b)*ru(o(A)/2);var P=b-x,L=1+.015*rn(g-50,2)/ri(20+rn(g-50,2)),R=1+.045*w,I=1+.015*w*D,k=30*rc(-rn((C-275)/25,2)),O=-(2*ri(rn(w,7)/(rn(w,7)+rn(25,7))))*ru(2*o(k));return rs(0,rr(100,ri(rn((p-u)/(n*L),2)+rn(P/(r*R),2)+rn(A/(s*I),2)+O*(P/(r*R))*(A/(s*I)))))},r8.distance=function(e,i,n){void 0===n&&(n="lab"),e=new rd(e),i=new rd(i);var r=e.get(n),s=i.get(n),a=0;for(var o in r){var l=(r[o]||0)-(s[o]||0);a+=l*l}return Math.sqrt(a)},r8.limits=nQ.limits,r8.valid=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];try{return new(Function.prototype.bind.apply(rp,[null].concat(e))),!0}catch(n){return!1}},r8.scales={cool:function(){return rm([rf.hsl(180,1,.9),rf.hsl(250,.7,.4)])},hot:function(){return rm(["#000","#f00","#ff0","#fff"]).mode("rgb")}},r8.colors=tX,r8.brewer=rg,r8}),function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e=e||self).window=e.window||{})}(this,function(e){"use strict";function i(e,i){e.prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i}function n(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){return"string"==typeof e}function s(e){return"function"==typeof e}function a(e){return"number"==typeof e}function o(e){return void 0===e}function l(e){return"object"==typeof e}function u(e){return!1!==e}function c(){return"undefined"!=typeof window}function h(e){return s(e)||r(e)}function d(e){return(eE=tf(e,ti))&&ix}function p(e,i){return console.warn("Invalid property",e,"set to",i,"Missing plugin? gsap.registerPlugin()")}function f(e,i){return!i&&console.warn(e)}function m(e,i){return e&&(ti[e]=i)&&eE&&(eE[e]=i)||ti}function g(){return 0}function $(e){var i,n,r=e[0];if(l(r)||s(r)||(e=[e]),!(i=(r._gsap||{}).harness)){for(n=td.length;n--&&!td[n].targetTest(r););i=td[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new tO(e[n],i)))||e.splice(n,1);return e}function v(e){return e._gsap||$(t_(e))[0]._gsap}function y(e,i,n){return(n=e[i])&&s(n)?e[i]():o(n)&&e.getAttribute&&e.getAttribute(i)||n}function _(e,i){return(e=e.split(",")).forEach(i)||e}function x(e){return Math.round(1e5*e)/1e5||0}function b(e){return Math.round(1e7*e)/1e7||0}function w(e,i){var n=i.charAt(0),r=parseFloat(i.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r}function S(e,i){for(var n=i.length,r=0;0>e.indexOf(i[r])&&++r<n;);return r<n}function E(){var e,i,n=to.length,r=to.slice(0);for(tl={},e=to.length=0;e<n;e++)(i=r[e])&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)}function T(e,i,n,r){to.length&&!e8&&E(),e.render(i,n,r||e8&&i<0&&(e._initted||e._startAt)),to.length&&!e8&&E()}function M(e){var i=parseFloat(e);return(i||0===i)&&(e+"").match(te).length<2?i:r(e)?e.trim():e}function C(e){return e}function D(e,i){for(var n in i)n in e||(e[n]=i[n]);return e}function A(e,i){for(var n in i)"__proto__"!==n&&"constructor"!==n&&"prototype"!==n&&(e[n]=l(i[n])?A(e[n]||(e[n]={}),i[n]):i[n]);return e}function P(e,i){var n,r={};for(n in e)n in i||(r[n]=e[n]);return r}function L(e){var i,n=e.parent||ex,r=e.keyframes?(i=e9(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&i||"ease"===r||(e[r]=n[r])}):D;if(u(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e}function R(e,i,n,r,s){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=e[r];if(s)for(a=i[s];o&&o[s]>a;)o=o._prev;return o?(i._next=o._next,o._next=i):(i._next=e[n],e[n]=i),i._next?i._next._prev=i:e[r]=i,i._prev=o,i.parent=i._dp=e,i}function I(e,i,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var s=i._prev,a=i._next;s?s._next=a:e[n]===i&&(e[n]=a),a?a._prev=s:e[r]===i&&(e[r]=s),i._next=i._prev=i.parent=null}function k(e,i){e.parent&&(!i||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0}function O(e,i){if(e&&(!i||i._end>e._dur||i._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e}function N(e,i,n,r){return e._startAt&&(e8?e._startAt.revert(tr):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(i,!0,r))}function F(e){return e._repeat?tm(e._tTime,e=e.duration()+e._rDelay)*e:0}function U(e,i){return(e-i._start)*i._ts+(0<=i._ts?0:i._dirty?i.totalDuration():i._tDur)}function z(e){return e._end=b(e._start+(e._tDur/Math.abs(e._ts||e._rts||e6)||0))}function B(e,i){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=b(n._time-(0<e._ts?i/e._ts:-(((e._dirty?e.totalDuration():e._tDur)-i)/e._ts))),z(e),n._dirty||O(n,e)),e}function H(e,i){var n;if((i._time||!i._dur&&i._initted||i._start<e._time&&(i._dur||!i.add))&&(n=U(e.rawTime(),i),(!i._dur||ty(0,i.totalDuration(),n)-i._tTime>e6)&&i.render(n,!0)),O(e,i)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)0<=n.rawTime()&&n.totalTime(n._tTime),n=n._dp;e._zTime=-e6}}function G(e,i,n,r){return i.parent&&k(i),i._start=b((a(n)?n:n||e!==ex?tv(e,n,i):e._time)+i._delay),i._end=b(i._start+(i.totalDuration()/Math.abs(i.timeScale())||0)),R(e,i,"_first","_last",e._sort?"_start":0),tg(i)||(e._recent=i),r||H(e,i),e._ts<0&&B(e,e._tTime),e}function V(e,i){return(ti.ScrollTrigger||p("scrollTrigger",i))&&ti.ScrollTrigger.create(i,e)}function W(e,i,n,r,s){return tH(e,i,s),e._initted?!n&&e._pt&&!e8&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&eM!==tC.frame?(to.push(e),e._lazy=[s,r],1):void 0:1}function X(e,i,n,r){var s=e._repeat,a=b(i)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:b(a*(s+1)+e._rDelay*s):a,0<o&&!r&&B(e,e._tTime=e._tDur*o),e.parent&&z(e),n||O(e.parent,e),e}function j(e){return e instanceof tU?O(e):X(e,e._dur)}function q(e,i,n){var r,s,o=a(i[1]),l=(o?2:1)+(e<2?0:1),c=i[l];if(o&&(c.duration=i[1]),c.parent=n,e){for(r=c,s=n;s&&!("immediateRender"in r);)r=s.vars.defaults||{},s=u(s.vars.inherit)&&s.parent;c.immediateRender=u(r.immediateRender),e<2?c.runBackwards=1:c.startAt=i[l-1]}return new tW(i[0],c,i[1+l])}function Y(e,i){return e||0===e?i(e):i}function Z(e,i){return r(e)&&(i=tt.exec(e))?i[1]:""}function K(e,i){return e&&l(e)&&"length"in e&&(!i&&!e.length||e.length-1 in e&&l(e[0]))&&!e.nodeType&&e!==eb}function J(e){return e=t_(e)[0]||f("Invalid scope")||{},function(i){var n=e.current||e.nativeElement||e;return t_(i,n.querySelectorAll?n:n===e?f("Invalid scope")||eS.createElement("div"):e)}}function Q(e){return e.sort(function(){return .5-Math.random()})}function ee(e){if(s(e))return e;var i=l(e)?e:{each:e},n=tL(i.ease),a=i.from||0,o=parseFloat(i.base)||0,u={},c=0<a&&a<1,h=isNaN(a)||c,d=i.axis,p=a,f=a;return r(a)?p=f=({center:.5,edges:.5,end:1})[a]||0:!c&&h&&(p=a[0],f=a[1]),function(e,r,s){var l,c,m,g,$,v,y,_,x,w=(s||i).length,S=u[w];if(!S){if(!(x="auto"===i.grid?0:(i.grid||[1,eG])[1])){for(y=-eG;y<(y=s[x++].getBoundingClientRect().left)&&x<w;);x<w&&x--}for(S=u[w]=[],l=h?Math.min(x,w)*p-.5:a%x,c=x===eG?0:h?w*f/x-.5:a/x|0,_=eG,v=y=0;v<w;v++)m=v%x-l,g=c-(v/x|0),S[v]=$=d?Math.abs("y"===d?g:m):e7(m*m+g*g),y<$&&(y=$),$<_&&(_=$);"random"===a&&Q(S),S.max=y-_,S.min=_,S.v=w=(parseFloat(i.amount)||parseFloat(i.each)*(w<x?w-1:d?"y"===d?w/x:x:Math.max(x,w/x))||0)*("edges"===a?-1:1),S.b=w<0?o-w:o,S.u=Z(i.amount||i.each)||0,n=n&&w<0?tP(n):n}return w=(S[e]-S.min)/S.max||0,b(S.b+(n?n(w):w)*S.v)+S.u}}function et(e){var i=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=b(Math.round(parseFloat(n)/e)*e*i);return(r-r%1)/i+(a(n)?0:Z(n))}}function ei(e,i){var n,r,o=e9(e);return!o&&l(e)&&(n=o=e.radius||eG,e.values?(e=t_(e.values),(r=!a(e[0]))&&(n*=n)):e=et(e.increment)),Y(i,o?s(e)?function(i){return Math.abs((r=e(i))-i)<=n?r:i}:function(i){for(var s,o,l=parseFloat(r?i.x:i),u=parseFloat(r?i.y:0),c=eG,h=0,d=e.length;d--;)(s=r?(s=e[d].x-l)*s+(o=e[d].y-u)*o:Math.abs(e[d]-l))<c&&(c=s,h=d);return h=!n||c<=n?e[h]:i,r||h===i||a(i)?h:h+Z(i)}:et(e))}function en(e,i,n,r){return Y(e9(e)?!i:!0===n?(n=0,!1):!r,function(){return e9(e)?e[~~(Math.random()*e.length)]:(r=(n=n||1e-5)<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(i-e+.99*n))/n)*n*r)/r})}function er(e,i,n){return Y(n,function(n){return e[~~i(n)]})}function es(e){for(var i,n,r,s,a=0,o="";~(i=e.indexOf("random(",a));)r=e.indexOf(")",i),s="["===e.charAt(i+7),n=e.substr(i+7,r-i-7).match(s?te:eY),o+=e.substr(a,i-a)+en(s?n:+n[0],s?0:+n[1],+n[2]||1e-5),a=r+1;return o+e.substr(a,e.length-a)}function ea(e,i,n){var r,s,a,o=e.labels,l=eG;for(r in o)(s=o[r]-i)<0==!!n&&s&&l>(s=Math.abs(s))&&(a=r,l=s);return a}function eo(e){return k(e),e.scrollTrigger&&e.scrollTrigger.kill(!!e8),1>e.progress()&&tb(e,"onInterrupt"),e}function el(e){if(e){if(e=!e.name&&e.default||e,c()||e.headless){var i=e.name,n=s(e),r=i&&!n&&e.init?function(){this._props=[]}:e,a={init:g,render:tJ,add:t4,kill:ie,modifier:tQ,rawVars:0},o={targetTest:0,get:0,getSetter:t9,aliases:{},register:0};if(tD(),e!==r){if(tu[i])return;D(r,D(P(e,a),o)),tf(r.prototype,tf(a,P(e,o))),tu[r.prop=i]=r,e.targetTest&&(td.push(r),ta[i]=1),i=("css"===i?"CSS":i.charAt(0).toUpperCase()+i.substr(1))+"Plugin"}m(i,r),e.register&&e.register(ix,r,ii)}else tw.push(e)}}function eu(e,i,n){return(6*(e+=e<0?1:1<e?-1:0)<1?i+(n-i)*e*6:e<.5?n:3*e<2?i+(n-i)*(2/3-e)*6:i)*tS+.5|0}function ec(e,i,n){var r,s,o,l,u,c,h,d,p,f,m=e?a(e)?[e>>16,e>>8&tS,e&tS]:0:tE.black;if(!m){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),tE[e])m=tE[e];else if("#"===e.charAt(0)){if(e.length<6&&(e="#"+(r=e.charAt(1))+r+(s=e.charAt(2))+s+(o=e.charAt(3))+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(m=parseInt(e.substr(1,6),16))>>16,m>>8&tS,m&tS,parseInt(e.substr(7),16)/255];m=[(e=parseInt(e.substr(1),16))>>16,e>>8&tS,e&tS]}else if("hsl"===e.substr(0,3)){if(m=f=e.match(eY),i){if(~e.indexOf("="))return m=e.match(eZ),n&&m.length<4&&(m[3]=1),m}else l=+m[0]%360/360,u=m[1]/100,r=2*(c=m[2]/100)-(s=c<=.5?c*(u+1):c+u-c*u),3<m.length&&(m[3]*=1),m[0]=eu(l+1/3,r,s),m[1]=eu(l,r,s),m[2]=eu(l-1/3,r,s)}else m=e.match(eY)||tE.transparent;m=m.map(Number)}return i&&!f&&(r=m[0]/tS,c=((h=Math.max(r,s=m[1]/tS,o=m[2]/tS))+(d=Math.min(r,s,o)))/2,h===d?l=u=0:(p=h-d,u=.5<c?p/(2-h-d):p/(h+d),l=h===r?(s-o)/p+(s<o?6:0):h===s?(o-r)/p+2:(r-s)/p+4,l*=60),m[0]=~~(l+.5),m[1]=~~(100*u+.5),m[2]=~~(100*c+.5)),n&&m.length<4&&(m[3]=1),m}function eh(e){var i=[],n=[],r=-1;return e.split(tT).forEach(function(e){var s=e.match(eK)||[];i.push.apply(i,s),n.push(r+=s.length+1)}),i.c=n,i}function ed(e,i,n){var r,s,a,o,l="",u=(e+l).match(tT),c=i?"hsla(":"rgba(",h=0;if(!u)return e;if(u=u.map(function(e){return(e=ec(e,i,1))&&c+(i?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),n&&(a=eh(e),(r=n.c).join(l)!==a.c.join(l)))for(o=(s=e.replace(tT,"1").split(eK)).length-1;h<o;h++)l+=s[h]+(~r.indexOf(h)?u.shift()||c+"0,0,0,0)":(a.length?a:u.length?u:n).shift());if(!s)for(o=(s=e.split(tT)).length-1;h<o;h++)l+=s[h]+u[h];return l+s[o]}function ep(e){var i,n=e.join(" ");if(tT.lastIndex=0,tT.test(n))return i=tM.test(n),e[1]=ed(e[1],i),e[0]=ed(e[0],i,eh(e[1])),!0}function ef(e,i){for(var n,r=e._first;r;)r instanceof tU?ef(r,i):!r.vars.yoyoEase||r._yoyo&&r._repeat||r._yoyo===i||(r.timeline?ef(r.timeline,i):(n=r._ease,r._ease=r._yEase,r._yEase=n,r._yoyo=i)),r=r._next}function em(e,i,n,r){void 0===n&&(n=function e(n){return 1-i(1-n)}),void 0===r&&(r=function e(n){return n<.5?i(2*n)/2:1-i(2*(1-n))/2});var s,a={easeIn:i,easeOut:n,easeInOut:r};return _(e,function(e){for(var i in tA[e]=ti[e]=a,tA[s=e.toLowerCase()]=n,a)tA[s+("easeIn"===i?".in":"easeOut"===i?".out":".inOut")]=tA[e+"."+i]=a[i]}),a}function eg(e){return function(i){return i<.5?(1-e(1-2*i))/2:.5+e(2*(i-.5))/2}}function e$(e,i,n){function r(e){return 1===e?1:s*Math.pow(2,-10*e)*ej((e-o)*a)+1}var s=1<=i?i:1,a=(n||(e?.3:.45))/(i<1?i:1),o=a/eV*(Math.asin(1/s)||0),l="out"===e?r:"in"===e?function(e){return 1-r(1-e)}:eg(r);return a=eV/a,l.config=function(i,n){return e$(e,i,n)},l}function ev(e,i){function n(e){return e?--e*e*((i+1)*e+i)+1:0}void 0===i&&(i=1.70158);var r="out"===e?n:"in"===e?function(e){return 1-n(1-e)}:eg(n);return r.config=function(i){return ev(e,i)},r}var ey,e8,e_,ex,eb,ew,eS,eE,eT,eM,eC,eD,eA,e0,e1,eP,eL,eR,eI,ek,eO,eN,eF,eU,ez,eB,e3,e2,e4={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},eH={duration:.5,overwrite:!1,delay:0},eG=1e8,e6=1/eG,eV=2*Math.PI,eW=eV/4,e5=0,e7=Math.sqrt,eX=Math.cos,ej=Math.sin,eq="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},e9=Array.isArray,eY=/(?:-?\.?\d|\.)+/gi,eZ=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,eK=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,eJ=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,eQ=/[+-]=-?[.\d]+/,te=/[^,'"\[\]\s]+/gi,tt=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ti={},tn={suppressEvents:!0,isStart:!0,kill:!1},tr={suppressEvents:!0,kill:!1},ts={suppressEvents:!0},ta={},to=[],tl={},tu={},tc={},th=30,td=[],tp="",tf=function e(i,n){for(var r in n)i[r]=n[r];return i},tm=function e(i,n){var r=Math.floor(i/=n);return i&&r===i?r-1:r},tg=function e(i){var n=i.data;return"isFromStart"===n||"isStart"===n},t$={_start:0,endTime:g,totalDuration:g},tv=function e(i,n,s){var a,o,l,u=i.labels,c=i._recent||t$,h=i.duration()>=eG?c.endTime(!1):i._dur;return r(n)&&(isNaN(n)||n in u)?(o=n.charAt(0),l="%"===n.substr(-1),a=n.indexOf("="),"<"===o||">"===o?(0<=a&&(n=n.replace(/=/,"")),("<"===o?c._start:c.endTime(0<=c._repeat))+(parseFloat(n.substr(1))||0)*(l?(a<0?c:s).totalDuration()/100:1)):a<0?(n in u||(u[n]=h),u[n]):(o=parseFloat(n.charAt(a-1)+n.substr(a+1)),l&&s&&(o=o/100*(e9(s)?s[0]:s).totalDuration()),1<a?e(i,n.substr(0,a-1),s)+o:h+o)):null==n?h:+n},ty=function e(i,n,r){return r<i?i:n<r?n:r},t8=[].slice,t_=function e(i,n,s){var a,o,l;return e_&&!n&&e_.selector?e_.selector(i):!r(i)||s||!ew&&tD()?e9(i)?(a=i,o=s,void 0===l&&(l=[]),a.forEach(function(e){return r(e)&&!o||K(e,1)?l.push.apply(l,t_(e)):l.push(e)})||l):K(i)?t8.call(i,0):i?[i]:[]:t8.call((n||eS).querySelectorAll(i),0)},tx=function e(i,n,r,s,a){var o=n-i,l=s-r;return Y(a,function(e){return r+((e-i)/o*l||0)})},tb=function e(i,n,r){var s,a,o,l=i.vars,u=l[n],c=e_,h=i._ctx;if(u)return s=l[n+"Params"],a=l.callbackScope||i,r&&to.length&&E(),h&&(e_=h),o=s?u.apply(a,s):u.call(a),e_=c,o},tw=[],tS=255,tE={aqua:[0,tS,tS],lime:[0,tS,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,tS],navy:[0,0,128],white:[tS,tS,tS],olive:[128,128,0],yellow:[tS,tS,0],orange:[tS,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[tS,0,0],pink:[tS,192,203],cyan:[0,tS,tS],transparent:[tS,tS,tS,0]},tT=function(){var e,i="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in tE)i+="|"+e+"\\b";return RegExp(i+")","gi")}(),tM=/hsl[a]?\(/,tC=(ek=500,eO=33,eF=eN=(eI=Date.now)(),ez=eU=1e3/240,eP={time:0,frame:0,tick:function e(){tR(!0)},deltaRatio:function e(i){return eL/(1e3/(i||60))},wake:function e(){eT&&(!ew&&c()&&(eS=(eb=ew=window).document||{},ti.gsap=ix,(eb.gsapVersions||(eb.gsapVersions=[])).push(ix.version),d(eE||eb.GreenSockGlobals||!eb.gsap&&eb||{}),tw.forEach(el)),e1="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,eA&&eP.sleep(),e0=e1||function(e){return setTimeout(e,ez-1e3*eP.time+1|0)},eD=1,tR(2))},sleep:function e(){(e1?cancelAnimationFrame:clearTimeout)(eA),eD=0,e0=g},lagSmoothing:function e(i,n){eO=Math.min(n||33,ek=i||1/0)},fps:function e(i){eU=1e3/(i||240),ez=1e3*eP.time+eU},add:function e(i,n,r){var s=n?function(e,n,r,a){i(e,n,r,a),eP.remove(s)}:i;return eP.remove(i),eB[r?"unshift":"push"](s),tD(),s},remove:function e(i,n){~(n=eB.indexOf(i))&&eB.splice(n,1)&&n<=eR&&eR--},_listeners:eB=[]}),tD=function e(){return!eD&&tC.wake()},tA={},t0=/^[\d.\-M][\d.\-,\s]/,t1=/["']/g,tP=function e(i){return function(e){return 1-i(1-e)}},tL=function e(i,n){var r,a,o,l,u,c,h;return i&&(s(i)?i:tA[i]||((o=tA[(a=((r=i)+"").split("("))[0]])&&1<a.length&&o.config?o.config.apply(null,~r.indexOf("{")?[function e(i){for(var n,r,s,a={},o=i.substr(1,i.length-3).split(":"),l=o[0],u=1,c=o.length;u<c;u++)r=o[u],n=u!==c-1?r.lastIndexOf(","):r.length,s=r.substr(0,n),a[l]=isNaN(s)?s.replace(t1,"").trim():+s,l=r.substr(n+1).trim();return a}(a[1])]:(u=(l=r).indexOf("(")+1,c=l.indexOf(")"),h=l.indexOf("(",u),l.substring(u,~h&&h<c?l.indexOf(")",c+1):c)).split(",").map(M)):tA._CE&&t0.test(r)?tA._CE("",r):o))||n};function tR(e){var i,n,r,s,a=eI()-eF,o=!0===e;if((ek<a||a<0)&&(eN+=a-eO),(0<(i=(r=(eF+=a)-eN)-ez)||o)&&(s=++eP.frame,eL=r-1e3*eP.time,eP.time=r/=1e3,ez+=i+(eU<=i?4:eU-i),n=1),o||(eA=e0(tR)),n)for(eR=0;eR<eB.length;eR++)eB[eR](r,eL,s,e)}function tI(e){return e<e2?e3*e*e:e<.7272727272727273?e3*Math.pow(e-1.5/2.75,2)+.75:e<.9090909090909092?e3*(e-=2.25/2.75)*e+.9375:e3*Math.pow(e-2.625/2.75,2)+.984375}_("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,i){var n=i<5?i+1:i;em(e+",Power"+(n-1),i?function(e){return Math.pow(e,n)}:function(e){return e},function(e){return 1-Math.pow(1-e,n)},function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2})}),tA.Linear.easeNone=tA.none=tA.Linear.easeIn,em("Elastic",e$("in"),e$("out"),e$()),e3=7.5625,e2=1/2.75,em("Bounce",function(e){return 1-tI(1-e)},tI),em("Expo",function(e){return e?Math.pow(2,10*(e-1)):0}),em("Circ",function(e){return-(e7(1-e*e)-1)}),em("Sine",function(e){return 1===e?1:1-eX(e*eW)}),em("Back",ev("in"),ev("out"),ev()),tA.SteppedEase=tA.steps=ti.SteppedEase={config:function e(i,n){void 0===i&&(i=1);var r=1/i,s=i+(n?0:1),a=n?1:0;return function(e){return((s*ty(0,.99999999,e)|0)+a)*r}}},eH.ease=tA["quad.out"],_("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return tp+=e+","+e+"Params,"});var tk,tO=function e(i,n){this.id=e5++,(i._gsap=this).target=i,this.harness=n,this.get=n?n.get:y,this.set=n?n.getSetter:t9},tN=((tk=tF.prototype).delay=function e(i){return i||0===i?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},tk.duration=function e(i){return arguments.length?this.totalDuration(0<this._repeat?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},tk.totalDuration=function e(i){return arguments.length?(this._dirty=0,X(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},tk.totalTime=function e(i,n){if(tD(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(B(this,i),!r._dp||r.parent||H(r,this);r&&r.parent;)r.parent._time!==r._start+(0<=r._ts?r._tTime/r._ts:-((r.totalDuration()-r._tTime)/r._ts))&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&i<this._tDur||this._ts<0&&0<i||!this._tDur&&!i)&&G(this._dp,this,this._start-this._delay)}return this._tTime===i&&(this._dur||n)&&(!this._initted||Math.abs(this._zTime)!==e6)&&(i||this._initted||!this.add&&!this._ptLookup)||(this._ts||(this._pTime=i),T(this,i,n)),this},tk.time=function e(i,n){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+F(this))%(this._dur+this._rDelay)||(i?this._dur:0),n):this._time},tk.totalProgress=function e(i,n){return arguments.length?this.totalTime(this.totalDuration()*i,n):this.totalDuration()?Math.min(1,this._tTime/this._tDur):0<this.rawTime()?1:0},tk.progress=function e(i,n){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?i:1-i)+F(this),n):this.duration()?Math.min(1,this._time/this._dur):0<this.rawTime()?1:0},tk.iteration=function e(i,n){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*r,n):this._repeat?tm(this._tTime,r)+1:1},tk.timeScale=function e(i,n){if(!arguments.length)return this._rts===-e6?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?U(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-e6?0:this._rts,this.totalTime(ty(-Math.abs(this._delay),this._tDur,r),!1!==n),z(this),function e(i){for(var n=i.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return i}(this)},tk.paused=function e(i){return arguments.length?(this._ps!==i&&((this._ps=i)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(tD(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==e6&&(this._tTime-=e6)))),this):this._ps},tk.startTime=function e(i){if(arguments.length){this._start=i;var n=this.parent||this._dp;return n&&(n._sort||!this.parent)&&G(n,this,i-this._delay),this}return this._start},tk.endTime=function e(i){return this._start+(u(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},tk.rawTime=function e(i){var n=this.parent||this._dp;return n?i&&(!this._ts||this._repeat&&this._time&&1>this.totalProgress())?this._tTime%(this._dur+this._rDelay):this._ts?U(n.rawTime(i),this):this._tTime:this._tTime},tk.revert=function e(i){void 0===i&&(i=ts);var n=e8;return e8=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),"nested"!==this.data&&!1!==i.kill&&this.kill(),e8=n,this},tk.globalTime=function e(i){for(var n=this,r=arguments.length?i:n.rawTime();n;)r=n._start+r/(Math.abs(n._ts)||1),n=n._dp;return!this.parent&&this._sat?this._sat.globalTime(i):r},tk.repeat=function e(i){return arguments.length?(this._repeat=i===1/0?-2:i,j(this)):-2===this._repeat?1/0:this._repeat},tk.repeatDelay=function e(i){if(arguments.length){var n=this._time;return this._rDelay=i,j(this),n?this.time(n):this}return this._rDelay},tk.yoyo=function e(i){return arguments.length?(this._yoyo=i,this):this._yoyo},tk.seek=function e(i,n){return this.totalTime(tv(this,i),u(n))},tk.restart=function e(i,n){return this.play().totalTime(i?-this._delay:0,u(n))},tk.play=function e(i,n){return null!=i&&this.seek(i,n),this.reversed(!1).paused(!1)},tk.reverse=function e(i,n){return null!=i&&this.seek(i||this.totalDuration(),n),this.reversed(!0).paused(!1)},tk.pause=function e(i,n){return null!=i&&this.seek(i,n),this.paused(!0)},tk.resume=function e(){return this.paused(!1)},tk.reversed=function e(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-e6:0)),this):this._rts<0},tk.invalidate=function e(){return this._initted=this._act=0,this._zTime=-e6,this},tk.isActive=function e(){var i,n=this.parent||this._dp,r=this._start;return!(n&&!(this._ts&&this._initted&&n.isActive()&&(i=n.rawTime(!0))>=r&&i<this.endTime(!0)-e6))},tk.eventCallback=function e(i,n,r){var s=this.vars;return 1<arguments.length?(n?(s[i]=n,r&&(s[i+"Params"]=r),"onUpdate"===i&&(this._onUpdate=n)):delete s[i],this):s[i]},tk.then=function e(i){var n=this;return new Promise(function(e){function r(){var i=n.then;n.then=null,s(a)&&(a=a(n))&&(a.then||a===n)&&(n.then=i),e(a),n.then=i}var a=s(i)?i:C;n._initted&&1===n.totalProgress()&&0<=n._ts||!n._tTime&&n._ts<0?r():n._prom=r})},tk.kill=function e(){eo(this)},tF);function tF(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,X(this,+e.duration,1,1),this.data=e.data,e_&&(this._ctx=e_).data.push(this),eD||tC.wake()}D(tN.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-e6,_prom:0,_ps:!1,_rts:1});var tU=function(e){function o(i,r){var s;return void 0===i&&(i={}),(s=e.call(this,i)||this).labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=u(i.sortChildren),ex&&G(i.parent||ex,n(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&V(n(s),i.scrollTrigger),s}i(o,e);var l=o.prototype;return l.to=function e(i,n,r){return q(0,arguments,this),this},l.from=function e(i,n,r){return q(1,arguments,this),this},l.fromTo=function e(i,n,r,s){return q(2,arguments,this),this},l.set=function e(i,n,r){return n.duration=0,n.parent=this,L(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new tW(i,n,tv(this,r),1),this},l.call=function e(i,n,r){return G(this,tW.delayedCall(0,i,n),r)},l.staggerTo=function e(i,n,r,s,a,o,l){return r.duration=n,r.stagger=r.stagger||s,r.onComplete=o,r.onCompleteParams=l,r.parent=this,new tW(i,r,tv(this,a)),this},l.staggerFrom=function e(i,n,r,s,a,o,l){return r.runBackwards=1,L(r).immediateRender=u(r.immediateRender),this.staggerTo(i,n,r,s,a,o,l)},l.staggerFromTo=function e(i,n,r,s,a,o,l,c){return s.startAt=r,L(s).immediateRender=u(s.immediateRender),this.staggerTo(i,n,s,a,o,l,c)},l.render=function e(i,n,r){var s,a,o,l,u,c,h,d,p,f,m,g,$=this._time,v=this._dirty?this.totalDuration():this._tDur,y=this._dur,_=i<=0?0:b(i),x=this._zTime<0!=i<0&&(this._initted||!y);if(this!==ex&&v<_&&0<=i&&(_=v),_!==this._tTime||r||x){if($!==this._time&&y&&(_+=this._time-$,i+=this._time-$),s=_,p=this._start,c=!(d=this._ts),x&&(y||($=this._zTime),!i&&n||(this._zTime=i)),this._repeat){if(m=this._yoyo,u=y+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(100*u+i,n,r);if(s=b(_%u),_===v?(l=this._repeat,s=y):((l=~~(_/u))&&l===_/u&&(s=y,l--),y<s&&(s=y)),f=tm(this._tTime,u),!$&&this._tTime&&f!==l&&this._tTime-f*u-this._dur<=0&&(f=l),m&&1&l&&(s=y-s,g=1),l!==f&&!this._lock){var w=m&&1&f,S=w===(m&&1&l);if(l<f&&(w=!w),$=w?0:_%y?y:_,this._lock=1,this.render($||(g?0:b(l*u)),n,!y)._lock=0,this._tTime=_,!n&&this.parent&&tb(this,"onRepeat"),this.vars.repeatRefresh&&!g&&(this.invalidate()._lock=1),$&&$!==this._time||!this._ts!=c||this.vars.onRepeat&&!this.parent&&!this._act||(y=this._dur,v=this._tDur,S&&(this._lock=2,$=w?y:-.0001,this.render($,!0),this.vars.repeatRefresh&&!g&&this.invalidate()),this._lock=0,!this._ts&&!c))return this;ef(this,g)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function e(i,n,r){var s;if(n<r)for(s=i._first;s&&s._start<=r;){if("isPause"===s.data&&s._start>n)return s;s=s._next}else for(s=i._last;s&&s._start>=r;){if("isPause"===s.data&&s._start<n)return s;s=s._prev}}(this,b($),b(s)))&&(_-=s-(s=h._start)),this._tTime=_,this._time=s,this._act=!d,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,$=0),!$&&s&&!n&&!l&&(tb(this,"onStart"),this._tTime!==_))return this;if($<=s&&0<=i)for(a=this._first;a;){if(o=a._next,(a._act||s>=a._start)&&a._ts&&h!==a){if(a.parent!==this)return this.render(i,n,r);if(a.render(0<a._ts?(s-a._start)*a._ts:(a._dirty?a.totalDuration():a._tDur)+(s-a._start)*a._ts,n,r),s!==this._time||!this._ts&&!c){h=0,o&&(_+=this._zTime=-e6);break}}a=o}else{a=this._last;for(var E=i<0?i:s;a;){if(o=a._prev,(a._act||E<=a._end)&&a._ts&&h!==a){if(a.parent!==this)return this.render(i,n,r);if(a.render(0<a._ts?(E-a._start)*a._ts:(a._dirty?a.totalDuration():a._tDur)+(E-a._start)*a._ts,n,r||e8&&(a._initted||a._startAt)),s!==this._time||!this._ts&&!c){h=0,o&&(_+=this._zTime=E?-e6:e6);break}}a=o}}if(h&&!n&&(this.pause(),h.render($<=s?0:-e6)._zTime=$<=s?1:-1,this._ts))return this._start=p,z(this),this.render(i,n,r);this._onUpdate&&!n&&tb(this,"onUpdate",!0),(_===v&&this._tTime>=this.totalDuration()||!_&&$)&&(p!==this._start&&Math.abs(d)===Math.abs(this._ts)||this._lock||((i||!y)&&(_===v&&0<this._ts||!_&&this._ts<0)&&k(this,1),n||i<0&&!$||!_&&!$&&v||(tb(this,_===v&&0<=i?"onComplete":"onReverseComplete",!0),!this._prom||_<v&&0<this.timeScale()||this._prom())))}return this},l.add=function e(i,n){var o=this;if(a(n)||(n=tv(this,n,i)),!(i instanceof tN)){if(e9(i))return i.forEach(function(e){return o.add(e,n)}),this;if(r(i))return this.addLabel(i,n);if(!s(i))return this;i=tW.delayedCall(0,i)}return this!==i?G(this,i,n):this},l.getChildren=function e(i,n,r,s){void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===r&&(r=!0),void 0===s&&(s=-eG);for(var a=[],o=this._first;o;)o._start>=s&&(o instanceof tW?n&&a.push(o):(r&&a.push(o),i&&a.push.apply(a,o.getChildren(!0,n,r)))),o=o._next;return a},l.getById=function e(i){for(var n=this.getChildren(1,1,1),r=n.length;r--;)if(n[r].vars.id===i)return n[r]},l.remove=function e(i){return r(i)?this.removeLabel(i):s(i)?this.killTweensOf(i):(I(this,i),i===this._recent&&(this._recent=this._last),O(this))},l.totalTime=function i(n,r){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=b(tC.time-(0<this._ts?n/this._ts:-((this.totalDuration()-n)/this._ts)))),e.prototype.totalTime.call(this,n,r),this._forcing=0,this):this._tTime},l.addLabel=function e(i,n){return this.labels[i]=tv(this,n),this},l.removeLabel=function e(i){return delete this.labels[i],this},l.addPause=function e(i,n,r){var s=tW.delayedCall(0,n||g,r);return s.data="isPause",this._hasPause=1,G(this,s,tv(this,i))},l.removePause=function e(i){var n=this._first;for(i=tv(this,i);n;)n._start===i&&"isPause"===n.data&&k(n),n=n._next},l.killTweensOf=function e(i,n,r){for(var s=this.getTweensOf(i,r),a=s.length;a--;)t3!==s[a]&&s[a].kill(i,n);return this},l.getTweensOf=function e(i,n){for(var r,s=[],o=t_(i),l=this._first,u=a(n);l;)l instanceof tW?S(l._targets,o)&&(u?(!t3||l._initted&&l._ts)&&l.globalTime(0)<=n&&l.globalTime(l.totalDuration())>n:!n||l.isActive())&&s.push(l):(r=l.getTweensOf(o,n)).length&&s.push.apply(s,r),l=l._next;return s},l.tweenTo=function e(i,n){n=n||{};var r,s=this,a=tv(s,i),o=n.startAt,l=n.onStart,u=n.onStartParams,c=n.immediateRender,h=tW.to(s,D({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:n.duration||Math.abs((a-(o&&"time"in o?o.time:s._time))/s.timeScale())||e6,onStart:function e(){if(s.pause(),!r){var i=n.duration||Math.abs((a-(o&&"time"in o?o.time:s._time))/s.timeScale());h._dur!==i&&X(h,i,0,1).render(h._time,!0,!0),r=1}l&&l.apply(h,u||[])}},n));return c?h.render(0):h},l.tweenFromTo=function e(i,n,r){return this.tweenTo(n,D({startAt:{time:tv(this,i)}},r))},l.recent=function e(){return this._recent},l.nextLabel=function e(i){return void 0===i&&(i=this._time),ea(this,tv(this,i))},l.previousLabel=function e(i){return void 0===i&&(i=this._time),ea(this,tv(this,i),1)},l.currentLabel=function e(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+e6)},l.shiftChildren=function e(i,n,r){void 0===r&&(r=0);for(var s,a=this._first,o=this.labels;a;)a._start>=r&&(a._start+=i,a._end+=i),a=a._next;if(n)for(s in o)o[s]>=r&&(o[s]+=i);return O(this)},l.invalidate=function i(n){var r=this._first;for(this._lock=0;r;)r.invalidate(n),r=r._next;return e.prototype.invalidate.call(this,n)},l.clear=function e(i){void 0===i&&(i=!0);for(var n,r=this._first;r;)n=r._next,this.remove(r),r=n;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),O(this)},l.totalDuration=function e(i){var n,r,s,a=0,o=this,l=o._last,u=eG;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(s=o.parent;l;)n=l._prev,l._dirty&&l.totalDuration(),u<(r=l._start)&&o._sort&&l._ts&&!o._lock?(o._lock=1,G(o,l,r-l._delay,1)._lock=0):u=r,r<0&&l._ts&&(a-=r,(!s&&!o._dp||s&&s.smoothChildTiming)&&(o._start+=r/o._ts,o._time-=r,o._tTime-=r),o.shiftChildren(-r,!1,-1/0),u=0),l._end>a&&l._ts&&(a=l._end),l=n;X(o,o===ex&&o._time>a?o._time:a,1,1),o._dirty=0}return o._tDur},o.updateRoot=function e(i){if(ex._ts&&(T(ex,U(i,ex)),eM=tC.frame),tC.frame>=th){th+=e4.autoSleep||120;var n=ex._first;if((!n||!n._ts)&&e4.autoSleep&&tC._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||tC.sleep()}}},o}(tN);function tz(e,i,n,a,o,u){var c,h,d,p;if(tu[e]&&!1!==(c=new tu[e]).init(o,c.rawVars?i[e]:function e(i,n,a,o,u){if(s(i)&&(i=tG(i,u,n,a,o)),!l(i)||i.style&&i.nodeType||e9(i)||eq(i))return r(i)?tG(i,u,n,a,o):i;var c,h={};for(c in i)h[c]=tG(i[c],u,n,a,o);return h}(i[e],a,o,u,n),n,a,u)&&(n._pt=h=new ii(n._pt,o,e,0,1,c.render,c,0,c.priority),n!==eC))for(d=n._ptLookup[n._targets.indexOf(o)],p=c._props.length;p--;)d[c._props[p]]=h;return c}function tB(e,i,n,r){var s,a,o=i.ease||r||"power1.inOut";if(e9(i))a=n[e]||(n[e]=[]),i.forEach(function(e,n){return a.push({t:n/(i.length-1)*100,v:e,e:o})});else for(s in i)a=n[s]||(n[s]=[]),"ease"===s||a.push({t:parseFloat(e),v:i[s],e:o})}D(tU.prototype,{_lock:0,_hasPause:0,_forcing:0});var t3,t2,t4=function e(i,n,a,o,l,u,c,h,d,f){s(o)&&(o=o(l||0,i,u));var m,g=i[n],$="get"!==a?a:s(g)?d?i[n.indexOf("set")||!s(i["get"+n.substr(3)])?n:"get"+n.substr(3)](d):i[n]():g,v=s(g)?d?tq:tj:tX;if(!r(o)||(~o.indexOf("random(")&&(o=es(o)),"="!==o.charAt(1)||((m=w($,o)+(Z($)||0))||0===m)&&(o=m)),!f||$!==o||t2)return isNaN($*o)||""===o?(g||n in i||p(n,o),(function e(i,n,r,s,a,o,l){var u,c,h,d,p,f,m,g,$=new ii(this._pt,i,n,0,1,tK,null,a),v=0,y=0;for($.b=r,$.e=s,r+="",(m=~(s+="").indexOf("random("))&&(s=es(s)),o&&(o(g=[r,s],i,n),r=g[0],s=g[1]),c=r.match(eJ)||[];u=eJ.exec(s);)d=u[0],p=s.substring(v,u.index),h?h=(h+1)%5:"rgba("===p.substr(-5)&&(h=1),d!==c[y++]&&(f=parseFloat(c[y-1])||0,$._pt={_next:$._pt,p:p||1===y?p:",",s:f,c:"="===d.charAt(1)?w(f,d)-f:parseFloat(d)-f,m:h&&h<4?Math.round:0},v=eJ.lastIndex);return $.c=v<s.length?s.substring(v,s.length):"",$.fp=l,(eQ.test(s)||m)&&($.e=0),this._pt=$}).call(this,i,n,$,o,v,h||e4.stringFilter,d)):(m=new ii(this._pt,i,n,+$||0,o-($||0),"boolean"==typeof g?tZ:tY,0,v),d&&(m.fp=d),c&&m.modifier(c,this,i),this._pt=m)},tH=function e(i,n,r){var s,a,o,l,c,h,d,p,f,m,g,y,_,x=i.vars,b=x.ease,w=x.startAt,S=x.immediateRender,T=x.lazy,M=x.onUpdate,C=x.runBackwards,A=x.yoyoEase,L=x.keyframes,R=x.autoRevert,I=i._dur,O=i._startAt,N=i._targets,F=i.parent,U=F&&"nested"===F.data?F.vars.targets:N,z="auto"===i._overwrite&&!ey,B=i.timeline;if(!B||L&&b||(b="none"),i._ease=tL(b,eH.ease),i._yEase=A?tP(tL(!0===A?b:A,eH.ease)):0,A&&i._yoyo&&!i._repeat&&(A=i._yEase,i._yEase=i._ease,i._ease=A),i._from=!B&&!!x.runBackwards,!B||L&&!x.stagger){if(y=(p=N[0]?v(N[0]).harness:0)&&x[p.prop],s=P(x,ta),O&&(O._zTime<0&&O.progress(1),n<0&&C&&S&&!R?O.render(-1,!0):O.revert(C&&I?tr:tn),O._lazy=0),w){if(k(i._startAt=tW.set(N,D({data:"isStart",overwrite:!1,parent:F,immediateRender:!0,lazy:!O&&u(T),startAt:null,delay:0,onUpdate:M&&function(){return tb(i,"onUpdate")},stagger:0},w))),i._startAt._dp=0,i._startAt._sat=i,n<0&&(e8||!S&&!R)&&i._startAt.revert(tr),S&&I&&n<=0&&r<=0)return void(n&&(i._zTime=n))}else if(C&&I&&!O){if(n&&(S=!1),o=D({overwrite:!1,data:"isFromStart",lazy:S&&!O&&u(T),immediateRender:S,stagger:0,parent:F},s),y&&(o[p.prop]=y),k(i._startAt=tW.set(N,o)),i._startAt._dp=0,i._startAt._sat=i,n<0&&(e8?i._startAt.revert(tr):i._startAt.render(-1,!0)),i._zTime=n,S){if(!n)return}else e(i._startAt,e6,e6)}for(i._pt=i._ptCache=0,T=I&&u(T)||T&&!I,a=0;a<N.length;a++){if(d=(c=N[a])._gsap||$(N)[a]._gsap,i._ptLookup[a]=m={},tl[d.id]&&to.length&&E(),g=U===N?a:U.indexOf(c),p&&!1!==(f=new p).init(c,y||s,i,g,U)&&(i._pt=l=new ii(i._pt,c,f.name,0,1,f.render,f,0,f.priority),f._props.forEach(function(e){m[e]=l}),f.priority&&(h=1)),!p||y)for(o in s)tu[o]&&(f=tz(o,s,i,g,c,U))?f.priority&&(h=1):m[o]=l=t4.call(i,c,o,"get",s[o],g,U,0,x.stringFilter);i._op&&i._op[a]&&i.kill(c,i._op[a]),z&&i._pt&&(t3=i,ex.killTweensOf(c,m,i.globalTime(n)),_=!i.parent,t3=0),i._pt&&T&&(tl[d.id]=1)}h&&it(i),i._onInit&&i._onInit(i)}i._onUpdate=M,i._initted=(!i._op||i._pt)&&!_,L&&n<=0&&B.render(eG,!0,!0)},tG=function e(i,n,a,o,l){return s(i)?i.call(n,a,o,l):r(i)&&~i.indexOf("random(")?es(i):i},t6=tp+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",tV={};_(t6+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return tV[e]=1});var tW=function(e){function s(i,r,s,o){"number"==typeof r&&(s.duration=r,r=s,s=null);var c,d,p,m,g,v,y,_,x,w=(c=e.call(this,o?r:L(r))||this).vars,S=w.duration,E=w.delay,T=w.immediateRender,M=w.stagger,C=w.overwrite,A=w.keyframes,R=w.defaults,I=w.scrollTrigger,k=w.yoyoEase,O=r.parent||ex,N=(e9(i)||eq(i)?a(i[0]):"length"in r)?[i]:t_(i);if(c._targets=N.length?$(N):f("GSAP target "+i+" not found. https://gsap.com",!e4.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=C,A||M||h(S)||h(E)){if(r=c.vars,(d=c.timeline=new tU({data:"nested",defaults:R||{},targets:O&&"nested"===O.data?O.vars.targets:N})).kill(),d.parent=d._dp=n(c),d._start=0,M||h(S)||h(E)){if(g=N.length,_=M&&ee(M),l(M))for(v in M)~t6.indexOf(v)&&((x=x||{})[v]=M[v]);for(p=0;p<g;p++)(m=P(r,tV)).stagger=0,k&&(m.yoyoEase=k),x&&tf(m,x),y=N[p],m.duration=+tG(S,n(c),p,y,N),m.delay=(+tG(E,n(c),p,y,N)||0)-c._delay,!M&&1===g&&m.delay&&(c._delay=E=m.delay,c._start+=E,m.delay=0),d.to(y,m,_?_(p,y,N):0),d._ease=tA.none;d.duration()?S=E=0:c.timeline=0}else if(A){L(D(d.vars.defaults,{ease:"none"})),d._ease=tL(A.ease||r.ease||"none");var F,U,z,B=0;if(e9(A))A.forEach(function(e){return d.to(N,e,">")}),d.duration();else{for(v in m={},A)"ease"===v||"easeEach"===v||tB(v,A[v],m,A.easeEach);for(v in m)for(F=m[v].sort(function(e,i){return e.t-i.t}),p=B=0;p<F.length;p++)(z={ease:(U=F[p]).e,duration:(U.t-(p?F[p-1].t:0))/100*S})[v]=U.v,d.to(N,z,B),B+=z.duration;d.duration()<S&&d.to({},{duration:S-d.duration()})}}S||c.duration(S=d.duration())}else c.timeline=0;return!0!==C||ey||(t3=n(c),ex.killTweensOf(N),t3=0),G(O,n(c),s),r.reversed&&c.reverse(),r.paused&&c.paused(!0),(T||!S&&!A&&c._start===b(O._time)&&u(T)&&function e(i){return!i||i._ts&&e(i.parent)}(n(c))&&"nested"!==O.data)&&(c._tTime=-e6,c.render(Math.max(0,-E)||0)),I&&V(n(c),I),c}i(s,e);var o=s.prototype;return o.render=function e(i,n,r){var s,a,o,l,u,c,h,d,p,f=this._time,m=this._tDur,g=this._dur,$=i<0,v=m-e6<i&&!$?m:i<e6?0:i;if(g){if(v!==this._tTime||!i||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=$){if(s=v,d=this.timeline,this._repeat){if(l=g+this._rDelay,this._repeat<-1&&$)return this.totalTime(100*l+i,n,r);if(s=b(v%l),v===m?(o=this._repeat,s=g):((o=~~(v/l))&&o===b(v/l)&&(s=g,o--),g<s&&(s=g)),(c=this._yoyo&&1&o)&&(p=this._yEase,s=g-s),u=tm(this._tTime,l),s===f&&!r&&this._initted&&o===u)return this._tTime=v,this;o!==u&&(d&&this._yEase&&ef(d,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==l&&this._initted&&(this._lock=r=1,this.render(b(l*o),!0).invalidate()._lock=0))}if(!this._initted){if(W(this,$?i:s,r,n,v))return this._tTime=0,this;if(!(f===this._time||r&&this.vars.repeatRefresh&&o!==u))return this;if(g!==this._dur)return this.render(i,n,r)}if(this._tTime=v,this._time=s,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=h=(p||this._ease)(s/g),this._from&&(this.ratio=h=1-h),s&&!f&&!n&&!o&&(tb(this,"onStart"),this._tTime!==v))return this;for(a=this._pt;a;)a.r(h,a.d),a=a._next;d&&d.render(i<0?i:d._dur*d._ease(s/this._dur),n,r)||this._startAt&&(this._zTime=i),this._onUpdate&&!n&&($&&N(this,i,0,r),tb(this,"onUpdate")),this._repeat&&o!==u&&this.vars.onRepeat&&!n&&this.parent&&tb(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||($&&!this._onUpdate&&N(this,i,0,!0),(i||!g)&&(v===this._tDur&&0<this._ts||!v&&this._ts<0)&&k(this,1),n||$&&!f||!(v||f||c)||(tb(this,v===m?"onComplete":"onReverseComplete",!0),!this._prom||v<m&&0<this.timeScale()||this._prom()))}}else!function e(i,n,r,s){var a,o,l,u=i.ratio,c=n<0||!n&&(!i._start&&function e(i){var n=i.parent;return n&&n._ts&&n._initted&&!n._lock&&(0>n.rawTime()||e(n))}(i)&&(i._initted||!tg(i))||(i._ts<0||i._dp._ts<0)&&!tg(i))?0:1,h=i._rDelay,d=0;if(h&&i._repeat&&(d=ty(0,i._tDur,n),o=tm(d,h),i._yoyo&&1&o&&(c=1-c),o!==tm(i._tTime,h)&&(u=1-c,i.vars.repeatRefresh&&i._initted&&i.invalidate())),c!==u||e8||s||i._zTime===e6||!n&&i._zTime){if(!i._initted&&W(i,n,s,r,d))return;for(l=i._zTime,i._zTime=n||(r?e6:0),r=r||n&&!l,i.ratio=c,i._from&&(c=1-c),i._time=0,i._tTime=d,a=i._pt;a;)a.r(c,a.d),a=a._next;n<0&&N(i,n,0,!0),i._onUpdate&&!r&&tb(i,"onUpdate"),d&&i._repeat&&!r&&i.parent&&tb(i,"onRepeat"),(n>=i._tDur||n<0)&&i.ratio===c&&(c&&k(i,1),r||e8||(tb(i,c?"onComplete":"onReverseComplete",!0),i._prom&&i._prom()))}else i._zTime||(i._zTime=n)}(this,i,n,r);return this},o.targets=function e(){return this._targets},o.invalidate=function i(n){return n&&this.vars.runBackwards||(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(n),e.prototype.invalidate.call(this,n)},o.resetTo=function e(i,n,r,s,a){eD||tC.wake(),this._ts||this.play();var o,l=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||tH(this,l),!function e(i,n,r,s,a,o,l,u){var c,h,d,p,m=(i._pt&&i._ptCache||(i._ptCache={}))[n];if(!m)for(m=i._ptCache[n]=[],d=i._ptLookup,p=i._targets.length;p--;){if((c=d[p][n])&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==n&&c.fp!==n;)c=c._next;if(!c)return t2=1,i.vars[n]="+=0",tH(i,l),t2=0,u?f(n+" not eligible for reset"):1;m.push(c)}for(p=m.length;p--;)(c=(h=m[p])._pt||h).s=!s&&0!==s||a?c.s+(s||0)+o*c.c:s,c.c=r-c.s,h.e&&(h.e=x(r)+Z(h.e)),h.b&&(h.b=c.s+Z(h.b))}(this,i,n,r,s,o=this._ease(l/this._dur),l,a)?(B(this,0),this.parent||R(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0)):this.resetTo(i,n,r,s,1)},o.kill=function e(i,n){if(void 0===n&&(n="all"),!(i||n&&"all"!==n))return this._lazy=this._pt=0,this.parent?eo(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(i,n,t3&&!0!==t3.vars.overwrite)._first||eo(this),this.parent&&s!==this.timeline.totalDuration()&&X(this,this._dur*this.timeline._tDur/s,0,1),this}var a,o,l,u,c,h,d,p=this._targets,f=i?t_(i):p,m=this._ptLookup,g=this._pt;if((!n||"all"===n)&&function e(i,n){for(var r=i.length,s=r===n.length;s&&r--&&i[r]===n[r];);return r<0}(p,f))return"all"===n&&(this._pt=0),eo(this);for(a=this._op=this._op||[],"all"!==n&&(r(n)&&(c={},_(n,function(e){return c[e]=1}),n=c),n=function e(i,n){var r,s,a,o,l=i[0]?v(i[0]).harness:0,u=l&&l.aliases;if(!u)return n;for(s in r=tf({},n),u)if((s in r))for(a=(o=u[s].split(",")).length;a--;)r[o[a]]=r[s];return r}(p,n)),d=p.length;d--;)if(~f.indexOf(p[d]))for(c in o=m[d],"all"===n?(a[d]=n,u=o,l={}):(l=a[d]=a[d]||{},u=n),u)(h=o&&o[c])&&("kill"in h.d&&!0!==h.d.kill(c)||I(this,h,"_pt"),delete o[c]),"all"!==l&&(l[c]=1);return this._initted&&!this._pt&&g&&eo(this),this},s.to=function e(i,n,r){return new s(i,n,r)},s.from=function e(i,n){return q(1,arguments)},s.delayedCall=function e(i,n,r,a){return new s(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:a})},s.fromTo=function e(i,n,r){return q(2,arguments)},s.set=function e(i,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new s(i,n)},s.killTweensOf=function e(i,n,r){return ex.killTweensOf(i,n,r)},s}(tN);function t5(e,i,n){return e.setAttribute(i,n)}function t7(e,i,n,r){r.mSet(e,i,r.m.call(r.tween,n,r.mt),r)}D(tW.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),_("staggerTo,staggerFrom,staggerFromTo",function(e){tW[e]=function(){var i=new tU,n=t8.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),i[e].apply(i,n)}});var tX=function e(i,n,r){return i[n]=r},tj=function e(i,n,r){return i[n](r)},tq=function e(i,n,r,s){return i[n](s.fp,r)},t9=function e(i,n){return s(i[n])?tj:o(i[n])&&i.setAttribute?t5:tX},tY=function e(i,n){return n.set(n.t,n.p,Math.round(1e6*(n.s+n.c*i))/1e6,n)},tZ=function e(i,n){return n.set(n.t,n.p,!!(n.s+n.c*i),n)},tK=function e(i,n){var r=n._pt,s="";if(!i&&n.b)s=n.b;else if(1===i&&n.e)s=n.e;else{for(;r;)s=r.p+(r.m?r.m(r.s+r.c*i):Math.round(1e4*(r.s+r.c*i))/1e4)+s,r=r._next;s+=n.c}n.set(n.t,n.p,s,n)},tJ=function e(i,n){for(var r=n._pt;r;)r.r(i,r.d),r=r._next},tQ=function e(i,n,r,s){for(var a,o=this._pt;o;)a=o._next,o.p===s&&o.modifier(i,n,r),o=a},ie=function e(i){for(var n,r,s=this._pt;s;)r=s._next,(s.p!==i||s.op)&&s.op!==i?s.dep||(n=1):I(this,s,"_pt"),s=r;return!n},it=function e(i){for(var n,r,s,a,o=i._pt;o;){for(n=o._next,r=s;r&&r.pr>o.pr;)r=r._next;(o._prev=r?r._prev:a)?o._prev._next=o:s=o,(o._next=r)?r._prev=o:a=o,o=n}i._pt=s},ii=(ir.prototype.modifier=function e(i,n,r){this.mSet=this.mSet||this.set,this.set=t7,this.m=i,this.mt=r,this.tween=n},ir);function ir(e,i,n,r,s,a,o,l,u){this.t=i,this.s=r,this.c=s,this.p=n,this.r=a||tY,this.d=o||this,this.set=l||tX,this.pr=u||0,(this._next=e)&&(e._prev=this)}function is(e){return(iu[e]||ic).map(function(e){return e()})}function ia(){var e=Date.now(),i=[];2<e-ih&&(is("matchMediaInit"),il.forEach(function(e){var n,r,s,a,o=e.queries,l=e.conditions;for(r in o)(n=eb.matchMedia(o[r]).matches)&&(s=1),n!==l[r]&&(l[r]=n,a=1);a&&(e.revert(),s&&i.push(e))}),is("matchMediaRevert"),i.forEach(function(e){return e.onMatch(e,function(i){return e.add(null,i)})}),ih=e,is("matchMedia"))}_(tp+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return ta[e]=1}),ti.TweenMax=ti.TweenLite=tW,ti.TimelineLite=ti.TimelineMax=tU,ex=new tU({sortChildren:!1,defaults:eH,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),e4.stringFilter=ep;var io,il=[],iu={},ic=[],ih=0,id=0,ip=((io=im.prototype).add=function e(i,n,r){function a(){var e,i=e_,a=o.selector;return i&&i!==o&&i.data.push(o),r&&(o.selector=J(r)),e_=o,e=n.apply(o,arguments),s(e)&&o._r.push(e),e_=i,o.selector=a,o.isReverted=!1,e}s(i)&&(r=n,n=i,i=s);var o=this;return o.last=a,i===s?a(o,function(e){return o.add(null,e)}):i?o[i]=a:a},io.ignore=function e(i){var n=e_;e_=null,i(this),e_=n},io.getTweens=function e(){var i=[];return this.data.forEach(function(e){return e instanceof im?i.push.apply(i,e.getTweens()):e instanceof tW&&!(e.parent&&"nested"===e.parent.data)&&i.push(e)}),i},io.clear=function e(){this._r.length=this.data.length=0},io.kill=function e(i,n){var r=this;if(i?function(){for(var e,n=r.getTweens(),s=r.data.length;s--;)"isFlip"===(e=r.data[s]).data&&(e.revert(),e.getChildren(!0,!0,!1).forEach(function(e){return n.splice(n.indexOf(e),1)}));for(n.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,i){return i.g-e.g||-1/0}).forEach(function(e){return e.t.revert(i)}),s=r.data.length;s--;)(e=r.data[s])instanceof tU?"nested"!==e.data&&(e.scrollTrigger&&e.scrollTrigger.revert(),e.kill()):e instanceof tW||!e.revert||e.revert(i);r._r.forEach(function(e){return e(i,r)}),r.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),n)for(var s=il.length;s--;)il[s].id===this.id&&il.splice(s,1)},io.revert=function e(i){this.kill(i||{})},im);function im(e,i){this.selector=i&&J(i),this.data=[],this._r=[],this.isReverted=!1,this.id=id++,e&&this.add(e)}var ig,i$=((ig=iv.prototype).add=function e(i,n,r){l(i)||(i={matches:i});var s,a,o,u=new ip(0,r||this.scope),c=u.conditions={};for(a in e_&&!u.selector&&(u.selector=e_.selector),this.contexts.push(u),n=u.add("onMatch",n),u.queries=i)"all"===a?o=1:(s=eb.matchMedia(i[a]))&&(0>il.indexOf(u)&&il.push(u),(c[a]=s.matches)&&(o=1),s.addListener?s.addListener(ia):s.addEventListener("change",ia));return o&&n(u,function(e){return u.add(null,e)}),this},ig.revert=function e(i){this.kill(i||{})},ig.kill=function e(i){this.contexts.forEach(function(e){return e.kill(i,!0)})},iv);function iv(e){this.contexts=[],this.scope=e,e_&&e_.data.push(this)}var iy={registerPlugin:function e(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];n.forEach(function(e){return el(e)})},timeline:function e(i){return new tU(i)},getTweensOf:function e(i,n){return ex.getTweensOf(i,n)},getProperty:function e(i,n,s,a){r(i)&&(i=t_(i)[0]);var o=v(i||{}).get,l=s?C:M;return"native"===s&&(s=""),i?n?l((tu[n]&&tu[n].get||o)(i,n,s,a)):function(e,n,r){return l((tu[e]&&tu[e].get||o)(i,e,n,r))}:i},quickSetter:function e(i,n,r){if(1<(i=t_(i)).length){var s=i.map(function(e){return ix.quickSetter(e,n,r)}),a=s.length;return function(e){for(var i=a;i--;)s[i](e)}}i=i[0]||{};var o=tu[n],l=v(i),u=l.harness&&(l.harness.aliases||{})[n]||n,c=o?function(e){var n=new o;eC._pt=0,n.init(i,r?e+r:e,eC,0,[i]),n.render(1,n),eC._pt&&tJ(1,eC)}:l.set(i,u);return o?c:function(e){return c(i,u,r?e+r:e,l,1)}},quickTo:function e(i,n,r){function s(e,i,r){return o.resetTo(n,e,i,r)}var a,o=ix.to(i,tf(((a={})[n]="+=0.1",a.paused=!0,a),r||{}));return s.tween=o,s},isTweening:function e(i){return 0<ex.getTweensOf(i,!0).length},defaults:function e(i){return i&&i.ease&&(i.ease=tL(i.ease,eH.ease)),A(eH,i||{})},config:function e(i){return A(e4,i||{})},registerEffect:function e(i){var n=i.name,r=i.effect,s=i.plugins,a=i.defaults,o=i.extendTimeline;(s||"").split(",").forEach(function(e){return e&&!tu[e]&&!ti[e]&&f(n+" effect requires "+e+" plugin.")}),tc[n]=function(e,i,n){return r(t_(e),D(i||{},a),n)},o&&(tU.prototype[n]=function(e,i,r){return this.add(tc[n](e,l(i)?i:(r=i)&&{},this),r)})},registerEase:function e(i,n){tA[i]=tL(n)},parseEase:function e(i,n){return arguments.length?tL(i,n):tA},getById:function e(i){return ex.getById(i)},exportRoot:function e(i,n){void 0===i&&(i={});var r,s,a=new tU(i);for(a.smoothChildTiming=u(i.smoothChildTiming),ex.remove(a),a._dp=0,a._time=a._tTime=ex._time,r=ex._first;r;)s=r._next,!n&&!r._dur&&r instanceof tW&&r.vars.onComplete===r._targets[0]||G(a,r,r._start-r._delay),r=s;return G(ex,a,0),a},context:function e(i,n){return i?new ip(i,n):e_},matchMedia:function e(i){return new i$(i)},matchMediaRefresh:function e(){return il.forEach(function(e){var i,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,i=1);i&&e.revert()})||ia()},addEventListener:function e(i,n){var r=iu[i]||(iu[i]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function e(i,n){var r=iu[i],s=r&&r.indexOf(n);0<=s&&r.splice(s,1)},utils:{wrap:function e(i,n,r){var s=n-i;return e9(i)?er(i,e(0,i.length),n):Y(r,function(e){return(s+(e-i)%s)%s+i})},wrapYoyo:function e(i,n,r){var s=n-i,a=2*s;return e9(i)?er(i,e(0,i.length-1),n):Y(r,function(e){return i+(s<(e=(a+(e-i)%a)%a||0)?a-e:e)})},distribute:ee,random:en,snap:ei,normalize:function e(i,n,r){return tx(i,n,0,1,r)},getUnit:Z,clamp:function e(i,n,r){return Y(r,function(e){return ty(i,n,e)})},splitColor:ec,toArray:t_,selector:J,mapRange:tx,pipe:function e(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];return function(e){return n.reduce(function(e,i){return i(e)},e)}},unitize:function e(i,n){return function(e){return i(parseFloat(e))+(n||Z(e))}},interpolate:function e(i,n,s,a){var o=isNaN(i+n)?0:function(e){return(1-e)*i+e*n};if(!o){var l,u,c,h,d,p=r(i),f={};if(!0===s&&(a=1)&&(s=null),p)i={p:i},n={p:n};else if(e9(i)&&!e9(n)){for(c=[],d=(h=i.length)-2,u=1;u<h;u++)c.push(e(i[u-1],i[u]));h--,o=function e(i){var n=Math.min(d,~~(i*=h));return c[n](i-n)},s=n}else a||(i=tf(e9(i)?[]:{},i));if(!c){for(l in n)t4.call(f,i,l,"get",n[l]);o=function e(n){return tJ(n,f)||(p?i.p:i)}}}return Y(s,o)},shuffle:Q},install:d,effects:tc,ticker:tC,updateRoot:tU.updateRoot,plugins:tu,globalTimeline:ex,core:{PropTween:ii,globals:m,Tween:tW,Timeline:tU,Animation:tN,getCache:v,_removeLinkedListItem:I,reverting:function e(){return e8},context:function e(i){return i&&e_&&(e_.data.push(i),i._ctx=e_),e_},suppressOverwrites:function e(i){return ey=i}}};function i8(e,i){for(var n=e._pt;n&&n.p!==i&&n.op!==i&&n.fp!==i;)n=n._next;return n}function i_(e,i){return{name:e,rawVars:1,init:function e(n,s,a){a._onInit=function(e){var n,a;if(r(s)&&(n={},_(s,function(e){return n[e]=1}),s=n),i){for(a in n={},s)n[a]=i(s[a]);s=n}!function e(i,n){var r,s,a,o=i._targets;for(r in n)for(s=o.length;s--;)(a=(a=i._ptLookup[s][r])&&a.d)&&(a._pt&&(a=i8(a,r)),a&&a.modifier&&a.modifier(n[r],i,o[s],r))}(e,s)}}}}_("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return iy[e]=tW[e]}),tC.add(tU.updateRoot),eC=iy.to({},{duration:0});var ix=iy.registerPlugin({name:"attr",init:function e(i,n,r,s,a){var o,l,u;for(o in this.tween=r,n)u=i.getAttribute(o)||"",(l=this.add(i,"setAttribute",(u||0)+"",n[o],s,a,0,0,o)).op=o,l.b=u,this._props.push(o)},render:function e(i,n){for(var r=n._pt;r;)e8?r.set(r.t,r.p,r.b,r):r.r(i,r.d),r=r._next}},{name:"endArray",init:function e(i,n){for(var r=n.length;r--;)this.add(i,r,i[r]||0,n[r],0,0,0,0,0,1)}},i_("roundProps",et),i_("modifiers"),i_("snap",ei))||iy;function ib(e,i){return i.set(i.t,i.p,Math.round(1e4*(i.s+i.c*e))/1e4+i.u,i)}function iw(e,i){return i.set(i.t,i.p,1===e?i.e:Math.round(1e4*(i.s+i.c*e))/1e4+i.u,i)}function iS(e,i){return i.set(i.t,i.p,e?Math.round(1e4*(i.s+i.c*e))/1e4+i.u:i.b,i)}function iE(e,i){var n=i.s+i.c*e;i.set(i.t,i.p,~~(n+(n<0?-.5:.5))+i.u,i)}function iT(e,i){return i.set(i.t,i.p,e?i.e:i.b,i)}function iM(e,i){return i.set(i.t,i.p,1!==e?i.b:i.e,i)}function iC(e,i,n){return e.style[i]=n}function iD(e,i,n){return e.style.setProperty(i,n)}function iA(e,i,n){return e._gsap[i]=n}function i0(e,i,n){return e._gsap.scaleX=e._gsap.scaleY=n}function i1(e,i,n,r,s){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(s,a)}function iP(e,i,n,r,s){var a=e._gsap;a[i]=n,a.renderTransform(s,a)}function iL(e,i){var n=this,r=this.target,s=r.style,a=r._gsap;if(e in nx&&s){if(this.tfm=this.tfm||{},"transform"===e)return nC.transform.split(",").forEach(function(e){return iL.call(n,e,i)});if(~(e=nC[e]||e).indexOf(",")?e.split(",").forEach(function(e){return n.tfm[e]=nR(r,e)}):this.tfm[e]=a.x?a[e]:nR(r,e),e===nA&&(this.tfm.zOrigin=a.zOrigin),0<=this.props.indexOf(nD))return;a.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(nA,i,"")),e=nD}(s||i)&&this.props.push(e,i,s[e])}function iR(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))}function iI(){var e,i,n=this.props,r=this.target,s=r.style,a=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?s[n[e]]=n[e+2]:s.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(nE,"-$1").toLowerCase());if(this.tfm){for(i in this.tfm)a[i]=this.tfm[i];a.svg&&(a.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=ni())&&e.isStart||s[nD]||(iR(s),a.zOrigin&&s[nA]&&(s[nA]+=" "+a.zOrigin+"px",a.zOrigin=0,a.renderTransform()),a.uncache=1)}}function ik(e,i){var n={target:e,props:[],revert:iI,save:iL};return e._gsap||ix.core.getCache(e),i&&i.split(",").forEach(function(e){return n.save(e)}),n}function iO(e,i){var n=iK.createElementNS?iK.createElementNS((i||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):iK.createElement(e);return n&&n.style?n:iK.createElement(e)}function iN(e,i,n){var r=getComputedStyle(e);return r[i]||r.getPropertyValue(i.replace(nE,"-$1").toLowerCase())||r.getPropertyValue(i)||!n&&iN(e,n1(i)||i,1)||""}function iF(){"undefined"!=typeof window&&window.document&&(iJ=(iK=(iZ=window).document).documentElement,ne=iO("div")||{style:{}},iO("div"),nA=(nD=n1(nD))+"Origin",ne.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",nn=!!n1("perspective"),ni=ix.core.reverting,iQ=1)}function iU(e){var i,n=iO("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,s=this.nextSibling,a=this.style.cssText;if(iJ.appendChild(n),n.appendChild(this),this.style.display="block",e)try{i=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=iU}catch(o){}else this._gsapBBox&&(i=this._gsapBBox());return r&&(s?r.insertBefore(this,s):r.appendChild(this)),iJ.removeChild(n),this.style.cssText=a,i}function iz(e,i){for(var n=i.length;n--;)if(e.hasAttribute(i[n]))return e.getAttribute(i[n])}function iB(e){var i;try{i=e.getBBox()}catch(n){i=iU.call(e,!0)}return i&&(i.width||i.height)||e.getBBox===iU||(i=iU.call(e,!0)),!i||i.width||i.x||i.y?i:{x:+iz(e,["x","cx","x1"])||0,y:+iz(e,["y","cy","y1"])||0,width:0,height:0}}function i3(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!iB(e))}function i2(e,i){if(i){var n,r=e.style;i in nx&&i!==nA&&(i=nD),r.removeProperty?("ms"!==(n=i.substr(0,2))&&"webkit"!==i.substr(0,6)||(i="-"+i),r.removeProperty("--"===n?i:i.replace(nE,"-$1").toLowerCase())):r.removeAttribute(i)}}function i4(e,i,n,r,s,a){var o=new ii(e._pt,i,n,0,1,a?iM:iT);return(e._pt=o).b=r,o.e=s,e._props.push(n),o}function iH(e,i,n,r){var s,a,o,l,u=parseFloat(n)||0,c=(n+"").trim().substr((u+"").length)||"px",h=ne.style,d=nT.test(i),p="svg"===e.tagName.toLowerCase(),f=(p?"client":"offset")+(d?"Width":"Height"),m="px"===r,g="%"===r;if(r===c||!u||nP[r]||nP[c])return u;if("px"===c||m||(u=iH(e,i,n,"px")),l=e.getCTM&&i3(e),(g||"%"===c)&&(nx[i]||~i.indexOf("adius")))return s=l?e.getBBox()[d?"width":"height"]:e[f],x(g?u/s*100:u/100*s);if(h[d?"width":"height"]=100+(m?c:r),a=~i.indexOf("adius")||"em"===r&&e.appendChild&&!p?e:e.parentNode,l&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==iK&&a.appendChild||(a=iK.body),(o=a._gsap)&&g&&o.width&&d&&o.time===tC.time&&!o.uncache)return x(u/o.width*100);if(g&&("height"===i||"width"===i)){var $=e.style[i];e.style[i]=100+r,s=e[f],$?e.style[i]=$:i2(e,i)}else!g&&"%"!==c||nL[iN(a,"display")]||(h.position=iN(e,"position")),a===e&&(h.position="static"),a.appendChild(ne),s=ne[f],a.removeChild(ne),h.position="absolute";return d&&g&&((o=v(a)).time=tC.time,o.width=a[f]),x(m?s*u/100:s&&u?100/s*u:0)}function iG(e,i,n,r){if(!n||"none"===n){var s=n1(i,e,1),a=s&&iN(e,s,1);a&&a!==n?(i=s,n=a):"borderColor"===i&&(n=iN(e,"borderTopColor"))}var o,l,u,c,h,d,p,f,m,g,$,v=new ii(this._pt,e.style,i,0,1,tK),y=0,_=0;if(v.b=n,v.e=r,n+="","auto"==(r+="")&&(d=e.style[i],e.style[i]=r,r=iN(e,i)||r,d?e.style[i]=d:i2(e,i)),ep(o=[n,r]),r=o[1],u=(n=o[0]).match(eK)||[],(r.match(eK)||[]).length){for(;l=eK.exec(r);)p=l[0],m=r.substring(y,l.index),h?h=(h+1)%5:"rgba("!==m.substr(-5)&&"hsla("!==m.substr(-5)||(h=1),p!==(d=u[_++]||"")&&(c=parseFloat(d)||0,$=d.substr((c+"").length),"="===p.charAt(1)&&(p=w(c,p)+$),f=parseFloat(p),g=p.substr((f+"").length),y=eK.lastIndex-g.length,g||(g=g||e4.units[i]||$,y===r.length&&(r+=g,v.e+=g)),$!==g&&(c=iH(e,i,d,g)||0),v._pt={_next:v._pt,p:m||1===_?m:",",s:c,c:f-c,m:h&&h<4||"zIndex"===i?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===i&&"none"===r?iM:iT;return eQ.test(r)&&(v.e=0),this._pt=v}function i6(e){var i=e.split(" "),n=i[0],r=i[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),i[0]=nI[n]||n,i[1]=nI[r]||r,i.join(" ")}function iV(e,i){if(i.tween&&i.tween._time===i.tween._dur){var n,r,s,a=i.t,o=a.style,l=i.u,u=a._gsap;if("all"===l||!0===l)o.cssText="",r=1;else for(s=(l=l.split(",")).length;-1<--s;)nx[n=l[s]]&&(r=1,n="transformOrigin"===n?nA:nD),i2(a,n);r&&(i2(a,nD),u&&(u.svg&&a.removeAttribute("transform"),nF(a,1),u.uncache=1,iR(o)))}}function iW(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e}function i5(e){var i=iN(e,nD);return iW(i)?nO:i.substr(7).match(eZ).map(x)}function i7(e,i){var n,r,s,a,o=e._gsap||v(e),l=e.style,u=i5(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(u=[(s=e.transform.baseVal.consolidate().matrix).a,s.b,s.c,s.d,s.e,s.f]).join(",")?nO:u:(u!==nO||e.offsetParent||e===iJ||o.svg||(s=l.display,l.display="block",(n=e.parentNode)&&e.offsetParent||(a=1,r=e.nextElementSibling,iJ.appendChild(e)),u=i5(e),s?l.display=s:i2(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):iJ.removeChild(e))),i&&6<u.length?[u[0],u[1],u[4],u[5],u[12],u[13]]:u)}function iX(e,i,n,r,s,a){var o,l,u,c=e._gsap,h=s||i7(e,!0),d=c.xOrigin||0,p=c.yOrigin||0,f=c.xOffset||0,m=c.yOffset||0,g=h[0],$=h[1],v=h[2],y=h[3],_=h[4],x=h[5],b=i.split(" "),w=parseFloat(b[0])||0,S=parseFloat(b[1])||0;n?h!==nO&&(l=g*y-$*v)&&(u=w*(-$/l)+S*(g/l)-(g*x-$*_)/l,w=w*(y/l)+S*(-v/l)+(v*x-y*_)/l,S=u):(w=(o=iB(e)).x+(~b[0].indexOf("%")?w/100*o.width:w),S=o.y+(~(b[1]||b[0]).indexOf("%")?S/100*o.height:S)),r||!1!==r&&c.smooth?(_=w-d,x=S-p,c.xOffset=f+(_*g+x*v)-_,c.yOffset=m+(_*$+x*y)-x):c.xOffset=c.yOffset=0,c.xOrigin=w,c.yOrigin=S,c.smooth=!!r,c.origin=i,c.originIsAbsolute=!!n,e.style[nA]="0px 0px",a&&(i4(a,c,"xOrigin",d,w),i4(a,c,"yOrigin",p,S),i4(a,c,"xOffset",f,c.xOffset),i4(a,c,"yOffset",m,c.yOffset)),e.setAttribute("data-svg-origin",w+" "+S)}function ij(e,i,n){var r=Z(i);return x(parseFloat(i)+parseFloat(iH(e,"x",n+"px",r)))+r}function iq(e,i,n,s,a){var o,l,u=r(a),c=parseFloat(a)*(u&&~a.indexOf("rad")?nb:1)-s,h=s+c+"deg";return u&&("short"===(o=a.split("_")[1])&&(c%=360)!=c%180&&(c+=c<0?360:-360),"cw"===o&&c<0?c=(c+36e9)%360-360*~~(c/360):"ccw"===o&&0<c&&(c=(c-36e9)%360-360*~~(c/360))),e._pt=l=new ii(e._pt,i,n,s,c,iw),l.e=h,l.u="deg",e._props.push(n),l}function i9(e,i){for(var n in i)e[n]=i[n];return e}function iY(e,i,n){var r,s,a,o,l,u,c,h=i9({},n._gsap),d=n.style;for(s in h.svg?(a=n.getAttribute("transform"),n.setAttribute("transform",""),d[nD]=i,r=nF(n,1),i2(n,nD),n.setAttribute("transform",a)):(a=getComputedStyle(n)[nD],d[nD]=i,r=nF(n,1),d[nD]=a),nx)(a=h[s])!==(o=r[s])&&0>"perspective,force3D,transformOrigin,svgOrigin".indexOf(s)&&(l=Z(a)!==(c=Z(o))?iH(n,s,a,c):parseFloat(a),u=parseFloat(o),e._pt=new ii(e._pt,r,s,l,u-l,ib),e._pt.u=c||0,e._props.push(s));i9(r,h)}tW.version=tU.version=ix.version="3.12.5",eT=1,c()&&tD();var iZ,iK,iJ,iQ,ne,nt,ni,nn,nr=tA.Power0,ns=tA.Power1,na=tA.Power2,no=tA.Power3,nl=tA.Power4,nu=tA.Linear,nc=tA.Quad,nh=tA.Cubic,nd=tA.Quart,np=tA.Quint,nf=tA.Strong,nm=tA.Elastic,ng=tA.Back,n$=tA.SteppedEase,nv=tA.Bounce,ny=tA.Sine,n8=tA.Expo,n_=tA.Circ,nx={},nb=180/Math.PI,nw=Math.PI/180,nS=Math.atan2,nE=/([A-Z])/g,nT=/(left|right|width|margin|padding|x)/i,nM=/[\s,\(]\S/,nC={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},nD="transform",nA=nD+"Origin",n0="O,Moz,ms,Ms,Webkit".split(","),n1=function e(i,n,r){var s=(n||ne).style,a=5;if(i in s&&!r)return i;for(i=i.charAt(0).toUpperCase()+i.substr(1);a--&&!(n0[a]+i in s););return a<0?null:(3===a?"ms":0<=a?n0[a]:"")+i},nP={deg:1,rad:1,turn:1},nL={grid:1,flex:1},nR=function e(i,n,r,s){var a;return iQ||iF(),n in nC&&"transform"!==n&&~(n=nC[n]).indexOf(",")&&(n=n.split(",")[0]),nx[n]&&"transform"!==n?(a=nF(i,s),a="transformOrigin"!==n?a[n]:a.svg?a.origin:nU(iN(i,nA))+" "+a.zOrigin+"px"):(a=i.style[n])&&"auto"!==a&&!s&&!~(a+"").indexOf("calc(")||(a=nk[n]&&nk[n](i,n,r)||iN(i,n)||y(i,n)||("opacity"===n?1:0)),r&&!~(a+"").trim().indexOf(" ")?iH(i,n,a,r)+r:a},nI={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},nk={clearProps:function e(i,n,r,s,a){if("isFromStart"!==a.data){var o=i._pt=new ii(i._pt,n,r,0,0,iV);return o.u=s,o.pr=-10,o.tween=a,i._props.push(r),1}}},nO=[1,0,0,1,0,0],nN={},nF=function e(i,n){var r=i._gsap||new tO(i);if("x"in r&&!n&&!r.uncache)return r;var s,a,o,l,u,c,h,d,p,f,m,g,$,v,y,_,b,w,S,E,T,M,C,D,A,P,L,R,I,k,O,N,F=i.style,U=r.scaleX<0,z=getComputedStyle(i),B=iN(i,nA)||"0";return s=a=o=c=h=d=p=f=m=0,l=u=1,r.svg=!(!i.getCTM||!i3(i)),z.translate&&("none"===z.translate&&"none"===z.scale&&"none"===z.rotate||(F[nD]=("none"!==z.translate?"translate3d("+(z.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==z.rotate?"rotate("+z.rotate+") ":"")+("none"!==z.scale?"scale("+z.scale.split(" ").join(",")+") ":"")+("none"!==z[nD]?z[nD]:"")),F.scale=F.rotate=F.translate="none"),v=i7(i,r.svg),r.svg&&(D=r.uncache?(A=i.getBBox(),B=r.xOrigin-A.x+"px "+(r.yOrigin-A.y)+"px",""):!n&&i.getAttribute("data-svg-origin"),iX(i,D||B,!!D||r.originIsAbsolute,!1!==r.smooth,v)),g=r.xOrigin||0,$=r.yOrigin||0,v!==nO&&(w=v[0],S=v[1],E=v[2],T=v[3],s=M=v[4],a=C=v[5],6===v.length?(l=Math.sqrt(w*w+S*S),u=Math.sqrt(T*T+E*E),c=w||S?nS(S,w)*nb:0,(p=E||T?nS(E,T)*nb+c:0)&&(u*=Math.abs(Math.cos(p*nw))),r.svg&&(s-=g-(g*w+$*E),a-=$-(g*S+$*T))):(N=v[6],k=v[7],L=v[8],R=v[9],I=v[10],O=v[11],s=v[12],a=v[13],o=v[14],h=(y=nS(N,I))*nb,y&&(D=M*(_=Math.cos(-y))+L*(b=Math.sin(-y)),A=C*_+R*b,P=N*_+I*b,L=-(M*b)+L*_,R=-(C*b)+R*_,I=-(N*b)+I*_,O=-(k*b)+O*_,M=D,C=A,N=P),d=(y=nS(-E,I))*nb,y&&(_=Math.cos(-y),O=T*(b=Math.sin(-y))+O*_,w=D=w*_-L*b,S=A=S*_-R*b,E=P=E*_-I*b),c=(y=nS(S,w))*nb,y&&(D=w*(_=Math.cos(y))+S*(b=Math.sin(y)),A=M*_+C*b,S=S*_-w*b,C=C*_-M*b,w=D,M=A),h&&359.9<Math.abs(h)+Math.abs(c)&&(h=c=0,d=180-d),l=x(Math.sqrt(w*w+S*S+E*E)),u=x(Math.sqrt(C*C+N*N)),p=2e-4<Math.abs(y=nS(M,C))?y*nb:0,m=O?1/(O<0?-O:O):0),r.svg&&(D=i.getAttribute("transform"),r.forceCSS=i.setAttribute("transform","")||!iW(iN(i,nD)),D&&i.setAttribute("transform",D))),90<Math.abs(p)&&270>Math.abs(p)&&(U?(l*=-1,p+=c<=0?180:-180,c+=c<=0?180:-180):(u*=-1,p+=p<=0?180:-180)),n=n||r.uncache,r.x=s-((r.xPercent=s&&(!n&&r.xPercent||(Math.round(i.offsetWidth/2)===Math.round(-s)?-50:0)))?i.offsetWidth*r.xPercent/100:0)+"px",r.y=a-((r.yPercent=a&&(!n&&r.yPercent||(Math.round(i.offsetHeight/2)===Math.round(-a)?-50:0)))?i.offsetHeight*r.yPercent/100:0)+"px",r.z=o+"px",r.scaleX=x(l),r.scaleY=x(u),r.rotation=x(c)+"deg",r.rotationX=x(h)+"deg",r.rotationY=x(d)+"deg",r.skewX=p+"deg",r.skewY=f+"deg",r.transformPerspective=m+"px",(r.zOrigin=parseFloat(B.split(" ")[2])||!n&&r.zOrigin||0)&&(F[nA]=nU(B)),r.xOffset=r.yOffset=0,r.force3D=e4.force3D,r.renderTransform=r.svg?n2:nn?n3:nz,r.uncache=0,r},nU=function e(i){return(i=i.split(" "))[0]+" "+i[1]},nz=function e(i,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,n3(i,n)},nB="0deg",n3=function e(i,n){var r=n||this,s=r.xPercent,a=r.yPercent,o=r.x,l=r.y,u=r.z,c=r.rotation,h=r.rotationY,d=r.rotationX,p=r.skewX,f=r.skewY,m=r.scaleX,g=r.scaleY,$=r.transformPerspective,v=r.force3D,y=r.target,_=r.zOrigin,x="",b="auto"===v&&i&&1!==i||!0===v;if(_&&(d!==nB||h!==nB)){var w,S=parseFloat(h)*nw,E=Math.sin(S),T=Math.cos(S);w=Math.cos(S=parseFloat(d)*nw),o=ij(y,o,-(E*w*_)),l=ij(y,l,-(-Math.sin(S)*_)),u=ij(y,u,-(T*w*_)+_)}"0px"!==$&&(x+="perspective("+$+") "),(s||a)&&(x+="translate("+s+"%, "+a+"%) "),(b||"0px"!==o||"0px"!==l||"0px"!==u)&&(x+="0px"!==u||b?"translate3d("+o+", "+l+", "+u+") ":"translate("+o+", "+l+") "),c!==nB&&(x+="rotate("+c+") "),h!==nB&&(x+="rotateY("+h+") "),d!==nB&&(x+="rotateX("+d+") "),p===nB&&f===nB||(x+="skew("+p+", "+f+") "),1===m&&1===g||(x+="scale("+m+", "+g+") "),y.style[nD]=x||"translate(0, 0)"},n2=function e(i,n){var r,s,a,o,l,u=n||this,c=u.xPercent,h=u.yPercent,d=u.x,p=u.y,f=u.rotation,m=u.skewX,g=u.skewY,$=u.scaleX,v=u.scaleY,y=u.target,_=u.xOrigin,b=u.yOrigin,w=u.xOffset,S=u.yOffset,E=u.forceCSS,T=parseFloat(d),M=parseFloat(p);f=parseFloat(f),m=parseFloat(m),(g=parseFloat(g))&&(m+=g=parseFloat(g),f+=g),f||m?(f*=nw,m*=nw,r=Math.cos(f)*$,s=Math.sin(f)*$,a=-(Math.sin(f-m)*v),o=Math.cos(f-m)*v,m&&(g*=nw,a*=l=Math.sqrt(1+(l=Math.tan(m-g))*l),o*=l,g&&(r*=l=Math.sqrt(1+(l=Math.tan(g))*l),s*=l)),r=x(r),s=x(s),a=x(a),o=x(o)):(r=$,o=v,s=a=0),(T&&!~(d+"").indexOf("px")||M&&!~(p+"").indexOf("px"))&&(T=iH(y,"x",d,"px"),M=iH(y,"y",p,"px")),(_||b||w||S)&&(T=x(T+_-(_*r+b*a)+w),M=x(M+b-(_*s+b*o)+S)),(c||h)&&(T=x(T+c/100*(l=y.getBBox()).width),M=x(M+h/100*l.height)),l="matrix("+r+","+s+","+a+","+o+","+T+","+M+")",y.setAttribute("transform",l),E&&(y.style[nD]=l)};_("padding,margin,Width,Radius",function(e,i){var n="Right",r="Bottom",s="Left",a=(i<3?["Top",n,r,s]:["Top"+s,"Top"+n,r+n,r+s]).map(function(n){return i<2?e+n:"border"+n+e});nk[1<i?"border"+e:e]=function(e,i,n,r,s){var o,l;if(arguments.length<4)return 5===(l=(o=a.map(function(i){return nR(e,i,n)})).join(" ")).split(o[0]).length?o[0]:l;o=(r+"").split(" "),l={},a.forEach(function(e,i){return l[e]=o[i]=o[i]||o[(i-1)/2|0]}),e.init(i,l,s)}});var n4,nH,nG,n6={name:"css",register:iF,targetTest:function e(i){return i.style&&i.nodeType},init:function e(i,n,s,a,o){var l,u,c,h,d,f,m,g,$,v,y,_,x,b,S,E,T=this._props,M=i.style,C=s.vars.startAt;for(m in iQ||iF(),this.styles=this.styles||ik(i),E=this.styles.props,this.tween=s,n)if("autoRound"!==m&&(u=n[m],!tu[m]||!tz(m,n,s,a,i,o))){if(d=typeof u,f=nk[m],"function"===d&&(d=typeof(u=u.call(s,a,i,o))),"string"===d&&~u.indexOf("random(")&&(u=es(u)),f)f(this,i,m,u,s)&&(S=1);else if("--"===m.substr(0,2))l=(getComputedStyle(i).getPropertyValue(m)+"").trim(),u+="",tT.lastIndex=0,tT.test(l)||(g=Z(l),$=Z(u)),$?g!==$&&(l=iH(i,m,l,$)+$):g&&(u+=g),this.add(M,"setProperty",l,u,a,o,0,0,m),T.push(m),E.push(m,0,M[m]);else if("undefined"!==d){if(C&&m in C?(r(l="function"==typeof C[m]?C[m].call(s,a,i,o):C[m])&&~l.indexOf("random(")&&(l=es(l)),Z(l+"")||"auto"===l||(l+=e4.units[m]||Z(nR(i,m))||""),"="===(l+"").charAt(1)&&(l=nR(i,m))):l=nR(i,m),h=parseFloat(l),(v="string"===d&&"="===u.charAt(1)&&u.substr(0,2))&&(u=u.substr(2)),c=parseFloat(u),m in nC&&("autoAlpha"===m&&(1===h&&"hidden"===nR(i,"visibility")&&c&&(h=0),E.push("visibility",0,M.visibility),i4(this,M,"visibility",h?"inherit":"hidden",c?"inherit":"hidden",!c)),"scale"!==m&&"transform"!==m&&~(m=nC[m]).indexOf(",")&&(m=m.split(",")[0])),y=m in nx){if(this.styles.save(m),_||((x=i._gsap).renderTransform&&!n.parseTransform||nF(i,n.parseTransform),b=!1!==n.smoothOrigin&&x.smooth,(_=this._pt=new ii(this._pt,M,nD,0,1,x.renderTransform,x,0,-1)).dep=1),"scale"===m)this._pt=new ii(this._pt,x,"scaleY",x.scaleY,(v?w(x.scaleY,v+c):c)-x.scaleY||0,ib),this._pt.u=0,T.push("scaleY",m),m+="X";else{if("transformOrigin"===m){E.push(nA,0,M[nA]),u=i6(u),x.svg?iX(i,u,0,b,0,this):(($=parseFloat(u.split(" ")[2])||0)!==x.zOrigin&&i4(this,x,"zOrigin",x.zOrigin,$),i4(this,M,m,nU(l),nU(u)));continue}if("svgOrigin"===m){iX(i,u,1,b,0,this);continue}if(m in nN){iq(this,x,m,h,v?w(h,v+u):u);continue}if("smoothOrigin"===m){i4(this,x,"smooth",x.smooth,u);continue}if("force3D"===m){x[m]=u;continue}if("transform"===m){iY(this,u,i);continue}}}else m in M||(m=n1(m)||m);if(y||(c||0===c)&&(h||0===h)&&!nM.test(u)&&m in M)c=c||0,(g=(l+"").substr((h+"").length))!==($=Z(u)||(m in e4.units?e4.units[m]:g))&&(h=iH(i,m,l,$)),this._pt=new ii(this._pt,y?x:M,m,h,(v?w(h,v+c):c)-h,y||"px"!==$&&"zIndex"!==m||!1===n.autoRound?ib:iE),this._pt.u=$||0,g!==$&&"%"!==$&&(this._pt.b=l,this._pt.r=iS);else if(m in M)iG.call(this,i,m,l,v?v+u:u);else if(m in i)this.add(i,m,l||i[m],v?v+u:u,a,o);else if("parseTransform"!==m){p(m,u);continue}y||(m in M?E.push(m,0,M[m]):E.push(m,1,l||i[m])),T.push(m)}}S&&it(this)},render:function e(i,n){if(n.tween._time||!ni())for(var r=n._pt;r;)r.r(i,r.d),r=r._next;else n.styles.revert()},get:nR,aliases:nC,getSetter:function e(i,n,r){var s=nC[n];return s&&0>s.indexOf(",")&&(n=s),n in nx&&n!==nA&&(i._gsap.x||nR(i,"x"))?r&&nt===r?"scale"===n?i0:iA:(nt=r||{},"scale"===n?i1:iP):i.style&&!o(i.style[n])?iC:~n.indexOf("-")?iD:t9(i,n)},core:{_removeProperty:i2,_getMatrix:i7}};ix.utils.checkPrefix=n1,ix.core.getStyleSaver=ik,nG=_((n4="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(nH="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){nx[e]=1}),_(nH,function(e){e4.units[e]="deg",nN[e]=1}),nC[nG[13]]=n4+","+nH,_("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var i=e.split(":");nC[i[1]]=nG[i[0]]}),_("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){e4.units[e]="px"}),ix.registerPlugin(n6);var nV=ix.registerPlugin(n6)||ix,nW=nV.core.Tween;e.Back=ng,e.Bounce=nv,e.CSSPlugin=n6,e.Circ=n_,e.Cubic=nh,e.Elastic=nm,e.Expo=n8,e.Linear=nu,e.Power0=nr,e.Power1=ns,e.Power2=na,e.Power3=no,e.Power4=nl,e.Quad=nc,e.Quart=nd,e.Quint=np,e.Sine=ny,e.SteppedEase=n$,e.Strong=nf,e.TimelineLite=tU,e.TimelineMax=tU,e.TweenLite=tW,e.TweenMax=nW,e.default=nV,e.gsap=nV,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default}),function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e=e||self).window=e.window||{})}(this,function(e){"use strict";var i=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function n(e){return g.getComputedStyle(e)}function r(e,i){var n;return x(e)?e:"string"==(n=typeof e)&&!i&&e?b.call(m.querySelectorAll(e),0):e&&"object"==n&&"length"in e?b.call(e,0):e?[e]:[]}function s(e){return"absolute"===e.position||!0===e.absolute}function a(e,i){for(var n,r=i.length;-1<--r;)if(n=i[r],e.substr(0,n.length)===n)return n.length}function o(e,i){void 0===e&&(e="");var n=~e.indexOf("++"),r=1;return n&&(e=e.split("++").join("")),function(){return"<"+i+" style='position:relative;display:inline-block;'"+(e?" class='"+e+(n?r++:"")+"'>":">")}}function l(e,i,n){var r=e.nodeType;if(1===r||9===r||11===r)for(e=e.firstChild;e;e=e.nextSibling)l(e,i,n);else 3!==r&&4!==r||(e.nodeValue=e.nodeValue.split(i).join(n))}function u(e,i){for(var n=i.length;-1<--n;)e.push(i[n])}function c(e,i,n){for(var r;e&&e!==i;){if(r=e._next||e.nextSibling)return r.textContent.charAt(0)===n;e=e.parentNode||e._parent}}function h(e){var i,n,s=r(e.childNodes),a=s.length;for(i=0;i<a;i++)(n=s[i])._isSplit?h(n):i&&n.previousSibling&&3===n.previousSibling.nodeType?(n.previousSibling.nodeValue+=3===n.nodeType?n.nodeValue:n.firstChild.nodeValue,e.removeChild(n)):3!==n.nodeType&&(e.insertBefore(n.firstChild,n),e.removeChild(n))}function d(e,i){return parseFloat(i[e])||0}function p(e,i,r,a,o,p,f){var g,$,v,y,_,x,b,w,S,E,T,M,C=n(e),D=d("paddingLeft",C),A=-999,P=d("borderBottomWidth",C)+d("borderTopWidth",C),L=d("borderLeftWidth",C)+d("borderRightWidth",C),R=d("paddingTop",C)+d("paddingBottom",C),I=d("paddingLeft",C)+d("paddingRight",C),k=d("fontSize",C)*(i.lineThreshold||.2),O=C.textAlign,N=[],F=[],U=[],z=i.wordDelimiter||" ",B=i.tag?i.tag:i.span?"span":"div",H=i.type||i.split||"chars,words,lines",G=o&&~H.indexOf("lines")?[]:null,V=~H.indexOf("words"),W=~H.indexOf("chars"),X=s(i),j=i.linesClass,q=~(j||"").indexOf("++"),Y=[],Z="flex"===C.display,K=e.style.display;for(q&&(j=j.split("++").join("")),Z&&(e.style.display="block"),v=($=e.getElementsByTagName("*")).length,_=[],g=0;g<v;g++)_[g]=$[g];if(G||X)for(g=0;g<v;g++)((x=(y=_[g]).parentNode===e)||X||W&&!V)&&(M=y.offsetTop,G&&x&&Math.abs(M-A)>k&&("BR"!==y.nodeName||0===g)&&(b=[],G.push(b),A=M),X&&(y._x=y.offsetLeft,y._y=M,y._w=y.offsetWidth,y._h=y.offsetHeight),G&&((y._isSplit&&x||!W&&x||V&&x||!V&&y.parentNode.parentNode===e&&!y.parentNode._isSplit)&&(b.push(y),y._x-=D,c(y,e,z)&&(y._wordEnd=!0)),"BR"===y.nodeName&&(y.nextSibling&&"BR"===y.nextSibling.nodeName||0===g)&&G.push([])));for(g=0;g<v;g++)if(x=(y=_[g]).parentNode===e,"BR"!==y.nodeName){if(X&&(S=y.style,V||x||(y._x+=y.parentNode._x,y._y+=y.parentNode._y),S.left=y._x+"px",S.top=y._y+"px",S.position="absolute",S.display="block",S.width=y._w+1+"px",S.height=y._h+"px"),!V&&W){if(y._isSplit)for(y._next=$=y.nextSibling,y.parentNode.appendChild(y);$&&3===$.nodeType&&" "===$.textContent;)y._next=$.nextSibling,y.parentNode.appendChild($),$=$.nextSibling;else y.parentNode._isSplit?(y._parent=y.parentNode,!y.previousSibling&&y.firstChild&&(y.firstChild._isFirst=!0),y.nextSibling&&" "===y.nextSibling.textContent&&!y.nextSibling.nextSibling&&Y.push(y.nextSibling),y._next=y.nextSibling&&y.nextSibling._isFirst?null:y.nextSibling,y.parentNode.removeChild(y),_.splice(g--,1),v--):x||(M=!y.nextSibling&&c(y.parentNode,e,z),y.parentNode._parent&&y.parentNode._parent.appendChild(y),M&&y.parentNode.appendChild(m.createTextNode(" ")),"span"===B&&(y.style.display="inline"),N.push(y))}else y.parentNode._isSplit&&!y._isSplit&&""!==y.innerHTML?F.push(y):W&&!y._isSplit&&("span"===B&&(y.style.display="inline"),N.push(y))}else G||X?(y.parentNode&&y.parentNode.removeChild(y),_.splice(g--,1),v--):V||e.appendChild(y);for(g=Y.length;-1<--g;)Y[g].parentNode.removeChild(Y[g]);if(G){for(X&&(E=m.createElement(B),e.appendChild(E),T=E.offsetWidth+"px",M=E.offsetParent===e?0:e.offsetLeft,e.removeChild(E)),S=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for(w=" "===z&&(!X||!V&&!W),g=0;g<G.length;g++){for(b=G[g],(E=m.createElement(B)).style.cssText="display:block;text-align:"+O+";position:"+(X?"absolute;":"relative;"),j&&(E.className=j+(q?g+1:"")),U.push(E),v=b.length,$=0;$<v;$++)"BR"!==b[$].nodeName&&(y=b[$],E.appendChild(y),w&&y._wordEnd&&E.appendChild(m.createTextNode(" ")),X&&(0===$&&(E.style.top=y._y+"px",E.style.left=D+M+"px"),y.style.top="0px",M&&(y.style.left=y._x-M+"px")));0===v?E.innerHTML="&nbsp;":V||W||(h(E),l(E,"\xa0"," ")),X&&(E.style.width=T,E.style.height=y._h+"px"),e.appendChild(E)}e.style.cssText=S}X&&(f>e.clientHeight&&(e.style.height=f-R+"px",e.clientHeight<f&&(e.style.height=f+P+"px")),p>e.clientWidth&&(e.style.width=p-I+"px",e.clientWidth<p&&(e.style.width=p+L+"px"))),Z&&(K?e.style.display=K:e.style.removeProperty("display")),u(r,N),V&&u(a,F),u(o,U)}function f(e,o,u,c){var h,d,p=r(e.childNodes),g=p.length,$=s(o);if(3!==e.nodeType||1<g){for(o.absolute=!1,h=0;h<g;h++)(d=p[h])._next=d._isFirst=d._parent=d._wordEnd=null,(3!==d.nodeType||/\S+/.test(d.nodeValue))&&($&&3!==d.nodeType&&"inline"===n(d).display&&(d.style.display="inline-block",d.style.position="relative"),d._isSplit=!0,f(d,o,u,c));return o.absolute=$,void(e._isSplit=!0)}!function e(n,r,o,u){var c,h,d,p,f,g,$,v,x=r.tag?r.tag:r.span?"span":"div",b=~(r.type||r.split||"chars,words,lines").indexOf("chars"),w=s(r),S=r.wordDelimiter||" ",E=" "!==S?"":w?"&#173; ":" ",T="</"+x+">",M=1,C=r.specialChars?"function"==typeof r.specialChars?r.specialChars:a:null,D=m.createElement("div"),A=n.parentNode;for(A.insertBefore(D,n),D.textContent=n.nodeValue,A.removeChild(n),$=-1!==(c=function e(i){var n=i.nodeType,r="";if(1===n||9===n||11===n){if("string"==typeof i.textContent)return i.textContent;for(i=i.firstChild;i;i=i.nextSibling)r+=e(i)}else if(3===n||4===n)return i.nodeValue;return r}(n=D)).indexOf("<"),!1!==r.reduceWhiteSpace&&(c=c.replace(_," ").replace(y,"")),$&&(c=c.split("<").join("{{LT}}")),f=c.length,h=(" "===c.charAt(0)?E:"")+o(),d=0;d<f;d++)if(g=c.charAt(d),C&&(v=C(c.substr(d),r.specialChars)))g=c.substr(d,v||1),h+=b&&" "!==g?u()+g+"</"+x+">":g,d+=v-1;else if(g===S&&c.charAt(d-1)!==S&&d){for(h+=M?T:"",M=0;c.charAt(d+1)===S;)h+=E,d++;d===f-1?h+=E:")"!==c.charAt(d+1)&&(h+=E+o(),M=1)}else"{"===g&&"{{LT}}"===c.substr(d,6)?(h+=b?u()+"{{LT}}</"+x+">":"{{LT}}",d+=5):55296<=g.charCodeAt(0)&&56319>=g.charCodeAt(0)||65024<=c.charCodeAt(d+1)&&65039>=c.charCodeAt(d+1)?(p=((c.substr(d,12).split(i)||[])[1]||"").length||2,h+=b&&" "!==g?u()+c.substr(d,p)+"</"+x+">":c.substr(d,p),d+=p-1):h+=b&&" "!==g?u()+g+"</"+x+">":g;n.outerHTML=h+(M?T:""),$&&l(A,"{{LT}}","<")}(e,o,u,c)}var m,g,$,v,y=/(?:\r|\n|\t\t)/g,_=/(?:\s\s+)/g,x=Array.isArray,b=[].slice,w=((v=S.prototype).split=function e(i){this.isSplit&&this.revert(),this.vars=i=i||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var n,r,s,a=this.elements.length,l=i.tag?i.tag:i.span?"span":"div",u=o(i.wordsClass,l),c=o(i.charsClass,l);-1<--a;)s=this.elements[a],this._originals[a]=s.innerHTML,n=s.clientHeight,r=s.clientWidth,f(s,i,u,c),p(s,i,this.chars,this.words,this.lines,r,n);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},v.revert=function e(){var i=this._originals;if(!i)throw"revert() call wasn't scoped properly.";return this.elements.forEach(function(e,n){return e.innerHTML=i[n]}),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},S.create=function e(i,n){return new S(i,n)},S);function S(e,i){$||(m=document,g=window,$=1),this.elements=r(e),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=i||{},this.split(i)}w.version="3.11.2",e.SplitText=w,e.default=w,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default}),function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e=e||self).window=e.window||{})}(this,function(e){"use strict";function i(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(){return"undefined"!=typeof window}function r(){return l||n()&&(l=window.gsap)&&l.registerPlugin&&l}var s,a,o,l,u,c,h,d,p,f,m,g,$,v,y,_,x,b,w=(S.register=function e(i){return u||(l=i||r(),n()&&window.document&&(c=window,d=(h=document).documentElement,p=h.body),l&&(f=l.utils.toArray,m=l.utils.clamp,v=l.parseEase("expo"),x=l.core.context||function(){},b=l.delayedCall(.2,function(){return g.isRefreshing||$&&$.refresh()}).pause(),g=l.core.globals().ScrollTrigger,l.core.globals("ScrollSmoother",S),p&&g&&(y=g.core._getVelocityProp,_=g.core._inputObserver,S.refresh=g.refresh,u=1))),u},s=S,a=[{key:"progress",get:function e(){return this.scrollTrigger?this.scrollTrigger.animation._time/100:0}}],i(s.prototype,a),o&&i(s,o),S);function S(e){var i=this;function n(){return eu.update(-ea)}function r(){return L.style.overflow="visible"}function s(e){e.update();var i=e.getTween();i&&(i.pause(),i._time=i._dur,i._tTime=i._tDur),W=!1,e.animation.progress(e.progress,!0)}function a(e,i){(e!==ea&&!B||i)&&(Q&&(e=Math.round(e)),er&&(L.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+e+", 0, 1)",L._gsap.y=e+"px"),eo=e-ea,ea=e,g.isUpdating||g.update())}function o(e){return arguments.length?(e<0&&(e=0),ec.y=-e,W=!0,B?ea=-e:a(-e),g.isRefreshing?k.update():en(e),this):-ea}function w(e){R.scrollTop=0,e.target.contains&&e.target.contains(R)||K&&!1===K(i,e)||(g.isInViewport(e.target)||e.target===X||i.scrollTo(e.target,!1,"center center"),X=e.target)}function E(e){var i,n,r,s;O.forEach(function(a){i=a.pins,s=a.markers,e.forEach(function(e){a.trigger&&e.trigger&&a!==e&&(e.trigger===a.trigger||e.pinnedContainer===a.trigger||a.trigger.contains(e.trigger))&&(r=((n=e.start)-a.start-a.offset)/a.ratio-(n-a.start),i.forEach(function(e){return r-=e.distance/a.ratio-e.distance}),e.setPositions(n+r,e.end+r),e.markerStart&&s.push(l.quickSetter([e.markerStart,e.markerEnd],"y","px")),e.pin&&0<e.end&&(r=e.end-e.start,i.push({start:e.start,end:e.end,distance:r,trig:e}),a.setPositions(a.start,a.end+r),a.vars.onRefresh(a)))})})}function T(){r(),requestAnimationFrame(r),O&&(O.forEach(function(e){var i=e.start,n=e.auto?Math.min(g.maxScroll(e.scroller),e.end):i+(e.end-i)/e.ratio,r=(n-e.end)/2;i-=r,n-=r,e.offset=r||1e-4,e.pins.length=0,e.setPositions(Math.min(i,n),Math.max(i,n)),e.vars.onRefresh(e)}),E(g.sort())),eu.reset()}function M(){return g.addEventListener("refresh",T)}function C(){return O&&O.forEach(function(e){return e.vars.onRefresh(e)})}function D(){return O&&O.forEach(function(e){return e.vars.onRefreshInit(e)}),C}function A(e,i,n,r){return function(){var s="function"==typeof i?i(n,r):i;return s||0===s||(s=r.getAttribute("data-"+ei+e)||("speed"===e?1:0)),r.setAttribute("data-"+ei+e,s),"auto"===s?s:parseFloat(s)}}function P(e,i,n,r,s){function a(){i=x(),n=b(),h=parseFloat(i)||1,y=(f="auto"===i)?0:.5,$&&$.kill(),$=n&&l.to(e,{ease:v,overwrite:!1,y:"+=0",duration:n}),p&&(p.ratio=h,p.autoSpeed=f)}function o(){S.y=w+"px",S.renderTransform(1),a()}function u(i){if(f){o();var n,r,s,a,l,u,p,g,v,y,x,b=(n=e,r=m(0,1,-i.start/(i.end-i.start)),l=n.parentNode||d,u=n.getBoundingClientRect(),g=(p=l.getBoundingClientRect()).top-u.top,x=-(y=(Math.abs(g)>Math.abs(v=p.bottom-u.bottom)?g:v)/(1-r))*r,0<y&&(a=.5==(s=p.height/(c.innerHeight+p.height))?2*p.height:2*Math.min(p.height,-y*s/(2*s-1))*(r||1),x+=r?-a*r:-a/2,y+=a),{change:y,offset:x});M=b.change,_=b.offset}else M=(i.end-i.start)*(1-h),_=0;E.forEach(function(e){return M-=e.distance*(1-h)}),i.vars.onUpdate(i),$&&$.progress(1)}s=("function"==typeof s?s(r,e):s)||0;var h,p,f,$,y,_,x=A("speed",i,r,e),b=A("lag",n,r,e),w=l.getProperty(e,"y"),S=e._gsap,E=[],T=[],M=0;return a(),(1!==h||f||$)&&(u(p=g.create({trigger:f?e.parentNode:e,start:"top bottom+="+s,end:"bottom top-="+s,scroller:R,scrub:!0,refreshPriority:-999,onRefreshInit:o,onRefresh:u,onKill:function e(i){var n=O.indexOf(i);0<=n&&O.splice(n,1),o()},onUpdate:function e(i){var n,r,s,a,o=w+M*(i.progress-y),u=E.length,c=0;if(i.offset){if(u){for(s=-ea,a=i.end;u--;){if((r=E[u]).trig.isActive||s>=r.start&&s<=r.end)return void($&&(r.trig.progress+=r.trig.direction<0?.001:-.001,r.trig.update(0,0,1),$.resetTo("y",parseFloat(S.y),-eo,!0),el&&$.progress(1)));s>r.end&&(c+=r.distance),a-=r.distance}o=w+c+M*((l.utils.clamp(i.start,i.end,s)-i.start-c)/(a-i.start)-y)}o=Math.round(1e5*(n=o+_))/1e5||0,T.length&&!f&&T.forEach(function(e){return e(o-c)}),$?($.resetTo("y",o,-eo,!0),el&&$.progress(1)):(S.y=o+"px",S.renderTransform(1))}}})),l.core.getCache(p.trigger).stRevert=D,p.startY=w,p.pins=E,p.markers=T,p.ratio=h,p.autoSpeed=f,e.style.willChange="transform"),p}u||S.register(l)||console.warn("Please gsap.registerPlugin(ScrollSmoother)"),e=this.vars=e||{},$&&$.kill(),x($=this);var L,R,I,k,O,N,F,U,z,B,H,G,V,W,X,j=e.smoothTouch,q=e.onUpdate,Y=e.onStop,Z=e.smooth,K=e.onFocusIn,J=e.normalizeScroll,Q=e.wholePixels,ee=this,et="undefined"!=typeof ResizeObserver&&!1!==e.autoResize&&new ResizeObserver(function(){return g.isRefreshing||b.restart(!0)}),ei=e.effectsPrefix||"",en=g.getScrollFunc(c),er=1===g.isTouch?!0===j?.8:parseFloat(j)||0:0===Z||!1===Z?0:parseFloat(Z)||.8,es=er&&+e.speed||1,ea=0,eo=0,el=1,eu=y(0),ec={y:0};function eh(){return I=L.clientHeight,L.style.overflow="visible",p.style.height=c.innerHeight+(I-c.innerHeight)/es+"px",I-c.innerHeight}M(),g.addEventListener("killAll",M),l.delayedCall(.5,function(){return el=0}),this.scrollTop=o,this.scrollTo=function(e,n,r){var s=l.utils.clamp(0,g.maxScroll(c),isNaN(e)?i.offset(e,r):+e);n?B?l.to(i,{duration:er,scrollTop:s,overwrite:"auto",ease:v}):en(s):o(s)},this.offset=function(e,i){var n,r=(e=f(e)[0]).style.cssText,s=g.create({trigger:e,start:i||"top top"});return O&&E([s]),n=s.start,s.kill(!1),e.style.cssText=r,l.core.getCache(e).uncache=1,n},this.content=function(e){if(arguments.length){var i=f(e||"#smooth-content")[0]||console.warn("ScrollSmoother needs a valid content element.")||p.children[0];return i!==L&&(z=(L=i).getAttribute("style")||"",et&&et.observe(L),l.set(L,{overflow:"visible",width:"100%",boxSizing:"border-box",y:"+=0"}),er||l.set(L,{clearProps:"transform"})),this}return L},this.wrapper=function(e){var i,n;return arguments.length?(U=(R=f(e||"#smooth-wrapper")[0]||(i=L,(n=h.querySelector(".ScrollSmoother-wrapper"))||((n=h.createElement("div")).classList.add("ScrollSmoother-wrapper"),i.parentNode.insertBefore(n,i),n.appendChild(i)),n)).getAttribute("style")||"",eh(),l.set(R,er?{overflow:"hidden",position:"fixed",height:"100%",width:"100%",top:0,left:0,right:0,bottom:0}:{overflow:"visible",position:"relative",width:"100%",height:"auto",top:"auto",bottom:"auto",left:"auto",right:"auto"}),this):R},this.effects=function(e,i){if(O=O||[],!e)return O.slice(0);(e=f(e)).forEach(function(e){for(var i=O.length;i--;)O[i].trigger===e&&O[i].kill()});var n,r,s=(i=i||{}).speed,a=i.lag,o=i.effectsPadding,l=[];for(n=0;n<e.length;n++)(r=P(e[n],s,a,n,o))&&l.push(r);return O.push.apply(O,l),l},this.sections=function(e,i){if(N=N||[],!e)return N.slice(0);var n=f(e).map(function(e){return g.create({trigger:e,start:"top 120%",end:"bottom -20%",onToggle:function i(n){e.style.opacity=n.isActive?"1":"0",e.style.pointerEvents=n.isActive?"all":"none"}})});return i&&i.add?N.push.apply(N,n):N=n.slice(0),n},this.content(e.content),this.wrapper(e.wrapper),this.render=function(e){return a(e||0===e?e:ea)},this.getVelocity=function(){return eu.getVelocity(-ea)},g.scrollerProxy(R,{scrollTop:o,scrollHeight:function e(){return eh()&&p.scrollHeight},fixedMarkers:!1!==e.fixedMarkers&&!!er,content:L,getBoundingClientRect:function e(){return{top:0,left:0,width:c.innerWidth,height:c.innerHeight}}}),g.defaults({scroller:R});var ed=g.getAll().filter(function(e){return e.scroller===c||e.scroller===R});ed.forEach(function(e){return e.revert(!0,!0)}),k=g.create({animation:l.fromTo(ec,{y:0},{y:function e(){return-eh()},immediateRender:!1,ease:"none",data:"ScrollSmoother",duration:100,onUpdate:function e(){if(this._dur){var i=W;i&&(s(k),ec.y=ea),a(ec.y,i),n(),q&&!B&&q(ee)}}}),onRefreshInit:function e(i){if(O){var n=g.getAll().filter(function(e){return!!e.pin});O.forEach(function(e){e.vars.pinnedContainer||n.forEach(function(i){if(i.pin.contains(e.trigger)){var n=e.vars;n.pinnedContainer=i.pin,e.vars=null,e.init(n,e.animation)}})})}var r=i.getTween();V=r&&r._end>r._dp._time,G=ea,ec.y=0,er&&(R.style.pointerEvents="none",R.scrollTop=0,setTimeout(function(){return R.style.removeProperty("pointer-events")},50))},onRefresh:function e(i){i.animation.invalidate(),i.setPositions(i.start,eh()/es),V||s(i),ec.y=-en(),a(ec.y),el||i.animation.progress(l.utils.clamp(0,1,-(G/i.end))),V&&(i.progress-=.001,i.update())},id:"ScrollSmoother",scroller:c,invalidateOnRefresh:!0,start:0,refreshPriority:-9999,end:function e(){return eh()/es},onScrubComplete:function e(){eu.reset(),Y&&Y(i)},scrub:er||!0}),this.smooth=function(i){return arguments.length&&(es=(er=i||0)&&+e.speed||1,k.scrubDuration(i)),k.getTween()?k.getTween().duration():0},k.getTween()&&(k.getTween().vars.ease=e.ease||v),this.scrollTrigger=k,e.effects&&this.effects(!0===e.effects?"[data-"+ei+"speed], [data-"+ei+"lag]":e.effects,{effectsPadding:e.effectsPadding}),e.sections&&this.sections(!0===e.sections?"[data-section]":e.sections),ed.forEach(function(e){e.vars.scroller=R,e.revert(!1,!0),e.init(e.vars,e.animation)}),this.paused=function(e,i){return arguments.length?(!!B!==e&&(e?(k.getTween()&&k.getTween().pause(),en(-ea),eu.reset(),(H=g.normalizeScroll())&&H.disable(),(B=g.observe({preventDefault:!0,type:"wheel,touch,scroll",debounce:!1,allowClicks:!0,onChangeY:function e(){return o(-ea)}})).nested=_(d,"wheel,touch,scroll",!0,!1!==i)):(B.nested.kill(),B.kill(),B=0,H&&H.enable(),k.progress=(-ea-k.start)/(k.end-k.start),s(k))),this):!!B},this.kill=this.revert=function(){i.paused(!1),s(k),k.kill();for(var e=(O||[]).concat(N||[]),n=e.length;n--;)e[n].kill();g.scrollerProxy(R),g.removeEventListener("killAll",M),g.removeEventListener("refresh",T),R.style.cssText=U,L.style.cssText=z;var r=g.defaults({});r&&r.scroller===R&&g.defaults({scroller:c}),i.normalizer&&g.normalizeScroll(!1),clearInterval(F),$=null,et&&et.disconnect(),p.style.removeProperty("height"),c.removeEventListener("focusin",w)},this.refresh=function(e,i){return k.refresh(e,i)},J&&(this.normalizer=g.normalizeScroll(!0===J?{debounce:!0,content:!er&&L}:J)),g.config(e),"overscrollBehavior"in c.getComputedStyle(p)&&l.set([p,d],{overscrollBehavior:"none"}),"scrollBehavior"in c.getComputedStyle(p)&&l.set([p,d],{scrollBehavior:"auto"}),c.addEventListener("focusin",w),F=setInterval(n,250),"loading"===h.readyState||requestAnimationFrame(function(){return g.refresh()})}w.version="3.11.4",w.create=function(e){return $&&e&&$.content()===f(e.content)[0]?$:new w(e)},w.get=function(){return $},r()&&l.registerPlugin(w),e.ScrollSmoother=w,e.default=w,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default}),function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((e=e||self).window=e.window||{})}(this,function(e){"use strict";function i(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(){return $||"undefined"!=typeof window&&($=window.gsap)&&$.registerPlugin&&$}function r(e,i){return~O.indexOf(e)&&O[O.indexOf(e)+1][i]}function s(e){return!!~T.indexOf(e)}function a(e,i,n,r,s){return e.addEventListener(i,n,{passive:!1!==r,capture:!!s})}function o(e,i,n,r){return e.removeEventListener(i,n,!!r)}function l(){return M&&M.isPressed||k.cache++}function u(e,i){function n(r){if(r||0===r){R&&(y.history.scrollRestoration="manual");var s=M&&M.isPressed;r=n.v=Math.round(r)||(M&&M.iOS?1:0),e(r),n.cacheID=k.cache,s&&F("ss",r)}else(i||k.cache!==n.cacheID||F("ref"))&&(n.cacheID=k.cache,n.v=e());return n.v+n.offset}return n.offset=0,e&&n}function c(e,i){return(i&&i._ctx&&i._ctx.selector||$.utils.toArray)(e)[0]||("string"==typeof e&&!1!==$.config().nullTargetWarn?console.warn("Element not found:",e):null)}function h(e,i){var n=i.s,o=i.sc;s(e)&&(e=_.scrollingElement||x);var c=k.indexOf(e),h=o===H.sc?1:2;~c||(c=k.push(e)-1),k[c+h]||a(e,"scroll",l);var d=k[c+h],p=d||(k[c+h]=u(r(e,n),!0)||(s(e)?o:u(function(i){return arguments.length?e[n]=i:e[n]})));return p.target=e,d||(p.smooth="smooth"===$.getProperty(e,"scrollBehavior")),p}function d(e,i,n){function r(e,i){var r=N();i||u<r-o?(a=s,s=e,l=o,o=r):n?s+=e:s=a+(e-a)/(r-l)*(o-l)}var s=e,a=e,o=N(),l=o,u=i||50,c=Math.max(500,3*u);return{update:r,reset:function e(){a=s=n?0:s,l=o=0},getVelocity:function e(i){var u=l,h=a,d=N();return(i||0===i)&&i!==s&&r(i),o===l||c<d-l?0:(s+(n?h:-h))/((n?d:o)-u)*1e3}}}function p(e,i){return i&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e}function f(e){var i=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(i)>=Math.abs(n)?i:n}function m(){var e,i,n,r;(E=$.core.globals().ScrollTrigger)&&E.core&&(i=(e=E.core).bridge||{},n=e._scrollers,r=e._proxies,n.push.apply(n,k),r.push.apply(r,O),k=n,O=r,F=function e(n,r){return i[n](r)})}function g(e){return $=e||n(),!v&&$&&"undefined"!=typeof document&&document.body&&(y=window,x=(_=document).documentElement,b=_.body,T=[y,_,x,b],$.utils.clamp,D=$.core.context||function(){},S="onpointerenter"in b?"pointer":"mouse",w=G.isTouch=y.matchMedia&&y.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in y||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints?2:0,C=G.eventTypes=("ontouchstart"in x?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in x?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return R=0},500),m(),v=1),v}var $,v,y,_,x,b,w,S,E,T,M,C,D,A,P,L,R=1,I=[],k=[],O=[],N=Date.now,F=function e(i,n){return n},U="scrollLeft",z="scrollTop",B={s:U,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:u(function(e){return arguments.length?y.scrollTo(e,H.sc()):y.pageXOffset||_[U]||x[U]||b[U]||0})},H={s:z,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:B,sc:u(function(e){return arguments.length?y.scrollTo(B.sc(),e):y.pageYOffset||_[z]||x[z]||b[z]||0})};B.op=H,k.cache=0;var G=(V.prototype.init=function e(i){v||g($)||console.warn("Please gsap.registerPlugin(Observer)"),E||m();var n=i.tolerance,r=i.dragMinimum,u=i.type,T=i.target,A=i.lineHeight,P=i.debounce,L=i.preventDefault,R=i.onStop,k=i.onStopDelay,O=i.ignore,F=i.wheelSpeed,U=i.event,z=i.onDragStart,G=i.onDragEnd,V=i.onDrag,W=i.onPress,X=i.onRelease,j=i.onRight,q=i.onLeft,Y=i.onUp,Z=i.onDown,K=i.onChangeX,J=i.onChangeY,Q=i.onChange,ee=i.onToggleX,et=i.onToggleY,ei=i.onHover,en=i.onHoverEnd,er=i.onMove,es=i.ignoreCheck,ea=i.isNormalizer,eo=i.onGestureStart,el=i.onGestureEnd,eu=i.onWheel,ec=i.onEnable,eh=i.onDisable,ed=i.onClick,ep=i.scrollSpeed,ef=i.capture,em=i.allowClicks,eg=i.lockAxis,e$=i.onLockAxis;function ev(){return eW=N()}function ey(e,i){return(eO.event=e)&&O&&~O.indexOf(e.target)||i&&e4&&"touch"!==e.pointerType||es&&es(e,i)}function e8(){var e=eO.deltaX=f(e6),i=eO.deltaY=f(eV),r=Math.abs(e)>=n,s=Math.abs(i)>=n;Q&&(r||s)&&Q(eO,e,i,e6,eV),r&&(j&&0<eO.deltaX&&j(eO),q&&eO.deltaX<0&&q(eO),K&&K(eO),ee&&eO.deltaX<0!=eN<0&&ee(eO),eN=eO.deltaX,e6[0]=e6[1]=e6[2]=0),s&&(Z&&0<eO.deltaY&&Z(eO),Y&&eO.deltaY<0&&Y(eO),J&&J(eO),et&&eO.deltaY<0!=eF<0&&et(eO),eF=eO.deltaY,eV[0]=eV[1]=eV[2]=0),(eL||eP)&&(er&&er(eO),eP&&(V(eO),eP=!1),eL=!1),eI&&(eI=!1,1)&&e$&&e$(eO),eR&&(eu(eO),eR=!1),e0=0}function e_(e,i,n){e6[n]+=e,eV[n]+=i,eO._vx.update(e),eO._vy.update(i),P?e0=e0||requestAnimationFrame(e8):e8()}function ex(e,i){eg&&!ek&&(eO.axis=ek=Math.abs(e)>Math.abs(i)?"x":"y",eI=!0),"y"!==ek&&(e6[2]+=e,eO._vx.update(e,!0)),"x"!==ek&&(eV[2]+=i,eO._vy.update(i,!0)),P?e0=e0||requestAnimationFrame(e8):e8()}function eb(e){if(!ey(e,1)){var i=(e=p(e,L)).clientX,n=e.clientY,s=i-eO.x,a=n-eO.y,o=eO.isDragging;eO.x=i,eO.y=n,(o||Math.abs(eO.startX-i)>=r||Math.abs(eO.startY-n)>=r)&&(V&&(eP=!0),o||(eO.isDragging=!0),ex(s,a),o||z&&z(eO))}}function ew(e){return e.touches&&1<e.touches.length&&(eO.isGesturing=!0)&&eo(e,eO.isDragging)}function eS(){return eO.isGesturing=!1,el(eO)}function eE(e){if(!ey(e)){var i=ez(),n=eB();e_((i-e3)*ep,(n-e2)*ep,1),e3=i,e2=n,R&&e1.restart(!0)}}function eT(e){if(!ey(e)){e=p(e,L),eu&&(eR=!0);var i=(1===e.deltaMode?A:2===e.deltaMode?y.innerHeight:1)*F;e_(e.deltaX*i,e.deltaY*i,0),R&&!ea&&e1.restart(!0)}}function eM(e){if(!ey(e)){var i=e.clientX,n=e.clientY,r=i-eO.x,s=n-eO.y;eO.x=i,eO.y=n,eL=!0,R&&e1.restart(!0),(r||s)&&ex(r,s)}}function eC(e){eO.event=e,ei(eO)}function eD(e){eO.event=e,en(eO)}function eA(e){return ey(e)||p(e,L)&&ed(eO)}this.target=T=c(T)||x,this.vars=i,O=O&&$.utils.toArray(O),n=n||1e-9,r=r||0,F=F||1,ep=ep||1,u=u||"wheel,touch,pointer",P=!1!==P,A=A||parseFloat(y.getComputedStyle(b).lineHeight)||22;var e0,e1,eP,eL,eR,eI,ek,eO=this,eN=0,eF=0,eU=i.passive||!L,ez=h(T,B),eB=h(T,H),e3=ez(),e2=eB(),e4=~u.indexOf("touch")&&!~u.indexOf("pointer")&&"pointerdown"===C[0],eH=s(T),eG=T.ownerDocument||_,e6=[0,0,0],eV=[0,0,0],eW=0,e5=eO.onPress=function(e){ey(e,1)||e&&e.button||(eO.axis=ek=null,e1.pause(),eO.isPressed=!0,e=p(e),eN=eF=0,eO.startX=eO.x=e.clientX,eO.startY=eO.y=e.clientY,eO._vx.reset(),eO._vy.reset(),a(ea?T:eG,C[1],eb,eU,!0),eO.deltaX=eO.deltaY=0,W&&W(eO))},e7=eO.onRelease=function(e){if(!ey(e,1)){o(ea?T:eG,C[1],eb,!0);var i=!isNaN(eO.y-eO.startY),n=eO.isDragging,r=n&&(3<Math.abs(eO.x-eO.startX)||3<Math.abs(eO.y-eO.startY)),s=p(e);!r&&i&&(eO._vx.reset(),eO._vy.reset(),L&&em&&$.delayedCall(.08,function(){if(300<N()-eW&&!e.defaultPrevented){if(e.target.click)e.target.click();else if(eG.createEvent){var i=eG.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,y,1,s.screenX,s.screenY,s.clientX,s.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}}})),eO.isDragging=eO.isGesturing=eO.isPressed=!1,R&&n&&!ea&&e1.restart(!0),G&&n&&G(eO),X&&X(eO,r)}};e1=eO._dc=$.delayedCall(k||.25,function e(){eO._vx.reset(),eO._vy.reset(),e1.pause(),R&&R(eO)}).pause(),eO.deltaX=eO.deltaY=0,eO._vx=d(0,50,!0),eO._vy=d(0,50,!0),eO.scrollX=ez,eO.scrollY=eB,eO.isDragging=eO.isGesturing=eO.isPressed=!1,D(this),eO.enable=function(e){return eO.isEnabled||(a(eH?eG:T,"scroll",l),0<=u.indexOf("scroll")&&a(eH?eG:T,"scroll",eE,eU,ef),0<=u.indexOf("wheel")&&a(T,"wheel",eT,eU,ef),(0<=u.indexOf("touch")&&w||0<=u.indexOf("pointer"))&&(a(T,C[0],e5,eU,ef),a(eG,C[2],e7),a(eG,C[3],e7),em&&a(T,"click",ev,!0,!0),ed&&a(T,"click",eA),eo&&a(eG,"gesturestart",ew),el&&a(eG,"gestureend",eS),ei&&a(T,S+"enter",eC),en&&a(T,S+"leave",eD),er&&a(T,S+"move",eM)),eO.isEnabled=!0,e&&e.type&&e5(e),ec&&ec(eO)),eO},eO.disable=function(){eO.isEnabled&&(I.filter(function(e){return e!==eO&&s(e.target)}).length||o(eH?eG:T,"scroll",l),eO.isPressed&&(eO._vx.reset(),eO._vy.reset(),o(ea?T:eG,C[1],eb,!0)),o(eH?eG:T,"scroll",eE,ef),o(T,"wheel",eT,ef),o(T,C[0],e5,ef),o(eG,C[2],e7),o(eG,C[3],e7),o(T,"click",ev,!0),o(T,"click",eA),o(eG,"gesturestart",ew),o(eG,"gestureend",eS),o(T,S+"enter",eC),o(T,S+"leave",eD),o(T,S+"move",eM),eO.isEnabled=eO.isPressed=eO.isDragging=!1,eh&&eh(eO))},eO.kill=eO.revert=function(){eO.disable();var e=I.indexOf(eO);0<=e&&I.splice(e,1),M===eO&&(M=0)},I.push(eO),ea&&s(T)&&(M=eO),eO.enable(U)},A=V,P=[{key:"velocityX",get:function e(){return this._vx.getVelocity()}},{key:"velocityY",get:function e(){return this._vy.getVelocity()}}],i(A.prototype,P),L&&i(A,L),V);function V(e){this.init(e)}function W(e,i,n){var r=tg(e)&&("clamp("===e.substr(0,6)||-1<e.indexOf("max"));return(n["_"+i+"Clamp"]=r)?e.substr(6,e.length-7):e}function X(e,i){return!i||tg(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"}function j(){return e6=1}function q(){return e6=0}function Y(e){return e}function Z(e){return Math.round(1e5*e)/1e5||0}function K(){return"undefined"!=typeof window}function J(){return eI||K()&&(eI=window.gsap)&&eI.registerPlugin&&eI}function Q(e){return!!~ez.indexOf(e)}function ee(e){return("Height"===e?tn:eO["inner"+e])||eF["client"+e]||eU["client"+e]}function et(e){return r(e,"getBoundingClientRect")||(Q(e)?function(){return tG.width=eO.innerWidth,tG.height=tn,tG}:function(){return tC(e)})}function ei(e,i){var n=i.s,s=i.d2,a=i.d,o=i.a;return Math.max(0,(o=r(e,n="scroll"+s))?o()-et(e)()[a]:Q(e)?(eF[n]||eU[n])-ee(s):e[n]-e["offset"+s])}function en(e,i){for(var n=0;n<eX.length;n+=3)i&&!~i.indexOf(eX[n+1])||e(eX[n],eX[n+1],eX[n+2])}function er(e){return"function"==typeof e}function es(e){return"number"==typeof e}function ea(e){return"object"==typeof e}function eo(e,i,n){return e&&e.progress(i?0:1)&&n&&e.pause()}function el(e,i){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return i(e)}):i(e);n&&n.totalTime&&(e.callbackAnimation=n)}}function eu(e){return eO.getComputedStyle(e)}function ec(e,i){for(var n in i)n in e||(e[n]=i[n]);return e}function eh(e,i){var n=i.d2;return e["offset"+n]||e["client"+n]||0}function ed(e){var i,n=[],r=e.labels,s=e.duration();for(i in r)n.push(r[i]/s);return n}function ep(e){var i=eI.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(e,i){return e-i});return n?function(e,r,s){var a;if(void 0===s&&(s=.001),!r)return i(e);if(0<r){for(e-=s,a=0;a<n.length;a++)if(n[a]>=e)return n[a];return n[a-1]}for(a=n.length,e+=s;a--;)if(n[a]<=e)return n[a];return n[0]}:function(n,r,s){void 0===s&&(s=.001);var a=i(n);return!r||Math.abs(a-n)<s||a-n<0==r<0?a:i(r<0?n-e:n+e)}}function ef(e,i,n,r){return n.split(",").forEach(function(n){return e(i,n,r)})}function em(e,i,n,r,s){return e.addEventListener(i,n,{passive:!r,capture:!!s})}function eg(e,i,n,r){return e.removeEventListener(i,n,!!r)}function e$(e,i,n){(n=n&&n.wheelHandler)&&(e(i,"wheel",n),e(i,"touchmove",n))}function ev(e,i){if(tg(e)){var n=e.indexOf("="),r=~n?(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=i/100),e=e.substr(0,n-1)),e=r+(e in t0?t0[e]*i:~e.indexOf("%")?parseFloat(e)*i/100:parseFloat(e)||0)}return e}function ey(e,i,n,s,a,o,l,u){var c=a.startColor,h=a.endColor,d=a.fontSize,p=a.indent,f=a.fontWeight,m=eN.createElement("div"),g=Q(n)||"fixed"===r(n,"pinType"),$=-1!==e.indexOf("scroller"),v=g?eU:n,y=-1!==e.indexOf("start"),_=y?c:h,x="border-color:"+_+";font-size:"+d+";color:"+_+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return x+="position:"+(($||u)&&g?"fixed;":"absolute;"),($||u||!g)&&(x+=(s===H?tv:ty)+":"+(o+parseFloat(p))+"px;"),l&&(x+="box-sizing:border-box;text-align:left;width:"+l.offsetWidth+"px;"),m._isStart=y,m.setAttribute("class","gsap-marker-"+e+(i?" marker-"+i:"")),m.style.cssText=x,m.innerText=i||0===i?e+"-"+i:e,v.children[0]?v.insertBefore(m,v.children[0]):v.appendChild(m),m._offset=m["offset"+s.op.d2],t1(m,0,s,y),m}function e8(){return 34<td()-tf&&(to=to||requestAnimationFrame(tB))}function e_(){eY&&eY.isPressed&&!(eY.startX>eU.clientWidth)||(k.cache++,eY?to=to||requestAnimationFrame(tB):tB(),tf||tk("scrollStart"),tf=td())}function ex(){eJ=eO.innerWidth,eK=eO.innerHeight}function eb(){k.cache++,eG||e9||eN.fullscreenElement||eN.webkitFullscreenElement||eZ&&eJ===eO.innerWidth&&!(Math.abs(eO.innerHeight-eK)>.25*eO.innerHeight)||eB.restart(!0)}function ew(){return eg(tV,"scrollEnd",ew)||tF(!0)}function eS(e){for(var i=0;i<tO.length;i+=5)(!e||tO[i+4]&&tO[i+4].query===e)&&(tO[i].style.cssText=tO[i+1],tO[i].getBBox&&tO[i].setAttribute("transform",tO[i+2]||""),tO[i+3].uncache=1)}function eE(e,i){var n;for(eW=0;eW<tP.length;eW++)(n=tP[eW])&&(!i||n._ctx===i)&&(e?n.kill(1):n.revert(!0,!0));tr=!0,i&&eS(i),i||tk("revert")}function eT(e,i){k.cache++,!i&&tl||k.forEach(function(e){return er(e)&&e.cacheID++&&(e.rec=0)}),tg(e)&&(eO.history.scrollRestoration=tt=e)}function eM(){eU.appendChild(ti),tn=!eY&&ti.offsetHeight||eO.innerHeight,eU.removeChild(ti)}function eC(e){return e3(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(i){return i.style.display=e?"none":"block"})}function eD(e,i,n,r){if(!e._gsap.swappedIn){for(var s,a=t3.length,o=i.style,l=e.style;a--;)o[s=t3[a]]=n[s];o.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(o.display="inline-block"),l[ty]=l[tv]="auto",o.flexBasis=n.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[t8]=eh(e,B)+tM,o[t_]=eh(e,H)+tM,o[tS]=l[tE]=l.top=l.left="0",tH(r),l[t8]=l.maxWidth=n[t8],l[t_]=l.maxHeight=n[t_],l[tS]=n[tS],e.parentNode!==i&&(e.parentNode.insertBefore(i,e),i.appendChild(e)),e._gsap.swappedIn=!0}}function eA(e){for(var i=t2.length,n=e.style,r=[],s=0;s<i;s++)r.push(t2[s],n[t2[s]]);return r.t=e,r}function e0(e,i,n,r,s,a,o,l,u,h,d,p,f,m){er(e)&&(e=e(l)),tg(e)&&"max"===e.substr(0,3)&&(e=p+("="===e.charAt(4)?ev("0"+e.substr(3),n):0));var g,$,v,y=f?f.time():0;if(f&&f.seek(0),isNaN(e)||(e=+e),es(e))f&&(e=eI.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,p,e)),o&&t1(o,n,r,!0);else{er(i)&&(i=i(l));var _,x,b,w,S=(e||"0").split(" ");v=c(i,l)||eU,(_=tC(v)||{}).left||_.top||"none"!==eu(v).display||(w=v.style.display,v.style.display="block",_=tC(v),w?v.style.display=w:v.style.removeProperty("display")),x=ev(S[0],_[r.d]),b=ev(S[1]||"0",n),e=_[r.p]-u[r.p]-h+x+s-b,o&&t1(o,b,r,n-b<20||o._isStart&&20<b),n-=n-b}if(m&&(l[m]=e||-.001,e<0&&(e=0)),a){var E=e+n,T=a._isStart;g="scroll"+r.d2,t1(a,E,r,T&&20<E||!T&&(d?Math.max(eU[g],eF[g]):a.parentNode[g])<=E+1),d&&(u=tC(o),d&&(a.style[r.op.p]=u[r.op.p]-r.op.m-a._offset+tM))}return f&&v&&(g=tC(v),f.seek(p),$=tC(v),f._caScrollDist=g[r.p]-$[r.p],e=e/f._caScrollDist*p),f&&f.seek(y),f?e:Math.round(e)}function e1(e,i,n,r){if(e.parentNode!==i){var s,a,o=e.style;if(i===eU){for(s in e._stOrig=o.cssText,a=eu(e))+s||t6.test(s)||!a[s]||"string"!=typeof o[s]||"0"===s||(o[s]=a[s]);o.top=n,o.left=r}else o.cssText=e._stOrig;eI.core.getCache(e).uncache=1,i.appendChild(e)}}function eP(e,i,n){var r=i,s=r;return function(i){var a=Math.round(e());return a!==r&&a!==s&&3<Math.abs(a-r)&&3<Math.abs(a-s)&&(i=a,n&&n()),s=r,r=i}}function eL(e,i,n){var r={};r[i.p]="+="+n,eI.set(e,r)}function eR(e,i){function n(i,a,o,l,u){var c=n.tween,h=a.onComplete;o=o||r();var d=eP(r,o,function(){c.kill(),n.tween=0});return u=l&&u||0,l=l||i-o,c&&c.kill(),a[s]=i,a.inherit=!1,(a.modifiers={})[s]=function(){return d(o+l*c.ratio+u*c.ratio*c.ratio)},a.onUpdate=function(){k.cache++,n.tween&&tB()},a.onComplete=function(){n.tween=0,h&&h.call(c)},c=n.tween=eI.to(e,a)}var r=h(e,i),s="_scroll"+i.p2;return(e[s]=r).wheelHandler=function(){return n.tween&&n.tween.kill()&&(n.tween=0)},em(e,"wheel",r.wheelHandler),tV.isTouch&&em(e,"touchmove",r.wheelHandler),n}G.version="3.12.5",G.create=function(e){return new G(e)},G.register=g,G.getAll=function(){return I.slice()},G.getById=function(e){return I.filter(function(i){return i.vars.id===e})[0]},n()&&$.registerPlugin(G);var eI,ek,eO,eN,eF,eU,ez,eB,e3,e2,e4,eH,eG,e6,eV,eW,e5,e7,eX,ej,eq,e9,eY,eZ,eK,eJ,eQ,te,tt,ti,tn,tr,ts,ta,to,tl,tu,tc,th=1,td=Date.now,tp=td(),tf=0,tm=0,tg=function e(i){return"string"==typeof i},t$=Math.abs,tv="right",ty="bottom",t8="width",t_="height",tx="Right",tb="Left",tw="Bottom",tS="padding",tE="margin",tT="Width",tM="px",tC=function e(i,n){var r=n&&"matrix(1, 0, 0, 1, 0, 0)"!==eu(i)[eV]&&eI.to(i,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),s=i.getBoundingClientRect();return r&&r.progress(0).kill(),s},tD={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},tA={toggleActions:"play",anticipatePin:0},t0={top:0,left:0,center:.5,bottom:1,right:1},t1=function e(i,n,r,s){var a={display:"block"},o=r[s?"os2":"p2"],l=r[s?"p2":"os2"];i._isFlipped=s,a[r.a+"Percent"]=s?-100:0,a[r.a]=s?"1px":0,a["border"+o+tT]=1,a["border"+l+tT]=0,a[r.p]=n+"px",eI.set(i,a)},tP=[],tL={},tR={},tI=[],tk=function e(i){return tR[i]&&tR[i].map(function(e){return e()})||tI},tO=[],tN=0,tF=function e(i,n){if(!tf||i||tr){eM(),tl=tV.isRefreshing=!0,k.forEach(function(e){return er(e)&&++e.cacheID&&(e.rec=e())});var r=tk("refreshInit");ej&&tV.sort(),n||eE(),k.forEach(function(e){er(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),tP.slice(0).forEach(function(e){return e.refresh()}),tr=!1,tP.forEach(function(e){if(e._subPinOffset&&e.pin){var i=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[i];e.revert(!0,1),e.adjustPinSpacing(e.pin[i]-n),e.refresh()}}),ts=1,eC(!0),tP.forEach(function(e){var i=ei(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>i,r=e._startClamp&&e.start>=i;(n||r)&&e.setPositions(r?i-1:e.start,n?Math.max(r?i:e.start+1,i):e.end,!0)}),eC(!1),ts=0,r.forEach(function(e){return e&&e.render&&e.render(-1)}),k.forEach(function(e){er(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),eT(tt,1),eB.pause(),tN++,tB(tl=2),tP.forEach(function(e){return er(e.vars.onRefresh)&&e.vars.onRefresh(e)}),tl=tV.isRefreshing=!1,tk("refresh")}else em(tV,"scrollEnd",ew)},tU=0,tz=1,tB=function e(i){if(2===i||!tl&&!tr){tV.isUpdating=!0,tc&&tc.update(0);var n=tP.length,r=td(),s=50<=r-tp,a=n&&tP[0].scroll();if(tz=a<tU?-1:1,tl||(tU=a),s&&(tf&&!e6&&200<r-tf&&(tf=0,tk("scrollEnd")),e4=tp,tp=r),tz<0){for(eW=n;0<eW--;)tP[eW]&&tP[eW].update(0,s);tz=1}else for(eW=0;eW<n;eW++)tP[eW]&&tP[eW].update(0,s);tV.isUpdating=!1}to=0},t3=["left","top",ty,tv,tE+tw,tE+tx,tE+"Top",tE+tb,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],t2=t3.concat([t8,t_,"boxSizing","max"+tT,"maxHeight","position",tE,tS,tS+"Top",tS+tx,tS+tw,tS+tb]),t4=/([A-Z])/g,tH=function e(i){if(i){var n,r,s=i.t.style,a=i.length,o=0;for((i.t._gsap||eI.core.getCache(i.t)).uncache=1;o<a;o+=2)r=i[o+1],n=i[o],r?s[n]=r:s[n]&&s.removeProperty(n.replace(t4,"-$1").toLowerCase())}},tG={left:0,top:0},t6=/(webkit|moz|length|cssText|inset)/i,tV=(tW.prototype.init=function e(i,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),tm){var s,a,o,l,u,d,p,f,m,g,$,v,y,_,x,b,w,S,E,T,M,C,D,A,P,L,R,I,N,F,U,z,G,V,j,q,K,J,en,ef,e$,e8,ex,eS,eE,eT,eM,eC,eP,ek=(i=ec(tg(i)||es(i)||i.nodeType?{trigger:i}:i,tA)).onUpdate,ez=i.toggleClass,eB=i.id,eH=i.onToggle,eV=i.onRefresh,e5=i.scrub,e7=i.trigger,eX=i.pin,e9=i.pinSpacing,eY=i.invalidateOnRefresh,eZ=i.anticipatePin,eK=i.onScrubComplete,eJ=i.onSnapComplete,eQ=i.once,te=i.snap,tt=i.pinReparent,ti=i.pinSpacer,tn=i.containerAnimation,tr=i.fastScrollEnd,to=i.preventOverlaps,tp=i.horizontal||i.containerAnimation&&!1!==i.horizontal?B:H,tv=!e5&&0!==e5,ty=c(i.scroller||eO),t0=eI.core.getCache(ty),t1=Q(ty),tR="fixed"===("pinType"in i?i.pinType:r(ty,"pinType")||t1&&"fixed"),tI=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],tk=tv&&i.toggleActions.split(" "),tO="markers"in i?i.markers:tA.markers,tU=t1?0:parseFloat(eu(ty)["border"+tp.p2+tT])||0,tB=this,t3=i.onRefreshInit&&function(){return i.onRefreshInit(tB)},t2=(s=ty,a=t1,l=(o=tp).d,u=o.d2,d=o.a,(d=r(s,"getBoundingClientRect"))?function(){return d()[l]}:function(){return(a?ee(u):s["client"+u])||0}),t4=(p=ty,!(f=t1)||~O.indexOf(p)?et(p):function(){return tG}),t6=0,tV=0,t5=0,t7=h(ty,tp);if(tB._startClamp=tB._endClamp=!1,tB._dir=tp,eZ*=45,tB.scroller=ty,tB.scroll=tn?tn.time.bind(tn):t7,v=t7(),tB.vars=i,n=n||i.animation,"refreshPriority"in i&&(ej=1,-9999===i.refreshPriority&&(tc=tB)),t0.tweenScroll=t0.tweenScroll||{top:eR(ty,H),left:eR(ty,B)},tB.tweenTo=m=t0.tweenScroll[tp.p],tB.scrubDuration=function(e){(e$=es(e)&&e)?ef?ef.duration(e):ef=eI.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:e$,paused:!0,onComplete:function e(){return eK&&eK(tB)}}):(ef&&ef.progress(1).kill(),ef=0)},n&&(n.vars.lazy=!1,n._initted&&!tB.isReverted||!1!==n.vars.immediateRender&&!1!==i.immediateRender&&n.duration()&&n.render(0,!0,!0),tB.animation=n.pause(),(n.scrollTrigger=tB).scrubDuration(e5),J=0,eB=eB||n.vars.id),te&&(ea(te)&&!te.push||(te={snapTo:te}),"scrollBehavior"in eU.style&&eI.set(t1?[eU,eF]:ty,{scrollBehavior:"auto"}),k.forEach(function(e){return er(e)&&e.target===(t1?eN.scrollingElement||eF:ty)&&(e.smooth=!1)}),$=er(te.snapTo)?te.snapTo:"labels"===te.snapTo?(eC=n,function(e){return eI.utils.snap(ed(eC),e)}):"labelsDirectional"===te.snapTo?(eP=n,function(e,i){return ep(ed(eP))(e,i.direction)}):!1!==te.directional?function(e,i){return ep(te.snapTo)(e,td()-tV<500?0:i.direction)}:eI.utils.snap(te.snapTo),e8=ea(e8=te.duration||{min:.1,max:2})?e2(e8.min,e8.max):e2(e8,e8),ex=eI.delayedCall(te.delay||e$/2||.1,function(){var e=t7(),i=td()-tV<500,r=m.tween;if(!(i||10>Math.abs(tB.getVelocity()))||r||e6||t6===e)tB.isActive&&t6!==e&&ex.restart(!0);else{var s,a,o=(e-_)/C,l=n&&!tv?n.totalProgress():o,u=i?0:(l-en)/(td()-e4)*1e3||0,c=eI.utils.clamp(-o,1-o,t$(u/2)*u/.185),h=o+(!1===te.inertia?0:c),d=te.onStart,p=te.onInterrupt,f=te.onComplete;if(s=$(h,tB),es(s)||(s=h),a=Math.round(_+s*C),e<=x&&_<=e&&a!==e){if(r&&!r._initted&&r.data<=t$(a-e))return;!1===te.inertia&&(c=s-o),m(a,{duration:e8(t$(.185*Math.max(t$(h-l),t$(s-l))/u/.05||0)),ease:te.ease||"power3",data:t$(a-e),onInterrupt:function e(){return ex.restart(!0)&&p&&p(tB)},onComplete:function e(){tB.update(),t6=t7(),n&&(ef?ef.resetTo("totalProgress",s,n._tTime/n._tDur):n.progress(s)),J=en=n&&!tv?n.totalProgress():tB.progress,eJ&&eJ(tB),f&&f(tB)}},e,c*C,a-e-c*C),d&&d(tB,m.tween)}}}).pause()),eB&&(tL[eB]=tB),eM=(eM=(e7=tB.trigger=c(e7||!0!==eX&&eX))&&e7._gsap&&e7._gsap.stRevert)&&eM(tB),eX=!0===eX?e7:c(eX),tg(ez)&&(ez={targets:e7,className:ez}),eX&&(!1===e9||e9===tE||(e9=!(!e9&&eX.parentNode&&eX.parentNode.style&&"flex"===eu(eX.parentNode).display)&&tS),tB.pin=eX,(g=eI.core.getCache(eX)).spacer?D=g.pinState:(ti&&((ti=c(ti))&&!ti.nodeType&&(ti=ti.current||ti.nativeElement),g.spacerIsNative=!!ti,ti&&(g.spacerState=eA(ti))),g.spacer=L=ti||eN.createElement("div"),L.classList.add("pin-spacer"),eB&&L.classList.add("pin-spacer-"+eB),g.pinState=D=eA(eX)),!1!==i.force3D&&eI.set(eX,{force3D:!0}),tB.spacer=L=g.spacer,z=(K=eu(eX))[e9+tp.os2],I=eI.getProperty(eX),N=eI.quickSetter(eX,tp.a,tM),eD(eX,L,K),P=eA(eX)),tO){T=ea(tO)?ec(tO,tD):tD,S=ey("scroller-start",eB,ty,tp,T,0),E=ey("scroller-end",eB,ty,tp,T,0,S),R=S["offset"+tp.op.d2];var tX,tj,tq=c(r(ty,"content")||ty);b=this.markerStart=ey("start",eB,tq,tp,T,R,0,tn),w=this.markerEnd=ey("end",eB,tq,tp,T,R,0,tn),tn&&(eT=eI.quickSetter([b,w],tp.a,tM)),tR||O.length&&!0===r(ty,"fixedMarkers")||(tX=t1?eU:ty,tj=eu(tX).position,tX.style.position="absolute"===tj||"fixed"===tj?tj:"relative",eI.set([S,E],{force3D:!0}),V=eI.quickSetter(S,tp.a,tM),q=eI.quickSetter(E,tp.a,tM))}if(tn){var t9=tn.vars.onUpdate,tY=tn.vars.onUpdateParams;tn.eventCallback("onUpdate",function(){tB.update(0,0,1),t9&&t9.apply(tn,tY||[])})}if(tB.previous=function(){return tP[tP.indexOf(tB)-1]},tB.next=function(){return tP[tP.indexOf(tB)+1]},tB.revert=function(e,i){if(!i)return tB.kill(!0);var r=!1!==e||!tB.enabled,s=eG;r!==tB.isReverted&&(r&&(eS=Math.max(t7(),tB.scroll.rec||0),t5=tB.progress,eE=n&&n.progress()),b&&[b,w,S,E].forEach(function(e){return e.style.display=r?"none":"block"}),r&&(eG=tB).update(r),!eX||tt&&tB.isActive||(r?function e(i,n,r){tH(r);var s=i._gsap;if(s.spacerIsNative)tH(s.spacerState);else if(i._gsap.swappedIn){var a=n.parentNode;a&&(a.insertBefore(i,n),a.removeChild(n))}i._gsap.swappedIn=!1}(eX,L,D):eD(eX,L,eu(eX),G)),r||tB.update(r),eG=s,tB.isReverted=r)},tB.refresh=function(e,r,s,a){if(!eG&&tB.enabled||r){if(eX&&e&&tf)em(tW,"scrollEnd",ew);else{!tl&&t3&&t3(tB),eG=tB,m.tween&&!s&&(m.tween.kill(),m.tween=0),ef&&ef.pause(),eY&&n&&n.revert({kill:!1}).invalidate(),tB.isReverted||tB.revert(!0,!0),tB._subPinOffset=!1;var o,l,u,d,p,f,g,$,T,R,k,O,N,z=t2(),V=t4(),X=tn?tn.duration():ei(ty,tp),q=C<=.01,Y=0,Z=a||0,K=ea(s)?s.end:i.end,J=i.endTrigger||e7,Q=ea(s)?s.start:i.start||(0!==i.start&&e7?eX?"0 0":"0 100%":0),ee=tB.pinnedContainer=i.pinnedContainer&&c(i.pinnedContainer,tB),et=e7&&Math.max(0,tP.indexOf(tB))||0,en=et;for(tO&&ea(s)&&(O=eI.getProperty(S,tp.p),N=eI.getProperty(E,tp.p));en--;)(f=tP[en]).end||f.refresh(0,1)||(eG=tB),(g=f.pin)&&(g===e7||g===eX||g===ee)&&!f.isReverted&&((R=R||[]).unshift(f),f.revert(!0,!0)),f!==tP[en]&&(et--,en--);for(er(Q)&&(Q=Q(tB)),Q=W(Q,"start",tB),_=e0(Q,e7,z,tp,t7(),b,S,tB,V,tU,tR,X,tn,tB._startClamp&&"_startClamp")||(eX?-.001:0),er(K)&&(K=K(tB)),tg(K)&&!K.indexOf("+=")&&(~K.indexOf(" ")?K=(tg(Q)?Q.split(" ")[0]:"")+K:(Y=ev(K.substr(2),z),K=tg(Q)?Q:(tn?eI.utils.mapRange(0,tn.duration(),tn.scrollTrigger.start,tn.scrollTrigger.end,_):_)+Y,J=e7)),K=W(K,"end",tB),x=Math.max(_,e0(K||(J?"100% 0":X),J,z,tp,t7()+Y,w,E,tB,V,tU,tR,X,tn,tB._endClamp&&"_endClamp"))||-.001,Y=0,en=et;en--;)(g=(f=tP[en]).pin)&&f.start-f._pinPush<=_&&!tn&&0<f.end&&(o=f.end-(tB._startClamp?Math.max(0,f.start):f.start),(g===e7&&f.start-f._pinPush<_||g===ee)&&isNaN(Q)&&(Y+=o*(1-f.progress)),g===eX&&(Z+=o));if(_+=Y,x+=Y,tB._startClamp&&(tB._startClamp+=Y),tB._endClamp&&!tl&&(tB._endClamp=x||-.001,x=Math.min(x,ei(ty,tp))),C=x-_||(_-=.01)&&.001,q&&(t5=eI.utils.clamp(0,1,eI.utils.normalize(_,x,eS))),tB._pinPush=Z,b&&Y&&((o={})[tp.a]="+="+Y,ee&&(o[tp.p]="-="+t7()),eI.set([b,w],o)),!eX||ts&&tB.end>=ei(ty,tp)){if(e7&&t7()&&!tn)for(l=e7.parentNode;l&&l!==eU;)l._pinOffset&&(_-=l._pinOffset,x-=l._pinOffset),l=l.parentNode}else o=eu(eX),d=tp===H,u=t7(),F=parseFloat(I(tp.a))+Z,!X&&1<x&&(k={style:k=(t1?eN.scrollingElement||eF:ty).style,value:k["overflow"+tp.a.toUpperCase()]},t1&&"scroll"!==eu(eU)["overflow"+tp.a.toUpperCase()]&&(k.style["overflow"+tp.a.toUpperCase()]="scroll")),eD(eX,L,o),P=eA(eX),l=tC(eX,!0),$=tR&&h(ty,d?B:H)(),e9?((G=[e9+tp.os2,C+Z+tM]).t=L,(en=e9===tS?eh(eX,tp)+C+Z:0)&&(G.push(tp.d,en+tM),"auto"!==L.style.flexBasis&&(L.style.flexBasis=en+tM)),tH(G),ee&&tP.forEach(function(e){e.pin===ee&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),tR&&t7(eS)):(en=eh(eX,tp))&&"auto"!==L.style.flexBasis&&(L.style.flexBasis=en+tM),tR&&((p={top:l.top+(d?u-_:$)+tM,left:l.left+(d?$:u-_)+tM,boxSizing:"border-box",position:"fixed"})[t8]=p.maxWidth=Math.ceil(l.width)+tM,p[t_]=p.maxHeight=Math.ceil(l.height)+tM,p[tE]=p[tE+"Top"]=p[tE+tx]=p[tE+tw]=p[tE+tb]="0",p[tS]=o[tS],p[tS+"Top"]=o[tS+"Top"],p[tS+tx]=o[tS+tx],p[tS+tw]=o[tS+tw],p[tS+tb]=o[tS+tb],A=function e(i,n,r){for(var s,a=[],o=i.length,l=r?8:0;l<o;l+=2)s=i[l],a.push(s,s in n?n[s]:i[l+1]);return a.t=i.t,a}(D,p,tt),tl&&t7(0)),n?(T=n._initted,eq(1),n.render(n.duration(),!0,!0),U=I(tp.a)-F+C+Z,j=1<Math.abs(C-U),tR&&j&&A.splice(A.length-2,2),n.render(0,!0,!0),T||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),eq(0)):U=C,k&&(k.value?k.style["overflow"+tp.a.toUpperCase()]=k.value:k.style.removeProperty("overflow-"+tp.a));R&&R.forEach(function(e){return e.revert(!1,!0)}),tB.start=_,tB.end=x,v=y=tl?eS:t7(),tn||tl||(v<eS&&t7(eS),tB.scroll.rec=0),tB.revert(!1,!0),tV=td(),ex&&(t6=-1,ex.restart(!0)),eG=0,n&&tv&&(n._initted||eE)&&n.progress()!==eE&&n.progress(eE||0,!0).render(n.time(),!0,!0),(q||t5!==tB.progress||tn||eY)&&(n&&!tv&&n.totalProgress(tn&&_<-.001&&!t5?eI.utils.normalize(_,x,0):t5,!0),tB.progress=q||(v-_)/C===t5?0:t5),eX&&e9&&(L._pinOffset=Math.round(tB.progress*U)),ef&&ef.invalidate(),isNaN(O)||(O-=eI.getProperty(S,tp.p),N-=eI.getProperty(E,tp.p),eL(S,tp,O),eL(b,tp,O-(a||0)),eL(E,tp,N),eL(w,tp,N-(a||0))),q&&!tl&&tB.update(),!eV||tl||M||(M=!0,eV(tB),M=!1)}}},tB.getVelocity=function(){return(t7()-y)/(td()-e4)*1e3||0},tB.endAnimation=function(){eo(tB.callbackAnimation),n&&(ef?ef.progress(1):n.paused()?tv||eo(n,tB.direction<0,1):eo(n,n.reversed()))},tB.labelToScroll=function(e){return n&&n.labels&&(_||tB.refresh()||_)+n.labels[e]/n.duration()*C||0},tB.getTrailing=function(e){var i=tP.indexOf(tB),n=0<tB.direction?tP.slice(0,i).reverse():tP.slice(i+1);return(tg(e)?n.filter(function(i){return i.vars.preventOverlaps===e}):n).filter(function(e){return 0<tB.direction?e.end<=_:e.start>=x})},tB.update=function(e,i,r){if(!tn||r||e){var s,a,o,l,u,c,h,d=!0===tl?eS:tB.scroll(),p=e?0:(d-_)/C,f=p<0?0:1<p?1:p||0,g=tB.progress;if(i&&(y=v,v=tn?t7():d,te&&(en=J,J=n&&!tv?n.totalProgress():f)),eZ&&eX&&!eG&&!th&&tf&&(!f&&_<d+(d-y)/(td()-e4)*eZ?f=1e-4:1===f&&x>d+(d-y)/(td()-e4)*eZ&&(f=.9999)),f!==g&&tB.enabled){if(l=(u=(s=tB.isActive=!!f&&f<1)!=(!!g&&g<1))||!!f!=!!g,tB.direction=g<f?1:-1,tB.progress=f,l&&!eG&&(a=f&&!g?0:1===f?1:1===g?2:3,tv&&(o=!u&&"none"!==tk[a+1]&&tk[a+1]||tk[a],h=n&&("complete"===o||"reset"===o||o in n))),to&&(u||h)&&(h||e5||!n)&&(er(to)?to(tB):tB.getTrailing(to).forEach(function(e){return e.endAnimation()})),tv||(!ef||eG||th?n&&n.totalProgress(f,!(!eG||!tV&&!e)):(ef._dp._time-ef._start!==ef._time&&ef.render(ef._dp._time-ef._start),ef.resetTo?ef.resetTo("totalProgress",f,n._tTime/n._tDur):(ef.vars.totalProgress=f,ef.invalidate().restart()))),eX){if(e&&e9&&(L.style[e9+tp.os2]=z),tR){if(l){if(c=!e&&g<f&&d<x+1&&d+1>=ei(ty,tp),tt){if(!e&&(s||c)){var $=tC(eX,!0),b=d-_;e1(eX,eU,$.top+(tp===H?b:0)+tM,$.left+(tp===H?0:b)+tM)}else e1(eX,L)}tH(s||c?A:P),j&&f<1&&s||N(F+(1!==f||c?0:U))}}else N(Z(F+U*f))}!te||m.tween||eG||th||ex.restart(!0),ez&&(u||eQ&&f&&(f<1||!ta))&&e3(ez.targets).forEach(function(e){return e.classList[s||eQ?"add":"remove"](ez.className)}),!ek||tv||e||ek(tB),l&&!eG?(tv&&(h&&("complete"===o?n.pause().totalProgress(1):"reset"===o?n.restart(!0).pause():"restart"===o?n.restart(!0):n[o]()),ek&&ek(tB)),!u&&ta||(eH&&u&&el(tB,eH),tI[a]&&el(tB,tI[a]),eQ&&(1===f?tB.kill(!1,1):tI[a]=0),u||tI[a=1===f?1:3]&&el(tB,tI[a])),tr&&!s&&Math.abs(tB.getVelocity())>(es(tr)?tr:2500)&&(eo(tB.callbackAnimation),ef?ef.progress(1):eo(n,"reverse"===o?1:!f,1))):tv&&ek&&!eG&&ek(tB)}if(q){var w=tn?d/tn.duration()*(tn._caScrollDist||0):d;V(w+(S._isFlipped?1:0)),q(w)}eT&&eT(-d/tn.duration()*(tn._caScrollDist||0))}},tB.enable=function(e,i){tB.enabled||(tB.enabled=!0,em(ty,"resize",eb),t1||em(ty,"scroll",e_),t3&&em(tW,"refreshInit",t3),!1!==e&&(tB.progress=t5=0,v=y=t6=t7()),!1!==i&&tB.refresh())},tB.getTween=function(e){return e&&m?m.tween:ef},tB.setPositions=function(e,i,n,r){if(tn){var s=tn.scrollTrigger,a=tn.duration(),o=s.end-s.start;e=s.start+o*e/a,i=s.start+o*i/a}tB.refresh(!1,!1,{start:X(e,n&&!!tB._startClamp),end:X(i,n&&!!tB._endClamp)},r),tB.update()},tB.adjustPinSpacing=function(e){if(G&&e){var i=G.indexOf(tp.d)+1;G[i]=parseFloat(G[i])+e+tM,G[1]=parseFloat(G[1])+e+tM,tH(G)}},tB.disable=function(e,i){if(tB.enabled&&(!1!==e&&tB.revert(!0,!0),tB.enabled=tB.isActive=!1,i||ef&&ef.pause(),eS=0,g&&(g.uncache=1),t3&&eg(tW,"refreshInit",t3),ex&&(ex.pause(),m.tween&&m.tween.kill()&&(m.tween=0)),!t1)){for(var n=tP.length;n--;)if(tP[n].scroller===ty&&tP[n]!==tB)return;eg(ty,"resize",eb),t1||eg(ty,"scroll",e_)}},tB.kill=function(e,r){tB.disable(e,r),ef&&!r&&ef.kill(),eB&&delete tL[eB];var s=tP.indexOf(tB);0<=s&&tP.splice(s,1),s===eW&&0<tz&&eW--,s=0,tP.forEach(function(e){return e.scroller===tB.scroller&&(s=1)}),s||tl||(tB.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),b&&[b,w,S,E].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),tc===tB&&(tc=0),eX&&(g&&(g.uncache=1),s=0,tP.forEach(function(e){return e.pin===eX&&s++}),s||(g.spacer=0)),i.onKill&&i.onKill(tB)},tP.push(tB),tB.enable(!1,!1),eM&&eM(tB),n&&n.add&&!C){var tZ=tB.update;tB.update=function(){tB.update=tZ,_||x||tB.refresh()},eI.delayedCall(.01,tB.update),C=.01,_=x=0}else tB.refresh();eX&&function e(){if(tu!==tN){var i=tu=tN;requestAnimationFrame(function(){return i===tN&&tF(!0)})}}()}else this.update=this.refresh=this.kill=Y},tW.register=function e(i){return ek||(eI=i||J(),K()&&window.document&&tW.enable(),ek=tm),ek},tW.defaults=function e(i){if(i)for(var n in i)tA[n]=i[n];return tA},tW.disable=function e(i,n){tm=0,tP.forEach(function(e){return e[n?"kill":"disable"](i)}),eg(eO,"wheel",e_),eg(eN,"scroll",e_),clearInterval(eH),eg(eN,"touchcancel",Y),eg(eU,"touchstart",Y),ef(eg,eN,"pointerdown,touchstart,mousedown",j),ef(eg,eN,"pointerup,touchend,mouseup",q),eB.kill(),en(eg);for(var r=0;r<k.length;r+=3)e$(eg,k[r],k[r+1]),e$(eg,k[r],k[r+2])},tW.enable=function e(){if(eO=window,eF=(eN=document).documentElement,eU=eN.body,eI&&(e3=eI.utils.toArray,e2=eI.utils.clamp,te=eI.core.context||Y,eq=eI.core.suppressOverwrites||Y,tt=eO.history.scrollRestoration||"auto",tU=eO.pageYOffset,eI.core.globals("ScrollTrigger",tW),eU)){tm=1,(ti=document.createElement("div")).style.height="100vh",ti.style.position="absolute",eM(),function e(){return tm&&requestAnimationFrame(e)}(),G.register(eI),tW.isTouch=G.isTouch,eQ=G.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),eZ=1===G.isTouch,em(eO,"wheel",e_),ez=[eO,eN,eF,eU],eI.matchMedia?(tW.matchMedia=function(e){var i,n=eI.matchMedia();for(i in e)n.add(i,e[i]);return n},eI.addEventListener("matchMediaInit",function(){return eE()}),eI.addEventListener("matchMediaRevert",function(){return eS()}),eI.addEventListener("matchMedia",function(){tF(0,1),tk("matchMedia")}),eI.matchMedia("(orientation: portrait)",function(){return ex(),ex})):console.warn("Requires GSAP 3.11.0 or later"),ex(),em(eN,"scroll",e_);var i,n,r=eU.style,s=r.borderTopStyle,a=eI.core.Animation.prototype;for(a.revert||Object.defineProperty(a,"revert",{value:function e(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",i=tC(eU),H.m=Math.round(i.top+H.sc())||0,B.m=Math.round(i.left+B.sc())||0,s?r.borderTopStyle=s:r.removeProperty("border-top-style"),eH=setInterval(e8,250),eI.delayedCall(.5,function(){return th=0}),em(eN,"touchcancel",Y),em(eU,"touchstart",Y),ef(em,eN,"pointerdown,touchstart,mousedown",j),ef(em,eN,"pointerup,touchend,mouseup",q),eV=eI.utils.checkPrefix("transform"),t2.push(eV),ek=td(),eB=eI.delayedCall(.2,tF).pause(),eX=[eN,"visibilitychange",function(){var e=eO.innerWidth,i=eO.innerHeight;eN.hidden?(e5=e,e7=i):e5===e&&e7===i||eb()},eN,"DOMContentLoaded",tF,eO,"load",tF,eO,"resize",eb],en(em),tP.forEach(function(e){return e.enable(0,1)}),n=0;n<k.length;n+=3)e$(eg,k[n],k[n+1]),e$(eg,k[n],k[n+2])}},tW.config=function e(i){"limitCallbacks"in i&&(ta=!!i.limitCallbacks);var n=i.syncInterval;n&&clearInterval(eH)||(eH=n)&&setInterval(e8,n),"ignoreMobileResize"in i&&(eZ=1===tW.isTouch&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(en(eg)||en(em,i.autoRefreshEvents||"none"),e9=-1===(i.autoRefreshEvents+"").indexOf("resize"))},tW.scrollerProxy=function e(i,n){var r=c(i),s=k.indexOf(r),a=Q(r);~s&&k.splice(s,a?6:2),n&&(a?O.unshift(eO,n,eU,n,eF,n):O.unshift(r,n))},tW.clearMatchMedia=function e(i){tP.forEach(function(e){return e._ctx&&e._ctx.query===i&&e._ctx.kill(!0,!0)})},tW.isInViewport=function e(i,n,r){var s=(tg(i)?c(i):i).getBoundingClientRect(),a=s[r?t8:t_]*n||0;return r?0<s.right-a&&s.left+a<eO.innerWidth:0<s.bottom-a&&s.top+a<eO.innerHeight},tW.positionInViewport=function e(i,n,r){tg(i)&&(i=c(i));var s=i.getBoundingClientRect(),a=s[r?t8:t_],o=null==n?a/2:n in t0?t0[n]*a:~n.indexOf("%")?parseFloat(n)*a/100:parseFloat(n)||0;return r?(s.left+o)/eO.innerWidth:(s.top+o)/eO.innerHeight},tW.killAll=function e(i){if(tP.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==i){var n=tR.killAll||[];tR={},n.forEach(function(e){return e()})}},tW);function tW(e,i){ek||tW.register(eI)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),te(this),this.init(e,i)}function t5(e,i,n,r){return r<i?e(r):i<0&&e(0),r<n?(r-i)/(n-i):n<0?i/(i-n):1}function t7(e,i){!0===i?e.style.removeProperty("touch-action"):e.style.touchAction=!0===i?"auto":i?"pan-"+i+(G.isTouch?" pinch-zoom":""):"none",e===eF&&t7(eU,i)}function tX(e){var i,n=e.event,r=e.target,s=e.axis,a=(n.changedTouches?n.changedTouches[0]:n).target,o=a._gsap||eI.core.getCache(a),l=td();if(!o._isScrollT||2e3<l-o._isScrollT){for(;a&&a!==eU&&(a.scrollHeight<=a.clientHeight&&a.scrollWidth<=a.clientWidth||!t9[(i=eu(a)).overflowY]&&!t9[i.overflowX]);)a=a.parentNode;o._isScroll=a&&a!==r&&!Q(a)&&(t9[(i=eu(a)).overflowY]||t9[i.overflowX]),o._isScrollT=l}(o._isScroll||"x"===s)&&(n.stopPropagation(),n._gsapAllow=!0)}function tj(e,i,n,r){return G.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:i,onWheel:r=r&&tX,onPress:r,onDrag:r,onScroll:r,onEnable:function e(){return n&&em(eN,G.eventTypes[0],tZ,!1,!0)},onDisable:function e(){return eg(eN,G.eventTypes[0],tZ,!0)}})}tV.version="3.12.5",tV.saveStyles=function(e){return e?e3(e).forEach(function(e){if(e&&e.style){var i=tO.indexOf(e);0<=i&&tO.splice(i,5),tO.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),eI.core.getCache(e),te())}}):tO},tV.revert=function(e,i){return eE(!e,i)},tV.create=function(e,i){return new tV(e,i)},tV.refresh=function(e){return e?eb():(ek||tV.register())&&tF(!0)},tV.update=function(e){return++k.cache&&tB(!0===e?2:0)},tV.clearScrollMemory=eT,tV.maxScroll=function(e,i){return ei(e,i?B:H)},tV.getScrollFunc=function(e,i){return h(c(e),i?B:H)},tV.getById=function(e){return tL[e]},tV.getAll=function(){return tP.filter(function(e){return"ScrollSmoother"!==e.vars.id})},tV.isScrolling=function(){return!!tf},tV.snapDirectional=ep,tV.addEventListener=function(e,i){var n=tR[e]||(tR[e]=[]);~n.indexOf(i)||n.push(i)},tV.removeEventListener=function(e,i){var n=tR[e],r=n&&n.indexOf(i);0<=r&&n.splice(r,1)},tV.batch=function(e,i){function n(e,i){var n=[],r=[],s=eI.delayedCall(o,function(){i(n,r),n=[],r=[]}).pause();return function(e){n.length||s.restart(!0),n.push(e.trigger),r.push(e),l<=n.length&&s.progress(1)}}var r,s=[],a={},o=i.interval||.016,l=i.batchMax||1e9;for(r in i)a[r]="on"===r.substr(0,2)&&er(i[r])&&"onRefreshInit"!==r?n(0,i[r]):i[r];return er(l)&&(l=l(),em(tV,"refresh",function(){return l=i.batchMax()})),e3(e).forEach(function(e){var i={};for(r in a)i[r]=a[r];i.trigger=e,s.push(tV.create(i))}),s};var tq,t9={auto:1,scroll:1},tY=/(input|label|select|textarea)/i,tZ=function e(i){var n=tY.test(i.target.tagName);(n||tq)&&(i._gsapAllow=!0,tq=n)};tV.sort=function(e){return tP.sort(e||function(e,i){return -1e6*(e.vars.refreshPriority||0)+e.start-(i.start+-1e6*(i.vars.refreshPriority||0))})},tV.observe=function(e){return new G(e)},tV.normalizeScroll=function(e){if(void 0===e)return eY;if(!0===e&&eY)return eY.enable();if(!1===e)return eY&&eY.kill(),void(eY=e);var i=e instanceof G?e:function e(i){function n(){return d=!1}function r(){l=ei(x,H),R=e2(eQ?1:0,l),$&&(L=e2(0,ei(x,B))),u=tN}function s(){S._gsap.y=Z(parseFloat(S._gsap.y)+E.offset)+"px",S.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(S._gsap.y)+", 0, 1)",E.offset=E.cacheID=0}function a(){r(),p.isActive()&&p.vars.scrollY>l&&(E()>l?p.progress(1)&&E(l):p.resetTo("scrollY",l))}ea(i)||(i={}),i.preventDefault=i.isNormalizer=i.allowClicks=!0,i.type||(i.type="wheel,touch"),i.debounce=!!i.debounce,i.id=i.id||"normalizer";var o,l,u,d,p,f,m,g,$=i.normalizeScrollX,v=i.momentum,y=i.allowNestedScroll,_=i.onRelease,x=c(i.target)||eF,b=eI.core.globals().ScrollSmoother,w=b&&b.get(),S=eQ&&(i.content&&c(i.content)||w&&!1!==i.content&&!w.smooth()&&w.content()),E=h(x,H),T=h(x,B),M=1,C=(G.isTouch&&eO.visualViewport?eO.visualViewport.scale*eO.visualViewport.width:eO.outerWidth)/eO.innerWidth,D=0,A=er(v)?function(){return v(o)}:function(){return v||2.8},P=tj(x,i.type,!0,y),L=Y,R=Y;return S&&eI.set(S,{y:"+=0"}),i.ignoreCheck=function(e){return eQ&&"touchmove"===e.type&&function e(){if(d){requestAnimationFrame(n);var i=Z(o.deltaY/2),r=R(E.v-i);if(S&&r!==E.v+E.offset){E.offset=r-E.v;var a=Z((parseFloat(S&&S._gsap.y)||0)-E.offset);S.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+a+", 0, 1)",S._gsap.y=a+"px",E.cacheID=k.cache,tB()}return!0}E.offset&&s(),d=!0}()||1.05<M&&"touchstart"!==e.type||o.isGesturing||e.touches&&1<e.touches.length},i.onPress=function(){d=!1;var e=M;M=Z((eO.visualViewport&&eO.visualViewport.scale||1)/C),p.pause(),e!==M&&t7(x,1.01<M||!$&&"x"),f=T(),m=E(),r(),u=tN},i.onRelease=i.onGestureStart=function(e,i){if(E.offset&&s(),i){k.cache++;var n,r,o=A();$&&(r=(n=T())+-(.05*o*e.velocityX)/.227,o*=t5(T,n,r,ei(x,B)),p.vars.scrollX=L(r)),r=(n=E())+-(.05*o*e.velocityY)/.227,o*=t5(E,n,r,ei(x,H)),p.vars.scrollY=R(r),p.invalidate().duration(o).play(.01),(eQ&&p.vars.scrollY>=l||l-1<=n)&&eI.to({},{onUpdate:a,duration:o})}else g.restart(!0);_&&_(e)},i.onWheel=function(){p._ts&&p.pause(),1e3<td()-D&&(u=0,D=td())},i.onChange=function(e,i,n,a,o){if(tN!==u&&r(),i&&$&&T(L(a[2]===i?f+(e.startX-e.x):T()+i-a[1])),n){E.offset&&s();var l=o[2]===n,c=l?m+e.startY-e.y:E()+n-o[1],h=R(c);l&&c!==h&&(m+=h-c),E(h)}(n||i)&&tB()},i.onEnable=function(){t7(x,!$&&"x"),tV.addEventListener("refresh",a),em(eO,"resize",a),E.smooth&&(E.target.style.scrollBehavior="auto",E.smooth=T.smooth=!1),P.enable()},i.onDisable=function(){t7(x,!0),eg(eO,"resize",a),tV.removeEventListener("refresh",a),P.kill()},i.lockAxis=!1!==i.lockAxis,((o=new G(i)).iOS=eQ)&&!E()&&E(1),eQ&&eI.ticker.add(Y),g=o._dc,p=eI.to(o,{ease:"power4",paused:!0,inherit:!1,scrollX:$?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:eP(E,E(),function(){return p.pause()})},onUpdate:tB,onComplete:g.vars.onComplete}),o}(e);return eY&&eY.target===i.target&&eY.kill(),Q(i.target)&&(eY=i),i},tV.core={_getVelocityProp:d,_inputObserver:tj,_scrollers:k,_proxies:O,bridge:{ss:function e(){tf||tk("scrollStart"),tf=td()},ref:function e(){return eG}}},J()&&eI.registerPlugin(tV),e.ScrollTrigger=tV,e.default=tV,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default});